航空计测技术
AVIATION METROLOGY & MEASUREMENT TECHNOLOGY
1999年 第1期 No.1 1999



一种用于热校准风洞的
数据采集系统集成及软件设计
张　强
摘　要　简要介绍了研华ADAM4000系列模块的性能及其特点，并详细阐述了利用该系列模块组成一种用于热校准风洞的数据采集系统以及LABTECH CONTROL组态软件包在整个系统中的应用。众所周知，很难用精确的数学模型对地形进行描述，因而不便用解析方法对其进行评估，一种行之有效的方法是通过计算机进行数字仿真。目前，数据采集系统的种类多种多样，普通的数据采集系统采用板卡结构，传感器信号直接与板卡相联，通过计算机控制板卡的数据采集，这就存在一个问题：传感器信号在传输过程中很容易受到外界的干扰，引起测量数据的不准确。另外，还有一种数据采集系统，它采用的是模块化设计，根据不同的测试参数设计出不同的模块，这种模块便于现场采集数据，抗干扰能力比较强，传感器信号通过模块内部将模拟信号转换成数字信号再传给计算机，由于数字信号不受外界环境的干扰，被测数据的准确度大大增加。相应的软件系统也有多种开发途径。一是采用传统的软件开发工具如C++等开发自己的应用程序，但是开发周期长、困难多，且在今后的维护工作存在着问题;二是采用组态软件包开发，组态软件开发周期短、易维护、易扩展，因而值得推广。球头圆柱体（虚线示）由于其光滑的表面没有其余三种物体那样的空间不连续点，所以RCS随方位角的波动最小，且在0°方向的RCS值最低；由此可以估计，具有类球头柱体形状的常规飞机的机身和导弹在低频区或谐振区的散射，有可能低于采取RCS减缩措施的现代战斗机的散射，或至少在同一量级。该系列模块提供信号调理、隔离、调整量程、A/D和D/A转换、数据比较及数据通讯功能，某些模块还可以数字量I/O控制继电器及TTL器件。ADAM模块能连接到计算机并与之通讯。采用RS―485传输标准，并用ASCII式通讯。RS―485 网络提供较低噪声传感器读入，主计算机通过ADAM RS―232/RS―485转换器,用一个COM通讯端口连到RS―485网络。


图2　Eθ入射时的RCS方位分布曲线
―――――圆柱体　……………球头柱
*****锥头柱　-*-*-扁棱柱


图3　EΦ入射时的RCS方位分布曲线
―――――圆柱体　……………球头柱
*****锥头柱　-*-*-扁棱柱
　　从垂直(Eθ)和水平（EΦ）两种极化波分别入射时的计算曲线可见，对于长度2～3米、直径1米左右的四种不同外形的金属物体，当观察方位角从0°～90°变化时，其散射截面分布基本在-10～10dBsm范围内。然后根据模块的配置将数字量变换成工程单位、十六进制表示的二进制补码或满量程的百分数。当主计算机提出请求时，转换后的数据通过标准的RS―485接口送给主计算机。
　　对每一种试验情况，通过统计试验(Monte-Carlo)法，进行了400次仿真试验，并经数据的统计处理和回归分析，所得结果如图3.2所示。通过提供A/D输入的光电耦隔离和变压器隔离，转换器的隔离电压达500 V DC，该系列模块能防止电源对地干扰和电源浪涌。
　　主题词　地形辅助导航　仿真　评估　卡尔曼滤波　坡度标准差　地理信息系统　圆概率误差
POSITIONING ACCURACY EVALUATION OF 
A TERRAIN-AIDED NAVIGATION SYSTEM 
UNDER DIFFERENT TYPES OF TERRAIN
Su Kang　Guan Shiyi
(The 3rd Research Academy,CASC*Beijing*100074)
Liu Jian　Zhang Jixian
(Institute of Image Recognition & AI,HUST*Wuhan*430074)
　　Abstract　How to select appropriate type of terrain for a terrain-aided navigation system using continuous Kalman updating technique is a complicated problem encountered in practical applications.The system simulation models have been built,then terrain data analysis has been carried out on the ARC/INFO GIS software platform.Finally,the system performance under different types of terrain has been evaluated by a large number of computer simulations.The criterion for selection of terrain required for good navigation performance can be derived from the valuation results.
　　Key words　Terrain-aided navigation Simulation　Evaluation Kalman filtering　Standard variance of slope　Geographical Information System(GIS)　Circular error probable(CEP)
1　引言
　　地形辅助导航(Terrain-aided Navigation(TAN))系统是近十几年出现的一种新型的导航系统，其主要功能是利用地形的特征信息实现飞行器自主、隐蔽、连续、全天候的精确导航，因此，该系统在无人和有人驾驶飞行器上得到实际的应用。
　　在“热校准风洞”的数据采集系统中,主要用到的是模拟量输入模块和通讯模块，模拟量输入模块主要包括：ADAM―4011、ADAM―4012、ADAM―4013、ADAM―4017、ADAM―4018;通讯模块包括：ADAM―4510、ADAM―4520。
1.1　模拟量输入模块
　　1) ADAM―4011接收的模拟量输入有
　　a.J、K、T、E、R、S和B型热电偶
　　b.毫伏级电压输入：±15 mV，±50 mV，±100 mV，±500 mV
　　c.伏级电压输入：±1 V，±2.5 V
　　d.电流输入：±20 mA
　　并提供一个热电偶输入通道和一个模拟量输入通道。因此，本文用坡度标准差(stdslp)作为特征来描述不同类型的地形，并研究该特征参数和系统定位精度(CEP)的关系。
　　3) ADAM―4013接收来自铂、镍RTD（电阻式温度探测器）的输入,并提供一个模拟量输入通道。
　　4)ADAM―4017接收同ADAM―4012,并提供八个模拟量输入通道。由于微机内存和速度的限制，用矩量法对散射问题的计算分析仅限于宏观尺度为几个波长的物体。
1.2　通讯模块
　　1)ADAM―4520
　　ADAM―4520是RS―232/RS―485转换器，当计算机有RS―485接口时，就可以直接连到网络上。如果没有RS―485接口，就可以用ADAM―4520将计算机的RS―232转换成RS―485。
　　2)ADAM―4510
　　ADAM―4510是RS―485中继器，有两种情况需要使用中继器：
　　a.连接的模块数超过16个;
　　b.接到模块的连接线太长。
　　在上述两种情况下，ADAM―4510可扩展网络功能。通过采用中继器，连接模块的数量最多可以达到256个，而网络的跨度可以延伸1200 m。由于ADAM4000系列模块是通过RS―485协议进行通讯，数据是通过数字量进行传输，这样就避免了信号在传输过程中的干扰和损失。另外，还有一个好处是ADAM4000系列模块可以放在现场进行采集，安装也非常方便，灵活性、机动性非常好。
2　LABTECH CONTROL组态软件包
　　工业控制是计算机应用的一个重要领域，在这个领域内一般各用户自己开发各自专门的软件;因此，当应用对象发生变化时，往往需要重新开发软件，工作量很大。现在，为了方便开发计算机应用系统，有很多菜单驱动的具有通用性的组态软件问世。我们所用的LABTECH CONTROL组态软件包（以下简称LT）就是其中之一，LT软件包是美国的LABTECH公司生产的，该软件功能强、组态灵活,在实时性和通用性等方面都优于一般的软件，该软件包括DOS和WINDOWS两种版本，在功能上两种版本是一样的，这里以介绍WINDOWS版本为主。该系统由惯导系统、雷达高度表、气压高度表、数字地图和卡尔曼滤波器五部分组成。LT按照菜单中的组态条件规定的采样频率,从I/O设备通道中读取数据，并存于RAM缓冲区。如果有控制输出，则处理后的输出数据放于相应的内存，然后按照组态条件规定的采样频率向I/O设备送出。当处理器在两次从I/O采样之间有间隙时，LT出空RAM缓冲区将数据写入磁盘;当处理器在I/O采样和写盘之间有间隙时，LT刷新屏幕显示。
2.3　LT的菜单登录功能
　　LT的所有软件皆是菜单驱动软件，都有一套完整、灵活、容易掌握的菜单系统。用户不必掌握专门的命令，通过菜单就可以生成应用系统，并且执行数据采集和过程控制，也可以通过菜单驱动新的硬件设备，设置软件环境以及在线数据分析。用户通过光标键和回车键选择命令，在任何一级菜单，一按ESC键就回到它的上级菜单。
3　数据采集系统的开发和应用
　　用ADAM4000系列模块组成热校准风洞的数据采集系统，软件利用LT软件包开发。本文将上述两类问题抽象成对柱状体的散射分析问题，因为普通飞机机身、导弹、航炮及空速管等突起物从宏观上都与柱体接近。
3.1　硬件配置时容易出现的问题
3.1.1　关于ADAM4000系列模块的接口问题
　　ADAM4000系列模块在投入使用之前,必须通过一个初始化程序（ADAM）对其进行初始化配置，内容包括模块的地址、量程等。
　　从系统模型可见，地形对导航定位精度的影响表现为地形拟合面的斜率变化对导航定位精度的影响。如果ADAM4000系列模块与计算机的COM1相连，则bass address即为1;如果ADAM4000系列模块与计算机的COM2相连，则bass address即为2。介绍了低频散射截面的计算方法；对计算结果进行了分析；并就雷达目标低频散射特性提出了作者的观点。
3.1.2　模块采样速度的设置
　　对于ADAM4000系列模块由于其硬件本身最高采样频率是10 Hz，所以尽管计算机的主频率很高，但对于ADAM4000系列模块只能在它所允许的范围内设置采样频率，也就是说,10 Hz是ADAM4000系列模块的采样极限，如果一个系统配置了n个该系列模块，则采样频率为10/n Hz。
2　散射截面的计算
　　金属表面满足的电磁场积分方程［3］可分为横电波入射（TE）和横磁波入射（TM）两种情况。
3.2　使用LT软件包时容易遇到的问题
　　使用Replay块（重现块）时，所需重现点数不能超过数据文件长度。在使用某些计算块时，需要注意的是模块号码，如使用SUM（X…Y）计算块时，X…Y表示的是从X块到Y块所有模块的值相加，也就是说从X块到Y块必须是连续的。另外，在使用X…Y计算块时,要注意该菜单页X、Y的顺序;某些计算块需使用参数r，r值一定要设置对。组态功能使得在试验过程中，有时需要观察移测偶在核心区的曲线分布。LT 软件包中TRACES菜单里包含有各种跟踪类型，如：T vs.Y、X vs.Y水平条、垂直条、数字表等，可以根据不同的需要选择不同的跟踪类型。
　　总之，使用ADAM4000系列模块和LT软件包能够方便地组成一套功能较齐全、使用方便的数据采集系统，特别是避免了数据在传输过程中受到干扰。软件的组态功能为工作人员的维护工作提供了便利。
27岁　男　助理工程师　读者服务卡索引号： 114
作者单位：长城计量测试技术研究所,北京市,100095
参考文献
　[1]　工业控制领域最流行的软件包LABTECH汇编
　[2]　LABTECH Hardware Interface Guide
　[3]　ADAM4000系列数据采集模块用户手册
1998-08-17收稿
