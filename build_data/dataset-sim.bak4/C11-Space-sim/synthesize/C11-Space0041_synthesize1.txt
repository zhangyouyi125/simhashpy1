这两个最大值代表了落锤冲击板过程中的接触瞬时速度和脱离瞬时速度,其动能差值可用公式(2)计算,它消耗于材料的损伤航空计测技术
AVATIN METROLOG & MEASUREMENT TECHNOLOGY
1999年 第1期 No.1 1999



一种用于热校准风洞的
数据采集系统集成及应用软件设计
张　强
摘　要　简要介绍了研华系列组件的性能及其特点，并详细阐述了利用该系列模块组成一种用于热校准风洞的数据采集系统以及LABTECH CONTROL组态在整个系统中的应用。
关键词　模块　组态应用程序　热校准风洞
A Dta Aquisition System Integration and
Design of Software Used in Thermal-Tunnel
Zhang Qiang
　　Abstract　This article describes briefly the performance and the characteristics of ADVANTECH's modules of ADAM4000 series,and demonstrates in details how to construct a data acquisition system used in Thermal-Tunnel as well as the application of the LABTECH CONTROL configuration software  in the whole system.
　　Key words　Data acquisition system,Module,Configuration software package,Thermal-Tunnel

　　
　　热校准风洞的测试参数包含许多种，如温度、压力、电压、电流、、流等，整个试验过程比较烦琐，为了提高动态测试的精度以及减少信号在传输过程中的损失，在选择数据采集系统时要仔细考虑。由此得到的探针表面电流密度为:

(1)
Ne为末扰的等离子体电荷密度;Rp/λD为探针半径与德拜长度之比;Ti/Te为无量纲的离子电流修正因子;Xp为归一化的探针电位。另外，还有一种数据采集系统，它采用的是模块化设计，根据不同的测试参数设计出不同的模块，这种模块便于现场采集数据，抗干扰能力比较强，传感器信号通过模块内部将模拟信号转换成数字信号再传给电脑，由于数字信号不受外界环境的干扰，被测数据的准确度大大增加。相应的软件系统也有多种开发途径。一是采用传统的软件开发工具如C++等开发自己的应用程序，但是开发周期长、困难多，且在今后的维护工作存在着问题;二是采用组态软件包开发，组态软件开发周期短、易维护、易扩展，因而值得推广。
1　数据采集系统――ADAM4000系列模块
　　台湾研华公司生产的ADAM4000系列数据采集模块是一种模块内内置微控制器，传感器到电脑接口的智能设备。
　　在上述两种情况下，ADAM―4510可扩展网络功能。ADAM模块能连接到计算机并与之通讯。。该系列模块提供信号调理、隔离、调整量程、A/D和D/A转换、数据比较及数据通讯功能，某些模块还可以数字量I/O控制继电器及TTL。通过数值实验研究,讨论了负载平衡、不同的网格规模对加速比的影响。
1.1　模拟量输入模块
　　1) ADAM―4011接收的模拟量输入有
　　a.J、K、T、E、R、S和B型热电偶
　　b.毫电压输入：±15 mV，±50 mV，±100 mV，±500 mV
　　c.伏级电压输入：±1 V，±2.5 V
　　d.电流输入：±20 mA
　　并提供一个热电偶输入通道和一个模拟量输入通道。当主计算机提出请求时，转换后的数据通过标准的RS―485接口送给主计算机。模拟量输出模块提供信号调理、A/D转换、调整量程及RS―485接口的通讯功能。通过提供A/D输入的光电耦隔离和变压器隔离，转换器的隔离电压达500 V DC，该系列模块能防止电源对地干扰和电源浪涌。。
　　在“热校准风洞”的数据采集系统中,主要用到的是模拟量输入模块和通讯模块，模拟量输入模块主要包括：ADAM―4011、ADAM―4012、ADAM―4013、ADAM―4017、ADAM―4018;通讯模块包括：ADAM―4510、ADAM―4520。由于ADAM4000系列模块是通过RS―485协议进行通讯，数据是通过数字量进行传输，这样就避免了信号在传输过程中的干扰和损失。软件的组态功能为工作人员的维护工作提供了便利。
　　3) ADAM―4013接收来自铂、镍RTD（电阻式温度探测器）的输入,并提供一个模拟量输入通道。
　　4)ADAM―4017接收同ADAM―4012,并提供八个模拟量输入通道。。
1.2　通讯模块
　　1)ADAM―4520
　　ADAM―4520是RS―232/RS―485转换器，当计算机有RS―485接口时，就可以直接连到网络上。如果没有RS―485接口，就可以用ADAM―4520将计算机的RS―232转换成RS―485。。RS―485 网络提供较低噪声传感器初始化，主计算机通过ADAM RS―232/RS―485转换器,用一个COM通讯端口连到RS―485网络。通过采用中继器，连接模块的数量最多可以达到256个，而网络的跨度可以延伸1200 m。
　　模拟量模块采用微处理器控制的集成A/D转换器，将传感器电压、电流、热电偶或RTD信号转换成数字量。另外，还有一个好处是ADAM4000系列模块可以放在现场进行采集，安装也非常方便，灵活性、机动性非常好。
2　LABTECH CONTROL组态软件包
　　轻工业控制是计算机应用的一个重要领域，在这个领域内一般各自己开发各自专门的软件;因此，当应用对象发生变化时，往往需要重新开发软件，很大。
2.1　LT的主要性能
　　.过程监督管理
　　.报警监督和控制
　　.实时数据显示
　　.数据记录和保存
　　.过程控制
　　.容错功能
2.2　LT的工作原理
　　在正常模式下，数据通过不同的I/O设备接口，从不同的模块中读入数据，还可以将收集到的数据存入磁盘和显示。我们所制的LABTECH CONTROL组态软件包（以下简称LT）就是其中之一，LT软件包是美国的LABTECH公司生产的，该软件功能强、组态灵活,在实时性和通用性等方面都优于一般的软件，该软件包括DOS和WINDOWS两种版本，在功能上两种版本是一样的，这里以介绍WINDOWS版本为主。
作者单位：杨德明　潘进　卓钺　万红　费肖卿　尹新方　(国防科技大学材料工程与应用化学系．长沙．410073)盛祖铭　钟馥卿　孙继桐(中国运载火箭技术研究院总体设计部．北京．100076)
参考文献
　[1]Yang D M,Yin X F,Pan J.Continuous yarn fiber reinforced aluminium composites prepared by ultrasonic liquid infiltration method.J of Materials Science Letter,1993,12:252
　[2]魏克泰,杨德明,赵恂,姜冀湘.热压SiC/Al复合材料强度及强度保留率.见:第六届全国复合材料学术会议论文集,北京,1990,2:45
　[3]Towata S,Yamada S.Mechanical properties of aluminum alloy composites with hybrid reinforcements of continuous fiber and whisker or particulate.In:Composites'86:Recent Advances in Japan and the United States,Kawata K.et al Ed.,Proc.Japan-U.S.CCM-Ⅲ,1986,Tokyo:497
　[4]王祝堂等译,L.F.蒙多尔福著.铝合金的组织与性能.北京:冶金工业出版社,1988
　[5]吴运学,张涛.SiCp/LY12复合材料在不同温度下的力学性能和断口特征.见:第六届全国复合材料学术会议论文集,北京,1990,2:68
收稿日期:1996年6月3日,修回日期:1997年7月3日
。LT按照菜单中的组态条件规定的采样频率,从I/O设备通道中读取数据，并存于RAM缓冲区。如果有控制输出，则处理后的输出数据放于相应的内存，然后按照组态条件规定的采样频率向I/O设备送出。当处理器在两次从I/O采样之间有空隙时，LT出空RAM缓冲区将数据写入磁盘;当处理器在I/O采样和写盘之间有间隙时，LT刷新屏幕显示。现在，为了方便开发计算机应用系统，有很多菜单驱动的具有通用性的组态软件问世。用户不必掌握专门的命令，通过菜单就可以生成应用系统，并且执行数据采集和过程控制，也可以通过菜单驱动新的硬件设备，增设软件环境以及在线数据分析。用户通过光标键和回车键选择命令，在任何一级菜单，一按ESC键就回到它的上级菜单。
3　数据采集系统的开发和应用
　　用ADAM4000系列模块组成热校准风洞的数据采集系统，软件利用LT软件包开发。热校准风洞的测试参数包括温度、压力、电压、电流等，数量近100个，要想把这么多数据采进计算机,首先要针对各种测试参数的数量合理地分配数采模块，然后再根据各测量点的位置合理地安置模块，通过双绞线将各种模块连接在一起，最后通过LT软件包编制应用程序。
3.1　硬件配置时容易出现的问题
3.1.1　关于ADAM4000系列模块的接口问题
　　ADAM4000系列模块在投入使用之前,必须通过一个初始化程序（ADAM）对其进行初始化配置，内容包括模块的地址、量程等。初始化之后，再在LT软件中对ADAM4000系列模块进行硬件安装，在安装时需要注意的是bass address一定要设置对，对于ADAM4000系列模块,其bass address 对应的是它与计算机连接的串口号码。如果ADAM4000系列模块与计算机的COM1相连，则bass address即为1;如果ADAM4000系列模块与计算机的COM2相连，则bass address即为2。另外,在Block菜单中，接口通道一定要写对，对于单通道模块如ADAM―4011、ADAM―4012、ADAM―4013等，接口通道号即是在初始化时设定的地址号码;对于多通道模块如ADAM―4017、ADAM―4018，其接口通道是一个四位数，前两位表示的是该模块初始化时设定的地址号码，后两位表示的是该模块选中的通道，例如:一块ADAM―4018，其初始化地址为03，如果此时选中第0号通道，则在Block菜单中接口通道号即为300;如果选中的是第3号通道，则为303;如果一块ADAM―4011，其初始化地址是02，因为它是单通道模块，所以它的接口通道号为2。
3.1.2　模块采样速度的设置
　　对于ADAM4000系列模块由于其硬件本身最高采样频率是10 kHz，所以尽管计算机的主频率很高，但对于ADAM4000系列模块只能在它所允许的范围内设置采样频率，也就是说,10 Hz是ADAM4000系列模块的采样极限，如果一个系统配置了n个该系列模块，则采样频率为10/n Hz。
　　LT软件包的组态功能较为强大，它的各个功能软件的开发应用，都能基于下拉式菜单或弹出式菜单以及填充方块、功能键的选择，组态功能使得监控管理对象的增加、修改、删除变得很简单，对今后非开发人员的维护工作提供了极大的便利。
3.2　使用LT软件包时容易遇到的问题
　　使用Remix块（重现块）时，所需重现点数不能超过数据文件长度。在使用某些计算块时，需要注意的是模块号码，如使用SUM（X…Y）计算块时，X…Y表示的是从X块到Y块所有模块的值相加，也就是说从X块到Y块必须是连续的。另外，在使用X…Y计算块时,要注意该菜单页X、Y的顺序;某些计算块需使用参数r，r值一定要设置对。组态功能使得在试验过程中，有时需要观察移测偶在核心区的曲线分布。LT 软件包中TRACES菜单里包含有各种跟踪类型，如：T vs.Y、X vs.Y水平条、垂直条、数字表等，可以根据不同的需要选择不同的跟踪类型。
　　总之，使用ADAM4000系列模块和LT软件包能够方便地组成一套功能较齐全、使用方便的数据采集系统，特别是避免了数据在传输过程中受到干扰。
　　2)ADAM―4012接收
　　a.毫伏级电压输入：±150 mV，±500 mV
　　b.伏级电压输入：±1 V，±5 V，±10 V
　　c.电流输入：±20 mA
　　并提供一个模拟量输入通道。
27岁　男　助理工程师　读者服务卡索引号： 114
作者单位：长城核算测试技术研究所,北京市,100095
参考文献
　[1]　工业控制领域最流行的软件包LABTECH汇编
　[2]　LABTECH Hardware Interface Guide
　[3]　ADAM4000系列数据采集模块用户手册
1998-08-17收稿
