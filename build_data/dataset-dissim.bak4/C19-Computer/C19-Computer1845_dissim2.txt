微型机与应用
MICROCOMPUTER & ITS APPLICATIONS
2000 Vol.19 No.2 P.53-54




微机硬盘引导扇区故障的解析与修复
张红
摘 要： 对硬盘引导扇区的内容、功能加以分析，讨论其发生故障的现象、原因和修复方法。
关键词： 硬盘 主引导扇区 引导扇区 扇区故障
　　硬盘具有体积小，容量大，存取速度快，记录密度高的特点，由于硬盘内磁盘的盘片和磁头都被密封，硬盘制造时空气要通过高效过滤口才能进入密封室内，所以硬盘的硬故障，即物理损坏，如盘片划伤，驱动器控制系统损坏等发生率大大低于另一种软故障，如病毒感染，配置不当等软件故障，而许多软故障多与硬盘上的引导扇区的内容有关。小臂以肘为轴运动，手以腕为轴转动，二部分同时转动完成人手的各种动作。
1 硬盘主引导扇区及引导扇区
　　硬盘的主引导扇区是位于硬盘的0柱面，0磁头，1扇区，它是由硬盘的低级格式化程序生成，其内容有3部份：（1）主引导程序（主引导记录MBR），（2）4个分区项，（3）结束标志字（55AA）。首先从花型数据库中读1个数据。硬盘主引导记录（MBR）是不属于任何1个操作系统的，它先于所有操作系统而被调入内存并发挥作用。
1 机械及微机系统硬件结构
1．1 机械部分
　　机械主要有刀具、小臂、大臂和机身4大部分。引导扇区是指硬盘中DOS分区开始的第1个扇区，即逻辑驱动器的第1个扇区又称BOOT区，经由FORMAT高级格式化写到该扇区，有5部分组成，即：（1）跳转指令，（2）厂商标识和DOS版本号，（3）BPB，（4）DOS引导程序，（5）结束标志字（AA55）。同样以配合点的垂线为轴转动。其主要任务是重新设置引导驱动器，将根目录的第1个扇区装载到内存，检查FDT中的前2个文件是否为DOS的2个系统文件引，装载DOS系统隐藏文件I0．SYS和IBMI0．COM装载到内存。
2 硬盘引导扇区引导失败的修复
　　引起系统不承认硬盘或硬盘不能自举的原因大多是关键程序区和数据区信息损坏等软故障造成的。因此另一定时器计时初始值应由程序每次计算。用户大都可以根据屏幕上出现的提示信息来判断引起故障的原因。概括起来可分为：CMOS数据参数丢失。硬盘引导区，主引导记录MBR损坏，硬盘DOS引导区引导记录（DBR）出错3种。

图3　脉冲波形图
　　将θ1和θ2数据同时读出来，判断θ1和θ2的最高位D7来控制步进电动机正转还是反转。
　　最直接的修复方法是：用FDISK重新分区，以形成正确的分区表，然后再用FORMAT命令重新建立引导记录，但这样会使所有数据全部丢失。我们可以利用DEBUG程序来完成修复工作，而原有数据不会受损。否则将损坏产品。时钟频率为晶体振荡频率的一半，且机器周期是时钟周期的6倍。若主引导记录被破坏，可从另外一台启动正常、干净无毒且与有故障微机的硬盘分区相同的微机中获取未被破坏的主引导记录，再写回原硬盘。此机械手共有4个自由度。 
　　其一般故障有： 
　　MISSING OPERATION SYSTEM 
　　NON－SYSTEM DISK OR DISK ERROR 
　　DISK BOOT FAILURE 
　　BAD OR MISSING COMMAND LNTERPETER
　　出现故障后，可用含有与原硬盘上操作系统版本相同的A盘启动后，在A＞提示符下运行：
　　A＞ SYS C：
　　当屏幕出现SYSTEM TRANSFERED时，表示系统文件传输成功。若出现：
　　NO SYSTEM ON DEFAULT DRIVE
说明执行命令的当前盘上，没有原启动计算机的DOS版本的3个系统文件。让2个定时器都工作在中断定时状态，来完成θ1和θ2 2脉冲波的产生。
张红（辽宁省卫生职工医学院计算机室110005）
收稿日期：1999－08－16
