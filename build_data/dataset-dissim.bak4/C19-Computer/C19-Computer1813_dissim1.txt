微型机与应用
MICROCOMPUTER & ITS APPLICATIONS
2000　No.19　No.1　P.42，45




一种微电机实时测速方法
姜卫东
摘要： 一种新的微电机实时测速方法以及基于这种方法实现的测速设备的设计思想、系统结构及功能。
关键词：微电机 实时测速 采集卡
　　检验微电机质量的关键在于检测其转速变化曲线、电流变化情况、电机在负载和空载时的转速变化情况。传统的测量方法一般可以分为3步，即：（1）利用光电技术产生1组与转速对应的方波；（2）通过计数仪对方波计数；（3）与基准时间比较得出在一段时间内电机的平均转速值。
　　密匙产生后，就可以用各种标准的加密方法进行加密运算，如DES算法。首先，由于这种方法计算的转速是对一段时间内方波数量的计数，得出的是一段时间内电机的平均转速，因而它不能实时测量电机的转速，无法得到准确的电机的时间－转速曲线；其次，当电机低速转动时，测量精度低。启动参数和同步策略就是密码。应用层与加密层分离，互不影响。
5 讨论和展望
　　本文探讨了在Web网上，JavaApplet客户与Java服务器之间的混沌线程之间的动态同步加密通信等问题。系统工作流程如下：
　　微电机通过多功能转换头与微电机转速光电转换器相连接，电机每转动1转则产生1个一定宽度的脉冲，因此，微电机转速光电转换器输出1组与电机转速对应的脉冲串，脉冲串被AD采集卡按给定的速率采集，同时被采集的还有微电机电流，采集的数字量通过接口电路传送到计算机，计算机根据采样速率和每个方波的采样点数计算微电机每1转的转速和与此对应的工作电流，并给出转速时间曲线和电流时间曲线。
　　整个过程由计算机控制，计算机发出开始指令，通过接口电路对AD采集卡和光电转换器复位，光电转换器接通微电机电源，微电机开始工作。相关分析法可以有效地分析并重构伪随机序列，实现破译。客户端得以简化，适合在网络上迁移。因此混沌加密的实质是用它难以预测的变化趋势来加密，而不是用1个难猜的数。系统主要完成以下功能：（1）实时测量转速；（2）实时测量电流；（3）可变精度测量；（4）系统的显示、打印、统计、分析等。
2 设计思想
2.1 可变速率AD采集卡
　　AD卡为双通道可变速率采集卡，采集芯片采用多通道复用芯片，以实现对转速方波和电流信号交叉采集（即奇数点采集转速信号，偶数点采集电流信号），这样采集的好处是保证微电机的转速和电流在同一时刻是一一对应的。通道间转换由外部数据指定。
2.3 Java混沌对象与混沌线程
　　混沌加密运算是保密通信的关键。在需要的情况下也可以由计算机设定只采集某1路信号。AD卡的可变采样速率是通过改变时钟频率来实现的；晶体振荡器输出的脉冲通过16进制计数器分频，输出2、4、8、16 4路分频结果，把这4路分频结果与时钟信号输入至模拟开关，模拟开通断情况由寄存器控制，模拟开关的输出与采集芯片的时钟引脚连接。采集卡的结构框图如图2所示。本文采用计算机实现混沌系统，可以回避构造物理同步混沌系统时面临的技术难题。接口电路主要完成地址选择，数据的出入以及发送控制命令。其结构框图如图3所示。

图3 接口电路框图时钟
2.3 软件设计
　　微电机测速系统软件包括5个部分，分别为：系统设置、数据处理、报表统计、打印输出、帮助信息。
　　系统设置：包括采集数据长度设置、采集时间设置、触发方式设置、数据处理结果显示设置、图形显示方式及种类设置等。
　　数据处理：包括对本次测量结果分析和本次前多个测量结果的统计分析，以得出关心的参数（稳定转速、稳定转速方差、前多个测量结果分布图等）。
　　报表统计：完成数据库报表统计功能。如1天或1个月检验情况报表输出。
　　打印输出：完成某1次测量分析结果的参数和图、表输出及报表输出。
　　帮助信息：提供必要的软件使用说明。
　　本文提出的微电机实时测速方法不但克服了传统微电机测速的缺点，而且具有功能完善、结构简单、设备成本低、使用灵活方便等特点。会晤时，用户在各自本地的计算机上用浏览器访问加密Web会议服务器，ChatApplet会随同主页一起被下载，在浏览器的虚拟机中运行，并连接服务器。
姜卫东（长沙国防科技大学电子工程学院ATR室410073）
收稿日期：1999－08－27
