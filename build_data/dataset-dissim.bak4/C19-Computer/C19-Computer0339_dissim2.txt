计算机应用
COMPUTER APPLICATIONS
1999年 第19卷 第9期 Vol.19 No.9 1999



一种实时过程控制中的数据挖掘算法研究
杨学兵　刘胜军　蔡庆生
　　摘　要　计算机在工业生产过程控制中的应用已十分广泛，因此这一领域的数据挖掘方法研究也具有十分重要的意义。本文将根据这一领域的特殊情况，提出一种实时有效的自动数据挖掘算法，以便使计算机能在实时过程控制中自动挖掘，并根据挖掘的结果进行趋势预测。
　　关键词　网络结构，网络连接
1　引言
　　随着Internet的普及，越来越多的单位或企业纷纷将自己的企业网与Internet网连接，这样就给企业网络管理带来了许多问题：安全问题，配置管理，计费管理等。在这一领域中，目前已有了大量的知识发现算法，大部分算法都能从数据库中发现有效的知识，由于算法的设计目标是从各种类型的大中型数据库中挖掘知识，具有一定的通用性，但算法效率较低，难以满足工业生产过程中的实时性要求，很难直接用于实时过程控制中。我们曾多次参与实时过程中的数据采集及控制软件的开发，在受到基于范例推理CBR(Case Based Reasoning）方法［1］及KDD中序列模式发现(Sequential Pattern Mining)［2］［3］［4］［5］的启发下,考虑到实时过程控制中的特殊性，给出了实时过程控制中的数据挖掘算法DMRP(Data Mining in Real-time Processing)。
　　工业生产过程控制是很特殊的一个领域，计算机在其中多数起着数据采集、状态监测和实时控制的作用，这一过程中同样会产生大量的实时采集数据（如电流、电压、温度、气压、流量、电机转速、开关量等），人工一般是很难理解这些数据及其关系的，更不用说及时地总结并进行预测了，如果能让计算机自动实时地从产生的数据中抽取知识或规则，并利用获得的知识对即将进行的过程进行估计预测，或根据已获得的知识对发生偏离的过程进行实时纠正，那么将会收到更加良好的效果。
　　. SQL Server 6.5数据库服务软件。
　　数据的准确性　生产过程中的数据是直接采集的不落地数据，因此数据准确性高，处理过程中不必考虑数据缺省等情况。
　　杂音数据少　过程控制中考虑到成本问题，采集的信号一般都是经过精心选取的，因此对过程控制没有直接影响的信号通常是不会被采集的。
2.2　问题的形式描述
　　生产过程的一个周期所产生的有序采集数据称之为一个序列（Sequence），它包含了从周期开始到周期结束期间各时刻(t)的采集值，每个时刻t的采集值是相应时刻的一个状态值集St(Status-Set),St={st1,st2,．．．,stm}。每个完整序列我们也称之为一个范例(Case)。
　　设数据集D={Case1,Case2,．．．,Casen}，它表示一个已采集的范例的集合，Casei表示第i个周期所对应的范例，1≤i≤n，Casei={Sti1,Sti2,．．．,Stik}，k为一周期中共采集的状态数，Stih={st1,st2,．．．,stm}表示第i个范例序列中第h个项，1≤h≤k，st1,st2,．．．,stm为第i范例序列中h时刻采集的各状态值。
3.2　系统软件的构成和功能
　　在代理服务器这台计算机中需要安装如下软件：
　　. Window NT4.0 Server版操作系统（附加 Pack 3包）。S′本质上是D的一个投影，Si′={Sti1,Sti2,…,Stim}。
　　再设序列集S={S1,S2,．．．,Sv}，其中Si={Sti1 U {c1},Sti2 U {c2}，…，Stip U {cp},…,Stik U {ck}},1≤i≤v，1≤p≤k，其中，cp为子序列{Sti1,Sti2,…,Stip}在D中重复的总次数。
　　本算法的目的主要是从集合D中产生出集合S，再利用S来生成规则用以预测。为了说明方便，再定义有关概念如下：
　　. 范例数(case―number),指D中的序列（范例）总个数。
3　计费系统的实现
3.1　实现的环境
　　图4是一个典型的代理计费网络结构,在该图中,装有计费软件代理服务器这台计算机配置二个100M的网卡，一块要与Router连接，网卡置为正规的IP地址，另一块配企业自己定义的内部IP地址跟企业网的主干线连接。
　　. 子序列（sub―sequence）,指范例序列中从第一个元素开始的一个连续元素构成的子集。
　　. k子序列（k―sub―sequence）,指元素个数为k的子序列。
　　. 支持度(support)，指D中子序例的重复次数 / D中总的范例数。
　　. 最低支持度(min―support),指用户给定的一个数，若子序列的支持度大于等于此数，则此子序列为频繁子序列。
　　. 信任度(confidence),一个范例是从周期开始到周期结束的一个完整有序序列（按时间序），若存在这样一个序列，即St1,St2,…,Sti-->Stj,…,Stk,其中1≤i≤j≤k。因此，管理十分方便。
　　. 最低信任度(min―confidence),用户给定的值，某规则的信任度必须大于此值方可视为有效规则，有效规则可用来预测未来趋势。
　　一个单位或企业的网络要想与Internet连接，可以采用两种连接方式，第一种方式，根据自己企业网中计算机数向ISP商申请IP，然后给每一台计算机都配置相应的IP，这样这个企业网中的计算机都可以上Internet，这种企业网络结构如图1所示。
　　解决以上问题最有效的措施是采用计费机制约束入网用户，谁能上网谁不能上网，对每位上网用户详细纪录他们的使用情况，因此用户只有需要时才上Internet，这样才能达到企业网与Internet网连接的真正目的。而对于企业来讲，计费管理是尤为重要的，因为，目前单位或企业要想进入Internet都是向电信局租用X.25或DDN专线入网,其有效带宽从9600-128K不等，并且带宽越宽租用费越贵，还有如果让人们无限制地访问Internet必造成以下问题：
　　企业网出口拥挤，数据传送速度变慢；
　　使急需访问Internet用户得不到保障；
　　费用大量增加。
　　　fi
　　fi
　od
　if Stemp不在S中then
　　S = S U {Sx} 　　　　　　　　　　　　　　　　　　　　　　　　　//将新范例加入S中
　fi
　D=D U {Stemp}
　datacount=datacount+1
　LOOP continue
3.3　DMRP算法
　　if 首次运行 then
　　　call generate―S
　　else
　　　call RTIUPA
　　fi
4　算法分析
　　如果是首次运行，则需扫描数据库一次（调用generate―S），产生集合S，考虑到机器设备的重复性，集合S的元素数量应较少，因此算法执行时间主要是由数据库D的元素个数和每个序列的长度来决定，即时间复杂度约为（n×k）,n为D中例数，k为序列长度。它们的区别在于第一种的Router必须要有IP Accounting功能，否则计费软件不能工作。
注：本文研究得到国家自然科学基金资助。
作者简介：杨学兵　在职硕士研究生。例如，在可这个数据库中建立一个用户表（Proxyuser），该表是由用户名，用户上网日期，用户上网时间，用户上网数据，目标IP地址等构成，当某个用户上网，Proxy就实时地把相关的数据写到这个表中。
刘胜军　在职硕士研究生。研究方向：人工智能、知识发现。
蔡庆生　教授，博士研究生导师。研究方向：人工智能、知识发现。
作者单位：中国科学技术大学计算机科学系　安徽.合肥（230027）
参考文献
［1］　史忠植.高级人工智能.北京：科学出版社，1997,12
［2］　R.Agrawal,R.Srikant. Mining Sequential Patterns.11th,Int′l Conf. on Data Engineering(DE-95),Taipei, Taiwan, March 1995
［3］　R.Srikant,R.Agrawal. Mining Sequential Patterns. Generalizations and Performance Improvements. EDBT-96,Avignon,France,March 1996
［4］　欧阳为民，蔡庆生.在数据库中自动发现广义序贯模式.软件学报，1997;8（11）：864-870
［5］　C.Hidber. Online Association Rule Mining. Technical Report, UCB/GSD-98-1004,Department of Electrical Engineering and Computer Science, University of California at Berkeley
收稿日期:1999-03-18
