计算机应用
COMPUTER APPLICATIONS
1999年 第19卷 第9期 Vol.19 No.9 1999



煤矿安全监视图像数据库系统研究
孟倩　周延　于洪珍
　　摘　要　本文提出了一个将安全监视图像分成背景图像与运动视频图像并分别存储入库以提高图像数据压缩比的思想，并研究了安全监视图像数据库的数据模型，给出了系统结构。
　　关键词　安全监视，图像数据库，数据压缩
RESEARCH ON THE SAFETY MONITORING IMAGE DATABASE SYSTEM IN COAL MINE
Meng Qian
Computer Science Department of Xuzhou Normal University, Jiangsu.Xuzhou 221009
Zhou Yan　Yu Hongzhen
China University of Mining and Technology，Jiangsu.Xuzhou 221008
　　Abstract　In this paper, a method for enhancing the image-compressing rate is proposed. The basic thought of this method is dividing the Safety Monitoring Image into Background Image and Motive Video Image, and inputting these two images separately into the image database after compressing the motive image. This will highly enhance the image-compressing rate. In addition, the data model of the Safety Monitoring Image database is researched, and a kind of system architecture of the image database system is given.
　　Keywords　Safety monitoring image, Image database, Image compression
　　　　作为矿井现代化安全管理的关键一环，很多煤矿安装了电视监视系统，并将电视监视系统与计算机联网。为了将进出某采区的下井人员采样存档，一旦发生事故，可以快速检索在事故现场的井下人员，为紧急救援提供帮助；另外，在事故发生前后一段时间内将现场情况录制下来，以供事故分析和研究，我们进行了主要用来存储各种安全监视图像的安全监视图像数据库系统的研究。该系统是一个特定领域相关的应用系统。
1　安全监视图像的特点
　　安全监视图像有其自身的特点，主要表现在：
　　. 安全监视整体图像变化小，帧相关性极大
　　整个安全监视图像画面可划分为两个区域：
　　背景区　安全监视的摄像头一般安装在固定地点，如主副井、皮带、皮带机头、皮带机尾等，照明灯光基本不变，所以第τ帧的背景区与第τ-1帧的背景区的数据基本相同，这表明两帧背景区的相关性极强，即安全监视的背景区基本上是静止的。
　　此方案的优点有：该IC卡的支付范围大，系统建设统一、规范。
　　. 安全监视一般不考虑音频、视频同步问题
　　从井下和井上传来的安全监视信号中，一般没有音频信号。
2　安全监视图像数据库系统结构
　　系统处理的安全监视图像是具有时空特性的动态影像，由视频帧构成。
　　高校计算机上机管理收费IC卡系统的一个关键技术指标是每一用户卡的平均处理时间。图像库获取的方法是把连续视频按帧采集，以视频帧序列表示视频信号。一段视频图像是由若干帧构成，若干段视频图像序列，构成了一个视频图像库。
　　CPU卡或微处理器卡：在前条基础上增加CPU，有的还带专用的协处理器,如模乘法处理器。
　　为了减少图像数据存储量，我们采取两种措施来进行图像数据压缩：
　　. 将安全监视图像分成背景图像与运动图像两部分，因背景图像已知，所以可事先存入一背景图像库中，即所有图像帧的背景部分在库中只存放一次。
　　. 图像由图像通讯接口录入，通过图像处理模块提取出运动部分，即与背景库不同的部分，经数据压缩后存入运动视频库。
2.2　安全监视数据库系统结构
　　安全监视数据库系统结构如图1所示：

图1　工业电视图像数据库系统结构
　　用户接口　用户接口实际上是用户与图像数据库系统交互的界面和窗口。用户接口首先对用户输入的命令或操作进行检查，把错误信息返回给用户，而将正确的命令或操作变换成系统的内部形式，由数据库管理系统完成命令解释及任务调度。
　　图像通讯接口　以单幅图像的形式从视频源采集进来，送图像管理系统处理。
　　图像数据库管理系统IDBMS　任何数据库系统都离不开数据库管理系统的支持，同样IDBMS是整个安全监视图像数据库系统的核心。目前考虑的应用包括：校内银行、上机管理、教务学籍管理、图书借阅、校医院医疗卡（同时具有急救信息卡功能）、游泳馆管理子系统、校内(小额)消费购物支付、科研经费管理、校宾馆客人的消费结算等。
　　数据词典是关于数据库模式信息的数据库，存放的是各种数据库模式的类型定义，数据库已知性检验的约束规则、各种代码、用户权限等，是IDBMS的一部分。其中, 持卡人标识码采用身份证号的压缩变形。
　　图像处理模块　对于输入到系统的原始安全监视图像，为了减少图像数据的尺寸以便于存储，对它们进行预处理。在背景图像库相应背景图像参与下，提取出运动视频图像，并运用图像压缩技术对其进行压缩，以一定的存储模式存入运动图像库。需要图像输出时，由该模块从背景库中提取背景，从运动视频图像库中提取相应的运动视频图像段，并进行背景图像与运动图像的合成。
　　数据库　数据库部分包括背景图像库、运动视频图像库和常规数据库三部分。比如，提款和高额购物支付要求持卡人提供口令（PASSWORD）；而对于就餐时间十分集中的大学食堂，这种要求通常是服务员和就餐者双方都无法忍受的。
3　安全监视图像数据库数据模型
　　传统的关系数据模型是建立在严格的数学基础――关系代数上，解决了数据库管理中的许多问题。但在管理多媒体数据（如图像、声音、视频等）方面显得力不从心。因此人们开始探讨适合非格式化数据的新的数据模型。根据我们对本系统需求和建设环境的分析,确定了以下的设计目标和技术措施。从表达能力上看，面向对象模型能够对多媒体信息的语义关系，时空关系、空间关系进行更多的模拟，这是一个很有前途和生命力的研究方向。但面向对象技术本身还处于研究发展阶段、缺乏成熟的、一整套的形式化理论作数学基础。因此，利用面向对象技术开发图像数据库或多媒体数据库尚处于研究、探索阶段。每组又分为两种情况，一种“写”是指将这20个字节的内容由全FF写成全00，另一种“写”是将这20个字节的内容由全FF写成0F。
　　在安全监视数据库系统中，可以采用特征描述法，将描述图像的一些信息，如存入日期，时间，操作员，摄像头号，摄像头安装地点等信息输入数据库，在特征信息上进行查询。因此，这是基于结构化数据的简单逻辑条件查询，一般不作基于语义的查询，查询方式较为简单。建立数据模型的原则是简单实用，我们选用了关系模型扩充的图像数据库数据模型。
　　在常规的管理系统中，主要使用的数据类型是数值型、字符型、布尔型、日期型等。安全监视图像数据库扩充了视频图像型，以存放运动视频图像。用关系数据模型管理常规数据，用层次数据模型管理运动视频图像。
4　安全监视图像DB的存储及存取
　　常规数据由于数据量小，可用定长技术处理，因而可以按定长的字段、记录、块三级存储单元方便地组织数据地存储。而图像数据量大，且图像经压缩后其数据量参差不齐，因而不能用定长的字段、记录、块三级存储单元组织存储，这在存储结构上大大增加了复杂度，我们可将存储结构分为两部分。一部分是记录的常规数据及视频图像数据的指针，另一部分是视频图像的多媒体数据。
　　考虑到数据压缩的需要，我们以变长记录VLR作为动态视频图像库的基本结构，低层的变长记录对用户来讲是透明的。这样引入变长记录之后，库长度将变得短得多。在定长记录库文件中查找记录是容易的，用记录大小乘以记录号即可得到一个记录相对字节偏移量，对于变长记录库，由于每个记录长度不变，因此就要利用某种形式的索引。
　　一个视频段中的帧用双链表加以构造，帧索引与帧图像数据是一个变长记录，每个记录用一个基本存储数据的单链表存储。背景图像与运动视频图像分开存放对于用户来说是透明的。如图2所示。
3　校园IC卡应用系统安全设计方法
　　假设我们决定将下列诸多管理与服务功能纳入一个统一的、基于IC卡的管理与服务系统：计算机上机管理与付费, 图书借阅，校医院挂号及付费,工资发放,校内银行业务,学校生活小区内的消费支付,科研经费的管理，复印支付,校宾馆（招待所）客人的消费结算等等。
5　结语
　　本文提出了一个将安全监视图像分成背景图像与运动视频图像并分别存储入库的思想，这将使安全监视图像数据库的数据压缩比获得质的提高。
作者简介：孟倩　硕士，讲师。主要从事多媒体数据库、安全监测监视等的研究及教学工作。
表1　CSCSI―1型读卡器读写速度

Baud“写”内容读写擦擦写擦写读
19200FF→001091098120812081318
　FF→0F109604714714879
9600FF→001091098120812081318
　FF→0F109604714714879


5　结束语
　　校园IC卡系统是第一作者多年的梦想, 曾反映在1990年与王育民合著的《保密学―基础与应用》一书的封面设计中