宇 航 学 报
JOURNAL OF ASTRONAUTICS
1998年  第3期   No.3 May   1998
科技期刊
FDF鲁棒决策方法研究
何英姿　张　兵　吴宏鑫
(北京控制工程研究所*北京2729信箱36分箱*100080)
　　摘　要　故障检测滤波器(FDF)是故障检测与隔离(FDI)方法中一种重要而系统的方法,但到目前为止有关这种方法的研究基本上都基于模型参数精确已知的情况,本文研究了具有模型误差时FDF的鲁棒决策方法,得到了一些有意义的结论。
　　主题词　FDI　FDF　模型误差　鲁棒决策
THE RESEARCH OF FDF ROBUST DECISION METHOD
He Yingzi　Zhangbing　Wu Hongxin
(Beijing Institute of Control Engineering*Beijing 2729 box*100080)
　　Abstract　Fault Detection Filter (FDF) is an important and systematic method among the methods of Fault Detection and Isolation,but the model uncertainty is almost not considered by now.This paper do some work about the robust decision of FDF when there is uncertainty problem,and get some good result.
　　Key words　FDI　FDF　Model uncertainty　Robust decision
1　引　言
　　FDI是近年来控制界的一个热门话题。


(3)
将
(4)
　
及

所以,由上可知,h1,2皆为的极值点,且一个为极大值,一个为极小值。关于故障检测与诊断各种方法及其应用的综述可参见代表性文章［1,2］。
　　FDF是一种基于状态估计的方法。它由Beard于1976年首次提出［3］,它的出现标志着FDI技术从传统的基于系统输入输出的无模型方法到基本模型的解析冗余方法的飞跃。FDF又称故障灵敏滤波器,它是一个全阶状态估计器,但其观测器增益阵选取特殊,使得输出残差(输出估计误差)在特定的故障发生时有特定的方向。一般选择观测器增益阵使得残差在执行机构或元部件故障时固定在某一特定方向而传感器故障时维持于某一平面内。
　　FDF方法用于故障检测的一个优越性是它无需故障模式信息,因为在这种方法中故障检测的重要信息在于残差方向而非其时间函数。这里需要说明一下,实验中的数据是在目标0°～30°方位角范围并以1°间隔测得的,而识别时只涉及了0°～28°的范围。但是,FDF方法对模型不确定的鲁棒性问题一直没有结论。仅有的对FDF方法鲁棒性的研究是利用未知输入观测器方法［4］。这种方法设计比较复杂,要求预先知道未知输入的结构矩阵,占用较多的设计自由度,使FDF只能在剩余自由度上进行设计。
　　解决FDI鲁棒性问题的途径有两种,一是设计一种对不确定具有鲁棒性的残差产生方法,这是从根本上解决问题,但这种方法难度较大,通常有一些严格限制条件,不易实现;另一途径是分析模型误差等不确定性对系统的影响,在检测和隔离时附加适当的阈值,这种方法简单实用,但如果阈值选取不当会导致漏报或误报。对于FDF,未知输入观测器属于前一种方法,本文希望用第二种方法来解决模型存在误差时的鲁棒FDF设计,得到合适的故障检测阈值。
2　FDF的鲁棒决策方法
2.1　基本FDF方法
　　考虑系统

(2.1-1)
其中,A∈Rn×n,B∈Rn×q,C∈Rm×n,当系统发生部件或执行机构故障时,系统方程为

其中,fi∈Rn×1是预先知道的故障方向,μi是任意未知时变标量。传感器故障时,系统可以描述为

其中,qi∈Rm×1是与第i个传感器故障相对应的单位向量。
　　检测滤波器具有如下通常的线性观测器形式

如果定义状态估计误差和输出残差分别为

则无故障时闭环方程为

(2.1-2)
　　FDF的目的是确定检测增益阵L使故障fi下输出残差ε与Cfi成正比,并使得滤波误差ε在出现故障的瞬间以及达到稳态后始终与Cfi成正比。可以证明传感器故障下检测增益阵的设计与之统一,它将ε方向固定在一个平面内［5］。再者,虽然目标在极化域的散射能量特性是重要的,但其回波极化状态在Poincare极化球面上的动态分布特性可能更加有意义,因此仅仅将目标散射能量在极化域的分布定义为极化谱的概念,对于描述目标极化散射特性缺少完整性。在这里,与故障fi有关的特征值与特征向量的数目ni是待定的,ni个有关特征向量vij(j=1,2,…,n)构成了故障fi的检测空间。ni的确定,L增益阵的求取等参见文献［5］,这里不具体叙述。
参考文献
1　肖顺平.宽带极化雷达目标识别的理论与应用.国防科技大学博士论文,1995.12
2　Kostinski A B and Boerner W M.On Foundations of Radar Polarimetry.IEEE Trans.on A.P.,Vol.AP-348.No.12,1986
3　Van Zy1,Johannes J.On the importance of polarization in scattering problems.Ph.D.Dissertation,1986
4　肖顺平等.基于极化谱的飞机目标识别.电子学报,1997.12
5　肖顺平,王雪松,庄钊文.基于模糊特征提取的飞机目标识别.湖南省宇航学会年会,1996.1
6　肖顺平等.目标动态极化结构特征提取与识别.电子学报,1998.3
。FDF方法检测与隔离故障的依据是看输出残差向量在残差空间的方向是否与所设计的某个故障输出方向一致,故障的检测与隔离同步进行,为简便起见,后文均用检测代称。
　　如果系统(2.1-1)的模型存在误差,则故障下的输出残差方向并不能与设计方向符合。假设真实系统为

(2.2-1)
用于建立观测器的系统模型为

(2.2-2)
这里,A,A0∈Rn×n,B,B0∈Rn×q,C∈Rm×n,且(A,B)能控,(A,C)能观。设

则故障fiμi下的误差系统方程为

(2.2-3)
其中G0=A0-LC。如果考虑噪声以及未建模动态等,(2.2-3)进一步可表达为

(2.2-4)
其中w与fiμi相混合而一起作用于误差系统,它代表了模型参数误差、噪声、未建模动态等的影响。与式(2.1-2)相比可知,除了w项外,(2.2-4)式的不同之处还有G与G0的差别。由于FDF设计的特点,上述两类不确定性从不同的角度影响故障检测性能。前者“污染”故障向量而影响故障检测,称为“显性不确定性”,后者改变了误差系统的特征方向从而改变了故障下设计残差输出方向,称为“隐性不确定性”。FDF的鲁棒决策要解决的问题是:分析上述两部分不确定性对故障检测的影响,采用附加阈值等手段使模型存在误差时FDF方法检测故障尽量准确。
2.3　FDF的鲁棒决策
　　在上一节中给出了隐性和显性两类不确定性,相应也有隐性阈值和显性阈值之分。
2.3.1　隐性阈值
　　系统模型由(2.2-2)描述,相应于故障方向fj(j=1,…,r)的隐性阈值可由如下定理给出。
2.2　目标散射能量与大圆极化轨道上极化态的正弦关系
　　限制椭圆极化比两个自由度中的一个,不妨恒定θ,且θ=θ0∈［0,π］或∈［-π,0］,γ∈［-π/2,π/2］,这是绕AB直径的一个大圆极化轨道。记特征值扰动为δλi=λ0i-λi,特征向量扰动为δvi=v0i-vi,πi为所设计的故障fi下的输出残差向量(πi=Cvij),π0i为对应的实际输出残差向量(π0i=Cv0i),则隐性隔离阈值Ythj(j=1,2,…,r)如下表示

(2.3.1-1)
其中

　　证明:
　　根据已知可以得到
δvi=-T-i(λi)(δλiI-δG)v0i
其中Ti(λi)=λiI-G
　　设αi为πi与π0i的夹角,根据欧氏空间中向量夹角的定义,有

根据假设,δπi≈0,因此,δπi与πi和π0i分别近似正交(零向量与任何向量正交),不难得到


而根据线性代数理论有

所以

即　　　
　　故障fjμj对应检测空间中的nj个特征向量,因此选取这nj个αi中的最大上界作为隐性阈值是合适的,即阈值可由(2.3.1-1)式给定。


图3　能量谱特征参数


图4　目标识别器结构
表1
目标姿态横滚0°、俯仰0°、方位角0°～28°
目标类型WYFJH
识别率%85.789.382.189.382.1
5　结束语
　　实验结果表明:基于极化域能量谱描述的目标识别方法,能够达到较好的目标识别效果,与基于本征极化描述的目标极化异性程度的模糊算法［5,6］相比较,因为极化域能量谱描述直接面向实测极化散射矩阵,它不但适用于单站条件下的线性目标测量情况,而且适用于准远场以及双站测量等情况,它不需要进行散射矩阵的对称性修正,因而避免了处理过程带来的信息损失。
FFF2.3.2　显性阈值
　　显性阈值与显性不确定性相对故障的大小有关,假设当
‖ε‖τ≥ρ‖εΔ‖τ
(2.3.2-1)
时检测到故障发生。其中‖ε‖τ和‖εΔ‖τ分别代表系统的总输出残差大小和仅仅由显性不确定性导致的输出残差大小:‖*‖τ表示一种基于残差均方根指标的范数算子［5］。显性阈值可由如下定理给出。
定理2　对于(2.2-1)和(2.2-2)描述的系统,利用FDF检测故障时的显性阈值可取为

(2.3.2-2)
其中,λmax是G的最大特征值,αij是构成fi的ni个非零特征向量对应的非零系数,λij是对应特征值,上标i代表相应于故障fi。
　　此定理证明过程比较繁琐,限于篇幅这里只给出证明的简单思路。
设

令ξi代表ε(t)=ε0(t)+δε0(t)与ε0(t)的夹角,类似于定理1可得到

利用(2.3.2-1)式、(2.3.2-3)式和(2.3.2-4)式以及范数性质等可推导出

从而得到(2.3.2-2)式。
　　由(2.2.1-1)和(2.2.2-2)式得到FDF的故障检测阈值为
Ithi=Xthi+Ythi
在应用FDF方法之前,先求出每一个故障向量对应的检测阈值,当发现输出残差落在某个设计方向的阈值之内则判断相应故障发生。为完整地描述目标的极化散射特性,我们定义了两种谱的概念:利用宽频带局部最优极化在极化轨道上的运动特性,引入动力学理论描述,定义了一种称为极化谱的概念［4］(此文不介绍);利用目标散射能量与大圆极化轨道上极化态的正弦关系,结合宽带观测条件,定义了本文的极化域能量谱概念,图1是H飞机目标的极化域能量谱。
　　由于模型不确定性的影响,故障检测不再是看残差是否与某个设计故障方向重合,而是看它落在哪个检测锥(以设计方向为中心以检测阈值为半锥角)之中。当检测锥出现相交区域时,相应故障虽可检测但不可隔离,必须借助其它手段。
4　鲁棒FDF方法在卫星姿控系统故障检测中的仿真研究
　　为了说明FDF鲁棒决策方法的有效性,下面看一个具体实例。假设卫星姿控系统的部件只在稳态以后才有可能发生故障。考虑某卫星在稳态运动时俯仰轴的姿态控制,在平衡点对系统运动方程线性化,得到一个四阶状态方程。其中状态变量为x=［x1　x2　x3　x4］T,各分量分别代表俯仰姿态角,帆板转角,俯仰角速度和帆板转动角速度。控制作用为俯仰轮控力矩和帆板驱动力矩Ty,Tp,记为u=［Ty　Tp］T。通过测量和数学解算等手段可以得到所有四个状态变量,状态方程与输出方程各系数矩阵为

　　由于上述系统经过小角度线性化得到,并略去了帆板带来的挠性,因此模型必然存在误差。给定一条极化轨道,对于一个目标在特定姿态下的宽频带极化散射矩阵序列,可以求得每个频率点上目标在此极化轨道上的最大、最小散射能量,分别记为和,把两者之差作为衡量目标在此频率点上的回波能量对于入射极化状态(在给定极化轨道上)的敏感程度,由此以多频目标集为论域,在其上定义一个模糊集:
　　　=目标极化敏感
那么目标在特定观测频率点上对模糊集A的隶属度为:

定义两种贴近度运算:

如图2是H飞机目标在观测频率范围为34.7～35.7GHz的局部和全局隶属度:


图2(a)　H飞机目标局部隶属度


图2(b)　H飞机目标局部隶属度
4　目标识别实验研究结果
　　本文实验是在外场进行,阶梯变频雷达测量系统的工作频率范围34.7～35.7GHz,阶梯变频间隔为2MHz,水平、垂直极化分时发射、同时接收;五种飞机目标模型长约为1.5～3.0米,宽约为1.0～1.8米,其姿态均为0°横滚角、0°俯仰角、方位角范围为0°～30°,方位角采样间隔为1°。从目前已有的技术途径来看,关于极化谱的概念及其在目标识别中的应用研究,极少见到报道,本文工作就是这方面的一次新尝试。按照故障幅度相等,取故障
Ty=Ty0-0.0026
(4-1)
Tp=Tp0-0.0001
(4-2)
其中,Ty0,Tp0代表预期力矩,Ty,Tp代表实际力矩。仿真中以非线性带挠性的模型递推计算来模拟卫星真实姿态运动过程,而FDF根据线性刚体模型进行设计,并附加一定测量噪声。故障发生之前可得到无故障时的输出残差幅度,随时监测残差幅度变化,确定ρ,从而随时计算检测阈值。在这里所给的两种故障下可以得到ρ≈1.5,利用(2.3.1-1)和(2.3.2-2)式可以计算出。迄今虽然出现过一些极化雷达目标识别方法(多数是在少量观测频率上及对简单形体目标而言),但总的来说极化目标识别的研究仍处于低谷,有关工作在文献［1］中进行了系统的搜集与归纳。另外,由于Cf1与Cf2夹角为145°,这两个故障的检测锥是相离的,因此是完全可分的。
　　图1和图2分别是两故障下输出残差与相应设计方向的夹角(180°附近表示μi＜0)。两种情况下残差方向均进入各自的检测锥之内,因此易于检测故障发生。


图1　俯仰飞轮于4000秒发生(4-1)式所示故障时
输出残差与Cf1的夹角


图2　BAPTA于4000秒发生(4-2)式所示故障时
输出残差与Cf2的夹角
5　小　结
　　本文研究了存在模型误差时,FDF的鲁棒决策方法,得到了解析的故障检测阈值,并对卫星姿态控制系统的执行机构故障进行了仿真研究。本文对FDF方法的实际应用作了一些必要工作,对FDF设计有一定指导作用。
　　后续工作还需进一步研究FDF的故障诊断能力,以便为故障系统重构等提供必要信息。
参考文献
1　Isermann R..Process fault detection based on modeling and estimation method―a survey.Automatic,1984,20(4):387-404
2　Paul M.Frank,Fault,Diagnosis System Using Analytical and Knowledge-based Redundancy―a Survey and Some New Result,Automatic 1990,26(3):459-474
3　Beard R V.Failure Accommodation in Linear System through Self-Reorganization.Rept MVT-71-1,Man Vehicle Lab,Cambridge,MA,1971.
4　Jie Chen,Ron J.Patton and Hong-Yue Zhang,Design of unknown input observers and robust fault detection filters,INT.J.Control,1996,63(1):85-105
5　周东华.控制系统的故障检测与诊断技术.清华大学出版社,1994
6　李清泉.自适应控制系统理论.设计与应用,科学出版社,1990
7　Wilkinson J H.(Cantab.) M A Sc D.The Algebraic Eigenvalue Problem.Clerendon Press,Oxford,1965
