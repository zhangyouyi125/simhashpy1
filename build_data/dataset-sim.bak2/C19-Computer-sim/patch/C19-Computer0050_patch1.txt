计算机工程
COMPUTER ENGINEERING
1999年  第25卷 第7期 Vol.25 No.5 1999



基于二维模型的瞄准点跟踪定位
李晓昆
摘要 为解决目标跟踪中的瞄准点准确定位的问题，提出了一种基于二维模型的瞄准点跟踪定位算法。以经过正确切分和词性标注处理的汉语句子作为分析器输入,MNP的自动识别主要分两个阶段进行。利用其中正确标注的MNP作为评价标准,可以方便地对自动识别结果进行评估,从而可以对MNP自动识别器的处理性能有一个客观而全面的认识。使用相同的算法,如果使用访问速度为10ns的内存,那么每秒就大约可以执行1250万次路由查找。一般在跟踪目标时，尤其是在有军事目的的跟踪时，不光是跟踪目标物，而是锁定目标物中的某一点，此瞄准点往往是打击的要点或最关心的部位。目标是三维运动物体，其所摄的二维外形随着其运动的方向变化而不同，目标上的瞄准点在其所摄外形中的位置也随外形的变化而漂移；有时随着目标方向角度的变化，在所摄图象里瞄准点被遮蔽成目标的内点；有时由于背景或其他因素造成瞄准点被外界遮挡，因此即使跟踪到了目标，准确地跟踪瞄准点的位置也是非常困难的。
　　调度算法的进一步的研究方向是提供对服务质量QoS（quality of service）的支持。
1　算法原理
　　一个三维物体能用几个该物体的二维正投影图象的线性组合来表达，其线性组合方式被称为线性组合表示法，在序列图象的目标跟踪中，通过已知目标模型的特征点，并在所摄图象中找到与之相对应的点，由此可求出线性组合系数，此时目标中的任何其它一点都能通过此线性组合系数来准确地定位，即使瞄准点因目标的角度变化而被隐藏，或瞄准点本来就是目标的内部点，利用此方法都能准确地确定其位置。
2　基本理论
　　本文算法建立在刚体运动、刚体变换及有关定理的基础之上。
　　・刚体运动：若一个物体在空间运动中其形状和大小不变，即物体中的任何两点的距离保持不变，则此物体被称为刚体，它的运动被称为刚体运动。
・刚体变换公式：假如已确定了一个直角坐标系Q中，坐标系中的任意一点P的初始位置是(x,y,z)，在刚体运动T下P的终止坐标是(x'，y'，z')。则(x,y,z)与(x'，y'，z')所存在的关系就是刚体运动变换公式，如公式(1)所示。

(1)
　　aij是可以确定的组合系数，(x0,y0,z0)是P在空间中的平移量。公式(1)是刚体运动T的变换公式，T是行列式等于1的正交变换。正交变换总可以看成直角坐标变换，直角坐标变换和在直角坐标系下的刚体运动可以用一种代数形式描述。直角坐标和直角坐标系下的运动之所以可以用同种代数形式(正交变换)描述，还可以从另一个角度说明：运动总是相对的，在固定于坐标系的观察者看来，空间一切点都在作刚体运动，而在运动中的观察者看来，则坐标系在作刚体运动。第4节总结了全文,并指出了进一步的研究方向。
　　定理2 若a、b、c为空间3个不共面的矢量，则空间任意一个矢量r可以用a、b、c的线性组合来表示。
Table 3　Maximal noun phrase identifying results
表3　MNP自动识别结果

①算法,②简单MNP,③复杂MNP,④合计。在约7万词的汉语语料上进行的MNP识别实验显示,正确率达到了85。这些线性组合项的系数一般要满足某些函数约束。下面的内容着重探讨目标图象的三维刚性变换和尺度变化。
3.1　目标在三维空间的线性变换
　　P1，P2，P3是对三维目标O在3个特定方向所进行变换矩阵分别为3×3的R、S、T线性变换后所得到的3幅二维图象。设r1、r2为R的第一和第二行向量，即P1=(x1,y1)=(r1O,r2O)，s1、s2为S的第一和第二行向量，即P2=(x2,y2)=(s1O,s2O)，t1、t2为T的第一和第二行向量即P3=(x3,y3)=(t1O,t2O)。如何寻找更好的方法,准确地确定复杂定语的左边界位置,将是我们今后研究的一个重点。
3.2　目标在三维空间的旋转
　　从理论上看旋转是线性变化的一个非线性子集，目标在旋转后的图象可由3个模型图象的线性组合来表示，只是组合系数应满足一些约束条件，这些约束条件是该系数的二阶多项式。在刚性变换中，只要知道3幅图象中的4组对应点即可确定线性组合的系数。通过解一个线性方程组，即可求出旋转矩阵。
　　调度算法可以分成输入排队的调度算法和输出排队的调度算法。
3.3　目标在三维空间的刚性变化和尺度变换
　　如果目标在空间进行平移和尺度变换，则其仍然可由该目标的二维图象的线性组合来表示。变化过程如3.1节中所示，只是第四幅图象增加了因子为w的尺度变换，并且平移一个向量(gx,gy)，即
　　定理4 如果{r1,s1,t1}和{r2,s2,t2}是线性无关的，则存在系数{a1,a2,a3,a4}和{b1,b2,b3,b4}并有：

(3)
　　(a4,b4)是目标在空间的平移分量。在选取目标的模型图象时，尽可能从目标的各个视角方向来选取。本文综述了近年来国内外在宽带IP路由器研究领域取得的新进展。文献[2]对此提出了一个预测该目标在三维空间旋转后情况的算法。目标用6幅图象的线性组合形式来表示。
　　在自然语言句子的理解过程中,能否准确地识别其中的名词短语(np)起着很重要的作用。
4　线性组合系数
　　目标在空间变化的可能图象可由几幅模型图象的线性组合形式来表示。模型是一组L个二维图象的集合{S1,...,SL}，设是目标在运动中所摄的一幅二维图象，存在系数{(a1,b1),...,(aL+1,bL+1)}，有(b1Sly+...+bLSLy+bL+1)。在目标中选一组特征点并将其在模型图象和P图象上的相应位置找到，再通过解方程组可得到此组系数值。由公式(3)可知为解此方程组一般目标用4个特征点即可。对于光滑轮廓目标则需要6个特征点。
　　组合系数的求解过程：对一般目标来说用3个模型图象就能组合出其在空间中的变化图象。在跟踪之前一般已确定了模型图象并确定了4个特征点在模型图象中的坐标位置，共12个坐标值。在跟踪中，摄入一幅图象，用识别算法确定特征点在P中的位置，特征点一般都选择在摄入图象中容易识别的点。设X为特征点在模型图象上的X坐标矩阵，设Y为特征点在模型图象上的Y坐标矩阵，xij代表第j个模型图象上第i个特征点的X坐标，px是特征点在P图象中的X坐标向量，a=[a1,a2,a3,a4]T是组合系数的第一维系数值。根据公式(3)有线性方程组：
Xa=px
(4)

如存在一个确定的解，组合系数为：
a=X-1px
(5)
同理有：
Yb=py
(6)
b=Y-1py
(7)
　　b是组合系数的第二维系数值，py是特征点在P图象中的Y坐标向量。
　　为了减少噪声的干扰，要挑选适当的模型图象使计算具有较好的稳定性并且在模型图象中挑选多于4个特征点解超定方程组，则有：
a=X+px
(8)
X+称为X的伪逆，如X是列满秩的，则有
X+=(XTX)-1XT
(9)
a=(XTX)-1XTpx
(10)
同理可以求出　b=(YTY)-1YTpy
(11)
一旦求出a、b系数矩阵，则模型图象中任意一点在P图象中的相对应位置都可以通过代入公式(3)求得，将模型中瞄准点的位置代入方程即可得到瞄准点在P图象中的准确位置，从而完成瞄准点在跟踪图象中的准确定位。
5　线性组合法用于瞄准点的跟踪定位
　　由上可知，只要计算出某一时刻所摄入的跟踪图象的组合系数{(a1,b1),...,(a4,b4)}后，将瞄准点在3个模型图象中的位置(这个信息是事先知道的)((x1,0,y1,0),(x2,0,y2,0),(x3,0,y3,0))代入公式(3)，即可确定该瞄准点在跟踪图象中的相应位置。下面就给出一个简单的例子，图1中的6号点就是瞄准点，1至5号是特征点，(a)、(b)、(c)是一组四面体模型图象，(d)是跟踪图象，为了计算方便此四面体在空间中平移量为0，即a4=b4=0。

图1 例子
表1 特征点(1-3)及瞄准点(6号)的坐标
序号(a)(b)(c)(d)
xyxyxyxy
10.000.000.000.000.501.201.90-3.72
210.201.102.10-8.703.10-6.9011.41-4.35
314.10*7.1013.00-7.9011.0-6.1014.03-0.73
63.101.203.20-0.603.00-1.104.371.12

　　通过已知的1至3号特征点的坐标，便可以求出线性组合系数为：
a={0.52 -2.70 3.80 0.00}
b={-0.46 2.90 -3.10 0.00}
　　将该系数和模型中的6号点在模型图象中的坐标((3.10,1.20),(3.20,-0.60),(3.00,-1.10))代入公式(3)，求得跟踪图象中6号点坐标为：
(Px，Py) ={4.37, 1.12}
　　为了有效地克服噪声，实际算法中采用解超定方程组来求组合系数，即用1-5号点的坐标来求解方程组。算法的实际处理过程是当一幅图象摄入时，首先提取其中目标的边缘，确定模型中的特征点在此目标中的位置，从而计算出组合系数，再通过系数矩阵和模型中的瞄准点的位置之积算出瞄准点在摄入图象中的准确位置。特征点选目标上很容易确定的点，这些点的位置在摄入图象中也是比较容易确定的。
6　结论
　　本文采用线性组合法来确定瞄准点的位置，无论瞄准点是目标的内点还是表面点，此算法都能对在三维空间运动的物体进行高精度的瞄准点跟踪定位，非常适用于特殊场合的移动目标定点跟踪，从而使此算法具有很重要的现实意义。在这种结构中,路由计算就转换成各分布式处理器上的转发计算了,因此,转发引擎所使用的高速缓存表项的设计就必须比较精巧