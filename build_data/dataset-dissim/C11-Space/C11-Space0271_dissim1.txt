　宇航学报
JOURNAL OF ASTRONAUTICS
1999年 第20卷 第3期 vol.20 No.3 1999



基于CCSDS高级在轨系统的遥科学
空间通信链路结构研究*
张　炜　王　莹　张尔扬
　　摘　要　本文以空间数据系统咨询委员会(CCSDS)最近为高级在轨系统(AOS)制定的一系列标准为蓝本，提出了一种遥科学空间通信链路结构，该结构在一定程度上能满足上述遥科学实验的诸项要求，并且能够为用户提供多种灵活的数据传输业务。
　　主题词　遥科学　空间数据系统咨询委员会　高级在轨系统
STUDY OF TELESCIENCE SPACE COMMUNICATION 
LINK CONFIGURATION ACCORDING TO CCSDS 
PROTOCOL FOR ADVANCED ORBITING SYSTEMS
Zhang Wei Wang Ying Zhangeryang
(National University Defense Technology.Chang Sha.410073)
　　Abstract　By applying newly standards developed by Consultative Committee for Space Data Systems(CCSDS) and mainly for Advanced Orbiting Systems(AOS), a scheme of Telescience Space Communication Link Configuration is proposed in this paper,which accommodates those requirements above and offers flexible data services.
　　Key words　Telescience CCSDS AOS
　　1　引言
　　随着航天飞机、载人飞船和轨道空间站技术的发展，人类空间活动已经进入了一个空间站时代。为解决对空间飞行器微重力环境的充分利用和现有的技术经验和手段之间的矛盾，早在1985年，瑞典科学家P.Banks就提出了遥科学(Telescience)的概念，即：“遥科学是交互的有效载荷操作方式，它通过各种技术手段实现地面研究人员直接参与空间科学研究。”

图3-1　六自由度仿真原理框图
　　3.2　全面研究了各种运动形态之间的相互作用和影响
　　箭体一体化建模仍然依据变质量质点系动量和动量矩定理，但它不同于传统的三自由度模型，而是充分考虑了各种运动形态的共存和它们之间的铰链影响，如箭体质心运动视加速度为：
　　　　　　　　　　　(3-1)
等式右边一、二两项分别为空气动力和发动机推力在箭体坐标系的投影，是传统三自由度模型也有的，而后三项分别为发动机摆动、推进剂晃动和弹性振动作用于箭体上的力在箭体坐标系的投影，这三项是六自由度模型独有的，它们各自的表达式可充分说明各种运动之间的铰链影响，为减小篇幅不再展开讨论。CCSDS的第一套成熟建议(1982～1986年制订的蓝皮书)是针对常规任务的空间数据系统而提出的。步入90年代以来，为适应许多新的系统(包括载人空间站、无人空间平台、自由飞行器等)和新的空间任务的发展对数据系统的更高要求，CCSDS拓展了原有的常规建议，提出了拥有灵活多样的数据处理业务的高级在轨系统(AOS)建议。本文的目的就是研究这样一个基于CCSDS.AOS建议的遥科学空间通信系统的结构组成及工作过程。
　　2　CCSDS.AOS建议
　　CCSDS.AOS建议拥有许多高于常规建议书提供的数据处理功能。为了使大量的异类业务高效、低误地共享同一链路，AOS建议提供了不同的传输方案(例如异步方式/同步方式和等时方式)，采用了不同的用户数据格式(例如位流、字节块和数据包)以及不同的差错控制等级。尤其值得一提的是，成熟的地面网络协议第一次纳入建议中，使AOS能在全球范围内开发开放系统互连(OSI)网络的资源。
　　2.1　CCSDS主网业务模型
　　CCSDS.AOS建议的描述是以CCSDS主网(CPN)这一概念模型为基础的，CPN提供了飞行器与其地面支持网络之间的双向数据通信。
　　2.1.2　多种运动同时存在。其中SLS是CPN的核心子网。
　　2　六自由度建模与仿真的关键技术
　　2.1　复杂大系统的一体化建模。CPN可以提供八种不同的承载业务，其中两种业务(网间业务和路径业务)位于网络层之上，用于提供全网的端到端通信。为了提高仿真精度和仿真速度，我们采取了很多有效措施：(1)积分算法采用高精度的龙格库塔转阿达姆斯法以保证仿真精度；(2)仿真基本步长取为2ms，在积分过程中采用变步长、倒积分和逐次逼近积分等方法提高仿真精度，特别是关机点的仿真精度；(3)针对非线性函数采用平均值算法提高积分精度；(4)采用多种插值算法提高插值的速度和精度；(5)运用软件工程技术优化仿真程序设计。该模型已在控制系统设计、系统质量评估、误差分析与精度评定、飞行效果预报和发射技术决策等领域中应用并获得了良好效果，证明该模型与传统三自由度模型相比更正确、更符合实际，深化了系统分析与仿真的研究。空间计划定义的“空间业务”存在于两种业务之上，可以提供高层的功能，但CCSDS不定义其特性，这两种业务都是不保序的。
　　路径业务是由CCSDS开放的特殊协议来实现的，十分适合于在比较固定的信源和目标之间传输大容量的、结构化的、定界的数据单元，如遥测数据单元。路径业务的协议数据单元即CCSDS包与常规遥测遥控制单元格式非常类似，它们均以结构上的灵活性(导向段信息的匾乏)来换取处理速度和效率上的优势，而后者在空间应用中显得更为重要。
　　与路径业务端点相对固定的特点不同，同时也是作为路径业务的互补业务，网间业务为交互指令和控制操作提供了大范围的灵活性，ISO8473无连接网络协调的引入使该业务可以访问地面网丰富的上层资源。但网间业务的这些优势都是以比路径业务更长更复杂的通信导头(包含完整的端点地址)为代价的。冗余信息增加所带来的后果是处理速度和效率的降低。
　　在CCSDS.AOS建议中一个占有举足轻重位置的概念就是“虚拟信道”(VC)。它将物理信道分为两个层次，使若干个分离的，支持不同的通信服务逻辑数据信道，能够充分地共享同一物理信道资源。每个VC被分别赋予标识，并仅支持一个“业务等级”。为使同步过程简单可靠，SLS链路协议采用固定长度协议数据单元，每个协议数据单元都与一个特定的虚拟信道相联系，称为虚拟信道数据单元(VCDU)。线加速度模拟装置成本很高，而且效果尚待研究，信号注入法易于实现，但未必能满足所有状态和要求。位于下层的多路复用业务可以接受馐业务和路径业务；位流业务将来自每个SLS用户的比特流切成若干短块，这些数据块称为B-PDU，其长度刚好容纳一个虚拟信道数据单元的固定长度数据域。弹道式飞行器不曾采用六自由度模型，它的飞行包含箭体质心运动、绕质心运动、弹性振动、推进剂晃动和发动机摆动等多种彼此耦合且相互激励的运动形态，形成复杂的变质量质点系非线性运动，一体化建模十分复杂。)提供了便利；虚拟信道数据单元业务为由独立的SLS实体建立的固定长度的、字节对齐的VCDU通过SLS传送创造了条件；插入业务为某些专用的、较低速率且按字节排齐的业务数据单元，有效利用空间信道资源，并通过SLS同步传送提供了方便，以上这三种业务是属于虚拟信道存取子层VCA的接口业务。
　　3　遥科学通信网络
　　3.1　一种新的遥科学通信网络总体结构
　　CCSDS.AOS建议所提供的遥科学通信网络将面临的是对不同性质，对于不同地理位置的不同用户的不同通信业务的支持，这将与现在我们应用中的空间通信业务完全不同。该模型已在控制系统设计、系统质量评估、误差分析与精度评定、飞行效果预报和发射技术决策等领域中应用并获得了良好效果，证明该模型与传统三自由度模型相比更正确、更符合实际，深化了系统分析与仿真的研究。因而，在缺乏足够的设施和设备的情况下，在短时期内要将CPN概念结构完全落实到具体的系统中是不现实的。在本文中，我们的目的是提出一个符合CCSDS.AOS建议的、现实可行的遥科学通信网络结构。
　　空间站通信系统主要是为全球范围内广泛分布的科研团体，提供多种类型的通信服务。分散在空基(SB)和地基(GB)系统的概念模块在充分保证系统灵活性和扩展性的前提下为这些通信业务的传输提供了保障。如图2示出了这一系统的组成元素。

图2　空间站通信系统组成元素
　　基于AOS数据系统的概念模型CPN，这一遥科学通信网络主要包括星载网、空间链路子网和地面网三个组成部分。
　　3.2　星载网
　　在空间站上，站载系统应能提供空间操作要求的功能，如导航、生命环境支持、能源产生、远程通信、数据处理等严格的功能。完成这些功能的模块不应是彼此分离的，而应有机地结合在一起，我们将之称为星载网。
　　2.2　六自由度仿真模型的校验、验证和确认(即仿真模型VVA)
　　仿真模型的校验、验证和确认是六自由度建模与仿真需要解决的关键技术之一，在大型飞行器系统仿真、分析和设计中占有很重要的地位。
　　星载网的结构可以是以局域网(LAN)为核心的。通过大量的处理单元来执行与实验、载荷控制以及空间站控制有关的常规和特殊业务。在美国实验中的自由号空间站上，采用了FDDI令牌环网作为LAN低两层的标准，这一标准描述了光纤令牌环网结构，瞬时速率可达100Mbps。所有载荷元素都将通过标准网络接口(NIU)与LAN相接。NIU将提供网络操作系统(NOS)，NO5完成ISO第3～7层的功能。与LAN的所有连接都将设在NIU中，包括所有实验舱与LAN相连的网关。
　　星载网的结构也可以是其他形式的，例如采用NIL-STD-1553B总线标准。
　　3.3　空间链路子网
　　空间链路子网是CCSDS.AOS建议所着重研究的部分。弹道式飞行器不曾采用六自由度模型，它的飞行包含箭体质心运动、绕质心运动、弹性振动、推进剂晃动和发动机摆动等多种彼此耦合且相互激励的运动形态，形成复杂的变质量质点系非线性运动，一体化建模十分复杂。这一空一地子系统我们可以分三部分：信号处理、高速帧复接器和TDRS传输和射频设施。
　　3.3.2　所有运动方程系数b1、b2、b3、c1、c2、c3均为箭体运动状态的组合函数：
　　　　　　　　　　　　　　　　　　　　　　(3-3)
　　当飞行状态变化时，所有运动方程系数都是变化的，在线性化增量方程中，把运动方程系数在若干个特征点上固化，等于把飞行状态程序化，忽略了飞行状态摄动对姿态运动的影响，如果飞行状态偏离“标准状态”就会造成误差，扰动较大时，误差将无法接受。
　　数据处理是指异步数据的处理过程，包括空间系统的星载网端口、包装功能单元、多路复用功能单元及地面系统的分路功能单元、地面网端口。完成在空间系统从星载网接收规约数据单元，包装成多路复用规药数据单元传输给高速帧复接功能单元处理；在地面系统接收从帧分接功能单元接收的信息，通过分路功能恢复成星载网接收的规约数据单元等功能。
　　语音和视频信号处理是同步信号的处理过程。针对不同的业务要求，语音和视频都有不同的等级可以选择。

图3-1　六自由度仿真原理框图
　　3.2　全面研究了各种运动形态之间的相互作用和影响
　　箭体一体化建模仍然依据变质量质点系动量和动量矩定理，但它不同于传统的三自由度模型，而是充分考虑了各种运动形态的共存和它们之间的铰链影响，如箭体质心运动视加速度为：
　　　　　　　　　　　(3-1)
等式右边一、二两项分别为空气动力和发动机推力在箭体坐标系的投影，是传统三自由度模型也有的，而后三项分别为发动机摆动、推进剂晃动和弹性振动作用于箭体上的力在箭体坐标系的投影，这三项是六自由度模型独有的，它们各自的表达式可充分说明各种运动之间的铰链影响，为减小篇幅不再展开讨论。该模型已在控制系统设计、系统质量评估、误差分析与精度评定、飞行效果预报和发射技术决策等领域中应用并获得了良好效果，证明该模型与传统三自由度模型相比更正确、更符合实际，深化了系统分析与仿真的研究。
　　音频信道数据可以不是按字节对齐的数据流(例如在音频数据压缩或在传输辅助数据的情况下)，音频信号处理完成对这些数据的规约化，形成A-PDU。A-PDU的结构为来自不同音频信道的数据被分别规约成相同大小的不同数据块(ADB)，这些ADB顺序的首尾相接形成一个数据区(ADF)，多个ADF首尾相接构成一个数据包(ADP)。这样的一个ADP被放置在VCDU数据单元区内，不足的部分加以填充数据，就完成了多个音频信道共享一个CCSDS虚拟信道。视频信道共享一个虚拟信道的原理与音频信道类似，它的规约数据单元被为V-PDU，但不包括象ADP那样的结构。对于静态性能采用秩和检验法和游程检验法，对于动态性能采用由Burg和UCN算法构造的极大熵谱估计检验法，根据飞行实验数据，运用多种静态、动态验模方法，验证了六自由度仿真模型的可信性。HRFM完成将这些数据动态复接在一起通过空间信道传输。
　　星载网所传输的数据流的速率受局域网的限制，超过载荷LAN所能承受的载荷高速数据将以点到点业务与HRFM相连。这些数据流可以格式化成分包数据或比特流数据。对应于这样一个接口将有一个独立的虚拟信道与之相连。视频和语音数据与此类似，HRFM提供多个视频信道接口，每个视频接口都有一个独立的虚拟信道与之相连。这些视频信号使用一个特别的SSFP格式使之与NTSC很容易转换。HRFM从这些接口中获得VCDU数据单元或者传输帧，然后进行RS编码产生CVCDU。送入射频(RF)系统传输。
　　传送到空间站的数据(上行地-空数据)将在这儿被分解为单个VCDU。视频VCDU将送到站上的视频系统处理和分发，同样的操作也适用于语音信号。分包数据将在下一层的虚拟信道数据单元中处理。
　　3.3.3　TDRS传输和射频设施
　　来自HRFM的CVCDU数据流将被复接成两个比特流(称为1和0信道)，通过跟踪数据中继卫星系统(TDRSS)传送到地球，这两个比特流应在一次传输任务中保持恒定的速率，若没有足够的数据到规定的速率，将产生填充VCDU传输。在空间站阶段，空间部分应包括若干个同步卫星、相应的地面站和TDRSS提供服务。
　　3.4　地面网
　　空间站传送至地面的数据将由地基通信接收系统接收。全弹一体化建模的困难主要表现为“三多”：
　　2.1.1　多种力和力矩的同时作用。
　　3.3.2　所有运动方程系数b1、b2、b3、c1、c2、c3均为箭体运动状态的组合函数：
　　　　　　　　　　　　　　　　　　　　　　(3-3)
　　当飞行状态变化时，所有运动方程系数都是变化的，在线性化增量方程中，把运动方程系数在若干个特征点上固化，等于把飞行状态程序化，忽略了飞行状态摄动对姿态运动的影响，如果飞行状态偏离“标准状态”就会造成误差，扰动较大时，误差将无法接受。DIF也向地面已有的网格提供接口，例如一个提供实施严格实时空间站数据操作的广域网。在地面管理中心的控制下，将地基通信系统接收的数据送达载荷操作地面控制中心(POIC)。POIC作为人工科学研究的操作基地，设备和载荷数据将直接送给POIC的使用者。
　　4　结束语
　　遥科学通信链路结构研究的价值就在于：采用了AOS建议的系统结构且能够适用于复杂的空间遥科学应用环境，但是由于我国在这一领域的研究才刚刚起步，因此还存在许多制约因素。例如，由于上下行通信带宽的局限性，导致业务范围狭窄，使得在一些参数的选择上不能达到最优，而是需要根据实际情况进行折衷，甚至于进行主观选择。为全面开发CCSDS所提供的丰富的业务资源，宽带通信系统以及与其相关的技术领域将是下一步研究的重点。弹道式飞行器不曾采用六自由度模型，它的飞行包含箭体质心运动、绕质心运动、弹性振动、推进剂晃动和发动机摆动等多种彼此耦合且相互激励的运动形态，形成复杂的变质量质点系非线性运动，一体化建模十分复杂。为了提高仿真精度和仿真速度，我们采取了很多有效措施：(1)积分算法采用高精度的龙格库塔转阿达姆斯法以保证仿真精度；(2)仿真基本步长取为2ms，在积分过程中采用变步长、倒积分和逐次逼近积分等方法提高仿真精度，特别是关机点的仿真精度；(3)针对非线性函数采用平均值算法提高积分精度；(4)采用多种插值算法提高插值的速度和精度；(5)运用软件工程技术优化仿真程序设计