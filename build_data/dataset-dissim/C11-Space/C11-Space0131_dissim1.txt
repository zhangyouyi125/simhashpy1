宇航学报 
JOURNAL OF ASTRONAUTICS
1998年 第19卷 第1期 No1 Vol.9 1998科技期刊

基于故障树模型的航天器
故 障 诊 断 研 究
纪常伟
(北京工业大学热能系*北京*100022)
荣吉利
(北京理工大学应用力学系*北京*100081)
黄文虎
(哈尔滨工业大学137信箱*哈尔滨*150001)
　　摘　要　本文建立了基于故障树模型的航天器故障诊断框架,提出了航天器故障诊断的知识组织和表示方法及相应的推理控制策略,并通过对某卫星能源系统故障实验台的故障诊断验证了方法的正确性。2.仍需系统的数学模型来估计系统的状态矢量。把航天器的故障诊断知识分成系统级诊断知识、分系统级诊断知识、部件级诊断知识、零件级诊断知识和元件级诊断知识,系统级诊断知识对应系统级故障树,分系统级诊断知识对应分系统级故障树,部件级诊断知识对应部件级故障树,零件级诊断知识对应零件级故障树。
　　由于神经网络每步只在线学习一组样本,而不是如离线方法那样学习所有的样本,所以收敛速度很快,可以保证实时检测故障的需要。本文提出一种面向对象的基于故障树的框架、规则和模型的混合知识表示和基于框架的分布式知识组织方法,建立四类框架:系统级框架、分系统级框架、部件级框架和零件级框架。这种知识表示和知识组织形式可适应不同层次的诊断要求。
2　航天器故障诊断的知识表示和组织
　　知识组织:基于框架的分布式知识组织。
　　知识表示:面向对象的基于故障树的框架、规则和模型的混合知识表示。
　　框架作为知识的组织形式,系统级诊断知识封装在系统级框架中,分系统级诊断知识封装在分系统级框架中,部件级诊断知识封装在部件级框架中,零件级诊断知识封装在零件级框架中。规则和模型作为知识的表示形式,基于故障树模型的报警知识、诊断知识和对策知识用产生式规则表示,模型知识用数学或逻辑表达式表示。
　　3.本文方法只能检测速率较大的漂移故障和突变类型故障。这种框架具有良好的扩展性,如果存在多种报警方式(规则、模型、案例等)、多种诊断信息(经验、故障树、模型)、多种对策方法,那么就在框架中加入或删除一些槽即可。下面以航天器为例,给出这种知识表示和组织形式(图1)。　　


图1　航天器故障诊断的知识组织和表示
(1)系统级框架:航天器故障(A)
　　(2)分系统级框架:能源故障,控制系统故障,……(B1,B2,…,Bn)
　　(3)部件级框架:分流器故障,中控器故障,……(C1,C2,…,Cj)
　　(4)零件级框架:不分流,恒分流,不正常分流……(D1,D2,D3)
　　槽1,报警规则库框架:某故障树对应的所有传感器测点信息、阈值与该故障树结点构成报警规则库,以IF-THEN形式表示。
　　槽2,诊断规则库框架:根据某故障树父、子结点间的逻辑关系及约束权值,提取成产生式规则,建立诊断规则库,以IF-THEN形式表示。为此本文提出采用神经网络建模的传感器故障检测方法。
　　槽4,对策规则库框架:某故障树所有底事件的对策建议构成对策库,以IF-THEN形式表示。
3　基于故障树模型的航天器故障诊断的推理及控制策略
3.1　控制策略
　　基于优先级(约束权值)和元级报警的深度优先回溯控制。
　　首先根据传感器的实测数据启动系统级框架进行元级诊断推理,根据报警和分系统优先级依次启动相关各分系统框架;被启动的分系统框架进行元级推理,根据报警和部件优先级依次启动相关各部件级框架;被启动的部件级框架进行元级推理,根据报警和零件优先级依次启动相关各零件级框架。系统级框架的任务就是把故障定位到分系统,分系统级框架的任务就是把故障定位到部件,部件级框架的任务就是把故障定位零件,零件级框架的任务就是把故障定位到元件。如果是系统级诊断,由于诊断只在系统级框架内进行,诊断的效率高且速度快,最终把故障定位到分系统并给出切换及重组的对策建议。
　　4.本文是在假定系统正常条件下研究传感器故障检测的,如果系统和传感器同时发生故障,则需进一步研究如何区分两类故障。如果要求诊断到元件级,由于诊断在系统级框架、分系统级框架、部件级框架和零件级框架内进行,诊断的效率低且速度慢,最终把故障定位到元件并给出故障排除的对策建议。
3.2　推理策略
　　基于报警的遍历搜索。
　　如果某级框架被元级推理所启动,那么该级框架就依次启动其报警规则库框架、诊断规则库框架、模型库框架和对策规则库框架。报警规则库框架的启动给出诊断规则库框架启动所需的故障树上结点的报警信息,因为每一条诊断规则的前提或结论都对应着故障树上的一个或多个结点。诊断规则库框架的启动产生诊断结果,然后启动对策规则库框架给出故障排除的对策建议。如果诊断规则库框架的启动无法给出确切诊断结果,则启动模型库框架产生诊断结果,再启动对策规则库框架给出故障排除的对策建议。利用测点异常,经报警推理产生故障树上的结点异常,以异常结点事件作为基于故障树推理的起始点,利用正常结点事件进行假设排除,来确定故障源,如不能得出确切诊断结果,则进行基于模型的推理和仿真,直至确定最后的故障源。这样选择阈值消除了由输出噪声和学习误差引起的误报警,当然也有可能稍微选择偏大,从而难以检测小于阈值的传感器微小故障。事实上,传感器是控制系统中比较容易损坏的器件［1］,因此控制系统需检测传感器是否发生故障,如果检测出传感器发生了故障,则报警,并调用备份传感器,或重构控制率以确保整个控制过程的顺利进行。首先启动D1的报警规则库框架,利用D1故障树上的结点与传感器实测值间的关系,在该库中搜索匹配,得到若干正常结点事件和异常结点事件;然后启动D1的诊断规则库框架,按照最近搜索原则,在库中搜索前提为某异常结点事件的规则,如这样的规则有多个,则依次匹配,规则匹配产生新的事实,再激活下一条前提为该事实的规则,如此进行下去直到底事件为止,利用故障树上的异常结点事件进行反向搜索,利用其正常结点事件进行假设排除,直至确定最后的故障源。如测点不足,则给出一个按约束权值大小排列的可能故障源(PFS)表。如果存在可能的故障源,则启动D1模型库框架,进行基于模型的推理,从而给出最终的诊断结果。然后,启动D1的对策规则库框架给出故障排除的对策建议。
4　诊断实例
4.1　某卫星能源系统故障试验台结构简图


图2　某卫星能源系统故障试验台结构简图
4.2　分流器模拟电路故障诊断
4.2.1　分流器故障模拟电路
　　其中:S0,S1,…S5为传感器测点,I-V为电流电压变换器。


图3　分流器故障模拟电路
4.2.2　分流器故障状态描述
　　(1)正常状态:V2=αI2即I-V输出与分流量成正比,α为常数
　　(2)故障状态:a.不分流:I2=0
b.恒分流:I2=c(常数)
c.异常分流:V2≠αI2,α为常数
4.2.3　分流器模拟电路故障树
　　选定分流器的三种故障状态为故障树的顶事件,即不分流为顶事件的故障树、恒分流为顶事件的故障树、异常分流为顶事件的故障树。
2　基于神经网络在线建模的传感器故障检测方法
　　一个多输入多输出非线性动态系统:
y(k+1)=F(y(k),…,y(k-m+1),u(k+1),…,u(k-n+1))(1)
(u(k+1)是一p维输入矢量,y(k+1)是一q维输出矢量,n,m是输入和输出的最大延迟,对于线性系统n=m=1,F(…)代表一般的非线性函数)。


图4　不分流为顶事件的故障树
4.3　分流器不分流故障的诊断过程
　　由图1根据传感器的实测数据,依次启动框架B1,C1,通过搜索C1的槽值,由I2=0启动框架D1。对D1的槽值进行搜索,顺序启动D1的报警规则库、诊断规则库、模型库及对策规则库。由实测数据启动D1的报警规则库框架,产生异常结点事件D1,A2,A3和正常结点事件A6,A7,A8。
　　2.能够预报传感器是否发生故障,并可以检测多传感器故障。其中:A5(0.28),A1(0.25),A4(0.25)等括号中的数据分别代表结点事件A5,A1,A4发生的概率。由于A5是必然的故障源,启动对策规则库框架,产生对策Action3。由于A1(0.25),A4(0.25)是可能的故障源,故还需启动模型库框架来最终确定其状态,如果I2=β2I4,I1＜β1I3,其中β1、β2为三级管T1、T2的放大倍数,所以结点事件A1正常,A4异常。因为A4异常,故启动对策规则库框架,产生对策Action2。因此,最终的故障源为A5,A4即运算放大器故障和三级管T1开路(图5)。航天器的元件级故障源定位是在零件级框架内进行的,依次启动其报警规则库框架、诊断规则库框架及模型库框架。阈值的选择在故障诊断领域是一个难点［1］,取得过小,当传感器输出噪声比较大时容易引起误报警,阈值取得过大,则难以检测小的传感器故障,引起漏报警。
　　(1)基于框架的知识组织和面向对象的知识表示满足了航天器分布式诊断的要求
　　(2)每种知识封装在一个框架中且各框架相对独立,提高了诊断效率
　　(3)模型库的建立有利于提高诊断的准确度
　　(4)面向框架的设计使得知识库维护容易且扩展性好
参考文献
  1　Johan Dekleer and Brian Williams C.Diagnosing Multiple Faults.Artificial Intelligence.1987,32:97-130
  2　Raymond Reiter.A Theory of Diagnosis from First Principles.Artificial Intelligence.1987,32:57-95
  3　Randall Davis.Diagnostic Reasoning Based on Structures and Behavior.Artificial Intelligence,1984,24:347-410
  4　Narayanan N H and Viswanadham N.A Methodology for knowledge Acquisition and Reasoning in Failure Analysis of Systems.IEEE Trans.Systems Man,and,Cybernetics,Vol.SMC-17,Mar./Apr.1987,274-288
  5　S.Padalar et al.Graph-Based Real-Time Fault Diagnostics,N89-15566
  6　David.L.Lverson.A Diagnosis System Using Object-Oriented Faults Models,N90-27313
