宇航学报 
JOURNAL OF ASTRONAUTICS
1998年 第19卷 第1期 No1 Vol.9 1998科技期刊

　空间机械臂动力学奇点与回避
顾晓勤
(河北师范大学机械系*石家庄*050031)
刘延柱
(上海交通大学工程力学系*上海*200030)
　　摘　要　本文导出空间机械臂非完整约束方程,讨论自由漂浮系统动力学奇点问题,对冗余和非冗余系统分别提出避免奇点的方法,对平面运动情形得到减少奇点出现的工程方法。文中附有算例。
　　主题词　空间机械臂　动力学　多体动力学
AVOIDING DYNAMIC SINGULARITIES 
OF SPACE MANIPULATOR
Gu Xiaoqin
(Heber Normal University*Shijiazhuang*050031)
Liu Yanzhu
(Shanghai Jiaotong University*Shanghai*200030)
　　Abstract　The nonholonomic constrains of space manipulator are derived in this paper.Dynamic sigularities of free-floating system is discussed,and reducing area of singularity for in-plane moving system are proposed.The numerical simulation example is given.
　　Key words　Space manipulator　Dynamics　Multibody dynamics
1　引　言
　　空间机械臂可用于卫星释放、回收及空间站的在轨建造维修等。本文介绍了一种新的压电驱动的高分辨率、宽行程、高频响的二维微动工作台,研究了它在超精密定位补偿中的应用。给定负载始末位姿或在惯性空间给出设计轨迹求转铰运动规律时,当广义Jacobi矩阵奇异则系统出现奇点,无法得到逆问题解。由于漂浮系统奇点与系统动力学特性有关故称动力学奇点。　　


图(a)　X向　　　(b)　Y向
图3　电压――位移关系曲线


图(a)　X向　　　(b)　Y向
图4　动态特性曲线
4　定位补偿系统研究
　　以柔性铰链为导向机构的超精密微动工作台可用于能束加工、超精密加工及检测、微操作系统等要求具有纳米级定位补偿的技术领域中。
　　Papadopoulos等在文［1］中将广义Jacobi矩阵中机械臂转角、载体姿态角分离,画出平面双杆空间机械臂铰空间奇异曲线,并提出减小可能出现动力学奇点区域的方案。文［2］针对自由漂浮系统广义Jacobi逆矩阵不能由机械臂几何参数确定的特点,提出用机械臂的Jacobi矩阵替代方法,并对近似线性方法给以三种改进算法。本文导出系统的逆问题求解式,指出动力学奇点出现的原因及物理意义。对于冗余自由度系统提出近似回避奇点方法;对冗余系统则提出利用运动学冗余顺利实现设计轨迹的控制算法,对平面运动系统还讨论了减少动力学奇点出现的工程方法。
2　逆问题求解
　　设系统由载体B1、机械臂Bi(i=2,…,n-1)、抓手和刚体负载Bn以单自由度柱铰组成。以系统质心0c为基点建立惯性基e0,以各分体质心0ci为基点建立连体基ei(i=1,…,n),设系统初始角动量为零,无外力矩作用,由动量矩原理对0c点有:

(1)
其中Jj、ωj、mj、ρj(j=1,…,n)分别为Bj的中心惯量张量、角速度矢量、质量、质心0cj相对0c的矢径,利用增广体矢量bij可将ρj表示［3］:
　　　
(2)
将载体姿态角θ1k(k=1,2,3)和相应的转轴基矢量p1相对连体基e1的投影列阵p1k(k=1,2,3)排成列阵θ1=［θ11,θ12,θ13］T和方阵p1=［p11,p12,p13］,设θj为机械臂相对转角,pj为相应的转轴基矢量相对连体基ej的投影列阵,Aij为ej的方向余弦矩阵,引入增广体惯量张量K*ij,令,记q=(θ2,θ3,…,θn)T,运用多体系统动力学［3］将式(1)化为:

(3)
　　将(2)式对时间求导,得到负载质心在惯性坐标系中速度:

(4)
其中广义Jacobi矩阵J=A01(J1Ja2-J2,J1Ja3-J3,…,J1Jan-Jn),为增广体矢量在连体基ei上的坐标方阵。
　　对于给定的设计轨迹ρn(t),由(4)式得到当J可逆时机械臂转角控制规律:

(5)
　　当空间机械臂系统位形处于qS使detJ(qS)=0时,系统出现奇异现象逆问题无解,由于与广义Jacobi矩阵与in有关,而bin由整个系统质量几何特性确定,故具有动力学特征,而地面机械臂只具运动学奇点。文［4］指出对空间臂当不出现动力学奇点时,几乎所有的地面臂控制方法都可应用。另外,为了提高加工精度,降低干扰,常需进行误差补偿,误差补偿也离不开微位移技术,因此,该项技术成为现代工业部门的共同基础。所以动力学奇点在数学上精确讨论求解十分困难,本文从工程观点提出针对性处理方法。
3　避开奇点法
(a)无冗余自由度空间臂系统
　　动力学奇点的本质是广义Jacobi矩阵不满秩,在物理上表现为无论机构臂各铰如何运动都无法使负载沿某一方向运动,为此本文认为对无冗余自由度系统只能在奇点附近对设计路径作微小改变以达到控制可实现,对于路径的偏离作者采用反馈控制方法在空间臂系统通过奇点邻域后逐渐消除。以外层为例,驱动源输出的微小位移dP经一级杠杆放大后,传至中间杆(平动),最后,经二级杠杆放大,所以,工作台输出位移为:
d=m1m2dP
(1)
其中:m1=1+R1/R,m2=1+R3/R2


图2　系统结构框图
由于采用二级放大结构,该工作台满足各类宽范围扫描、高精度运动场合的要求。
(b)冗余自由度系统
　　由前面的讨论可知,空间臂处于动力学奇点时,抓手至少失去一个自由度,为使负载严格沿设计轨迹运动,应增加机械臂自由度。设机械非冗余自由度相对转角θi,冗余自由度相对转角θj,分别记为列阵qα,qβ,由(4)式:

(7)
当detJα≠0时,取,对于三维6自由度空间机械臂,qα=(θ2,θ3,θ4)T代表各臂相对转角,qβ=(θ5,θ6,θ7)T,Jα及Jβ分别为3×3阶分块矩阵。
3　微动工作台性能分析
　　使用电容测微仪、高压驱动电源、控制计算机对所研制的二维微动工作台进行标定,结果如图3所示。设ρnf为负载位姿目标值,设计转角qi(i=2,…,n)的变化规律

(9)
其中AV为正定常数矩阵。当时,负载位姿严格按(5)式定义的曲线运动;当时,出现回避奇点情行,由于Lyapunov规划方法的渐近稳定性,此方法可保证最终趋向目标值。
4　减小动力学奇点影响的方法
　　讨论平面运动情形,设ei1沿0i0i+1方向,由方程(2)得负载质心0c4相对总质心Oc的矢径ρ4,依靠(3)、(4)式计算得到

(10)
由等效惯量Ii(i=1,2,3)定义可知Ii仅是θ2,θ3的函数,与θ1无关。A01即e0基相对e1基的方向余弦阵,detA01=1,故由(4)、(10)得奇点处detJ=detJ*=0。反馈参数确定以后,把公式(4)化为离散形式,用TMS320C30指令代码编制程序即可用于位置的纳米级实时补偿控制。但在抓手惯性坐标空间,ρ4与θ2、θ3及e1i(θ1)有关,而θ1与θ2、θ3仅存在非完整约束,故抓手坐标惯性空间与铰空间点无一一对应关系,由qs不能确定惯性空间中动力学奇点。
(a)机械臂基点与载体质心重合
　　将空间臂基点O2安装在载体质心Oc1处,则增广体矢量b1i=0,代入(10)得到:
detJ*=b24b34(I1-I2)sinθ3/I1
(11)


图1　奇点分布
由于I1≠0(i=1,2,3),I1-I2=J1≠0,故θ3=kπ(k=0,±1)为动力学奇点。当用于补偿时,相当于一个闭环的随机系统,如图5所示,调节器为比例积分形式,传递函数为:


图5　闭环控制系统框图

(4)
其中KP,TI分别为比例及积分常数,是待设置的控制参数,压电陶瓷环节呈电容特性,其传递函数:

(5)
其中km,Tm为比例及时间常数,微动工作台相当于多自由度的弹性阻尼系统,其传递函数为:

(6)
其中ωn,ξ分别为固有频率及阻尼系数,图中的高压放大及传感器环节分别设为常数A和K,整个系统的传递函数为:

(7)
将s换成jω得:

(8)
　　若使整个系统能实时补偿位置的变化,则输出电压要跟踪参考电压Vr,应满足下列条件:


图6　仿真结果
模:A1(ω)=｜G(jω)｜=1
(9)
相位移:φ1(ω)=0
(10)
　　由公式(9),(10)可以解出KP和TI的值,给定A,K,km,Tm,ξ,ωn的值,通过所建立的数学模型对闭环控制系统进行仿真,结果如图6所示,可见系统具有很好的响应效果。由(2)式计算得到工作半径为r1=b24+b34,r2=｜b24-b34｜。
(b)打开载体姿态控制系统
　　对于无冗余自由度空间臂,减少出现奇点的另一方法是对载体进行姿态稳定。令,这时系统不受动量矩守恒约束,简化(10)式得到广义Jacobi阵,进而求得detJ*=b24b34sinθ3,同上面分析类似,动力学奇点处于图1中C1、C2圆上。从物理意义上看,由于A01(θ1)不变在铰空间确定的动力学奇点可一一映射到抓手惯性坐标空间,这时空间机械臂系统相当于以O*2为基点(OcO*2=b1n)、以增广体矢量bjn为杆、各转铰基矢量为pj(j=2,…,n)的等价固定基底机械臂Sf,空间臂动力学奇点即系统Sf的运动学奇点。设计负载质心在惯性空间运动轨迹时,只要不达到工作空间的边缘便可顺利实现控制机械臂相对转角。设图3所示的上升曲线方程为:
S=C1VC2
(2)
变换为:lgS=lgC1+C2lgV
(3)
　　利用公式(3)进行线性回归,可以得到C1及C2值,按等步长进行扫描,计算机控制扫描驱动电压为一非线性变化量,可以消除非线性误差,并可在纳米尺度内匀速运动,进行超精密定位,此时,系统处于开环状态。该曲线存在非线性及滞后误差的影响,这是由压电陶瓷的固有特性造成的,在实际应用中,可通过软件补偿来消除,双向运动范围都达到40μm以上,位移分辨率优于10nm,实际所得的双向干扰仅为1%,X向及Y向固有频率都为500Hz以上,大大高于同类行程的二支点支承的微动工作台,有利于提高扫描频率,降低外界随机因素的干扰。


图2　转角变化规律


图3　负载质心运动轨迹
6　结　论
　　空间机械臂系统逆动力学奇点是控制设计中必须考虑的问题,由于自由漂浮系统动量矩守恒这一非完整约束的存在,使动力学奇点在负载惯性空间不能予先确定,往往沿不同工作路径到达同一目标可导致不同结果,本文对冗余自由度系统和非冗余自由度系统分别提出处理方法,对动力学奇点从物理意义及数学概念上给以讨论,为减少动力学奇点的影响,本文提出将机械臂基座安装于载体质心或者打开载体姿态控制系统进行姿态稳定,上述处理方法从工程实践中对空间机械臂逆动力学研究、控制设计具有较高的参考价值。反馈参数确定以后,把公式(4)化为离散形式,用TMS320C30指令代码编制程序即可用于位置的纳米级实时补偿控制