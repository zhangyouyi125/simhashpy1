宇 航 学 报
JOURNAL OF ASTRONAUTICS
1998年  第3期   No.3 May   1998
科技期刊
FDF鲁棒决策方法研究
何英姿　张　兵　吴宏鑫
(北京控制工程研究所*北京2729信箱36分箱*100080)
　　摘　要　故障检测滤波器(FDF)是故障检测与隔离(FDI)方法中一种重要而系统的方法,但到目前为止有关这种方法的研究基本上都基于模型参数精确已知的情况,本文研究了具有模型误差时FDF的鲁棒决策方法,得到了一些有意义的结论。迄今虽然出现过一些极化雷达目标识别方法(多数是在少量观测频率上及对简单形体目标而言),但总的来说极化目标识别的研究仍处于低谷,有关工作在文献［1］中进行了系统的搜集与归纳。八十年代末,宽带波形技术的成熟,给雷达目标极化识别增添了新的特征信息量,使得对飞机等复杂目标的可靠识别成为可能。
2.2　目标散射能量与大圆极化轨道上极化态的正弦关系
　　限制椭圆极化比两个自由度中的一个,不妨恒定θ,且θ=θ0∈［0,π］或∈［-π,0］,γ∈［-π/2,π/2］,这是绕AB直径的一个大圆极化轨道。
　　FDF是一种基于状态估计的方法。它由Beard于1976年首次提出［3］,它的出现标志着FDI技术从传统的基于系统输入输出的无模型方法到基本模型的解析冗余方法的飞跃。迄今虽然出现过一些极化雷达目标识别方法(多数是在少量观测频率上及对简单形体目标而言),但总的来说极化目标识别的研究仍处于低谷,有关工作在文献［1］中进行了系统的搜集与归纳。一般选择观测器增益阵使得残差在执行机构或元部件故障时固定在某一特定方向而传感器故障时维持于某一平面内。
　　FDF方法用于故障检测的一个优越性是它无需故障模式信息,因为在这种方法中故障检测的重要信息在于残差方向而非其时间函数。由于这一特点,FDF在最近二十年里得到广泛的重视。但是,FDF方法对模型不确定的鲁棒性问题一直没有结论。这里需要说明一下,实验中的数据是在目标0°～30°方位角范围并以1°间隔测得的,而识别时只涉及了0°～28°的范围。这种方法设计比较复杂,要求预先知道未知输入的结构矩阵,占用较多的设计自由度,使FDF只能在剩余自由度上进行设计。
　　解决FDI鲁棒性问题的途径有两种,一是设计一种对不确定具有鲁棒性的残差产生方法,这是从根本上解决问题,但这种方法难度较大,通常有一些严格限制条件,不易实现;另一途径是分析模型误差等不确定性对系统的影响,在检测和隔离时附加适当的阈值,这种方法简单实用,但如果阈值选取不当会导致漏报或误报。对于FDF,未知输入观测器属于前一种方法,本文希望用第二种方法来解决模型存在误差时的鲁棒FDF设计,得到合适的故障检测阈值。
2　FDF的鲁棒决策方法
2.1　基本FDF方法
　　考虑系统

(2.1-1)
其中,A∈Rn×n,B∈Rn×q,C∈Rm×n,当系统发生部件或执行机构故障时,系统方程为

其中,fi∈Rn×1是预先知道的故障方向,μi是任意未知时变标量。传感器故障时,系统可以描述为

其中,qi∈Rm×1是与第i个传感器故障相对应的单位向量。
　　检测滤波器具有如下通常的线性观测器形式

如果定义状态估计误差和输出残差分别为

则无故障时闭环方程为

(2.1-2)
　　FDF的目的是确定检测增益阵L使故障fi下输出残差ε与Cfi成正比,并使得滤波误差ε在出现故障的瞬间以及达到稳态后始终与Cfi成正比。可以证明传感器故障下检测增益阵的设计与之统一,它将ε方向固定在一个平面内［5］。
　　FDF设计的核心可归结为求解下面的方程组

　　其中Wi=Cfi=Cvij(j=1,2,…ni;i=1,2,…,r)。在这里,与故障fi有关的特征值与特征向量的数目ni是待定的,ni个有关特征向量vij(j=1,2,…,n)构成了故障fi的检测空间。八十年代末,宽带波形技术的成熟,给雷达目标极化识别增添了新的特征信息量,使得对飞机等复杂目标的可靠识别成为可能。
2.2　模型存在误差带来的问题
　　无模型误差时,FDF设计过程保证故障输出方向(Cfi)等于某一个或某几个系统特征向量(Cvij)的组合,使得此故障下的输出残差方向是这个特征向量或这几个特征向量中的任何一个在输出空间的投影,同时输出残差方向也就与故障输出方向一致。FDF方法检测与隔离故障的依据是看输出残差向量在残差空间的方向是否与所设计的某个故障输出方向一致,故障的检测与隔离同步进行,为简便起见,后文均用检测代称。
　　如果系统(2.1-1)的模型存在误差,则故障下的输出残差方向并不能与设计方向符合。假设真实系统为

(2.2-1)
用于建立观测器的系统模型为

(2.2-2)
这里,A,A0∈Rn×n,B,B0∈Rn×q,C∈Rm×n,且(A,B)能控,(A,C)能观。设

则故障fiμi下的误差系统方程为

(2.2-3)
其中G0=A0-LC。为完整地描述目标的极化散射特性,我们定义了两种谱的概念:利用宽频带局部最优极化在极化轨道上的运动特性,引入动力学理论描述,定义了一种称为极化谱的概念［4］(此文不介绍);利用目标散射能量与大圆极化轨道上极化态的正弦关系,结合宽带观测条件,定义了本文的极化域能量谱概念,图1是H飞机目标的极化域能量谱。与式(2.1-2)相比可知,除了w项外,(2.2-4)式的不同之处还有G与G0的差别。由于FDF设计的特点,上述两类不确定性从不同的角度影响故障检测性能。前者“污染”故障向量而影响故障检测,称为“显性不确定性”,后者改变了误差系统的特征方向从而改变了故障下设计残差输出方向,称为“隐性不确定性”。FDF的鲁棒决策要解决的问题是:分析上述两部分不确定性对故障检测的影响,采用附加阈值等手段使模型存在误差时FDF方法检测故障尽量准确。
2　目标散射能量与极化轨道上极化态的关系
2.1　椭圆极化比
　　考虑极化基变换,即
　　(A.B)=(H.V)［T］,酉过渡矩阵
由于φ1,φ2并不影响新基A、B的极化状态(H、V为一对水平、垂直极化基),仅有φ1对A、B之间的相对相位作贡献,故暂可不考虑φ2,根据坐标变换,有:

在后面研究极化轨道的相关问题中,为了不失一般性,可令φ=0,则:
,这便是椭圆极化比与线极化比的关系。
2.3.1　隐性阈值
　　系统模型由(2.2-2)描述,相应于故障方向fj(j=1,…,r)的隐性阈值可由如下定理给出。
定理1:设G如前定义,特征根λi(i-1,2,…,n),相应特征向量vi(i=1,2,…,n),并满足‖δG‖=‖δA‖≤σ,G0也如前定义,且G0的特征根相应为λ0i(i=1,2,…,n),特征向量为v0i(i,1,2,…,n)。记特征值扰动为δλi=λ0i-λi,特征向量扰动为δvi=v0i-vi,πi为所设计的故障fi下的输出残差向量(πi=Cvij),π0i为对应的实际输出残差向量(π0i=Cv0i),则隐性隔离阈值Ythj(j=1,2,…,r)如下表示

(2.3.1-1)
其中

　　证明:
　　根据已知可以得到
δvi=-T-i(λi)(δλiI-δG)v0i
其中Ti(λi)=λiI-G
　　设αi为πi与π0i的夹角,根据欧氏空间中向量夹角的定义,有

根据假设,δπi≈0,因此,δπi与πi和π0i分别近似正交(零向量与任何向量正交),不难得到


而根据线性代数理论有

所以

即　　　
　　故障fjμj对应检测空间中的nj个特征向量,因此选取这nj个αi中的最大上界作为隐性阈值是合适的,即阈值可由(2.3.1-1)式给定。
证毕。由于极化椭圆几何描述子(ε,τ)表征的极化状态平面有其固有的缺陷,即(ε,τ)参数组对于线极化比模值存在不可微的奇异点,同时还存在截断效应问题,使得这种极化谱概念即使是描述单频点上的目标散射能量分布都是不完善的。其中‖ε‖τ和‖εΔ‖τ分别代表系统的总输出残差大小和仅仅由显性不确定性导致的输出残差大小:‖*‖τ表示一种基于残差均方根指标的范数算子［5］。显性阈值可由如下定理给出。
定理2　对于(2.2-1)和(2.2-2)描述的系统,利用FDF检测故障时的显性阈值可取为

(2.3.2-2)
其中,λmax是G的最大特征值,αij是构成fi的ni个非零特征向量对应的非零系数,λij是对应特征值,上标i代表相应于故障fi。
　　此定理证明过程比较繁琐,限于篇幅这里只给出证明的简单思路。
设

令ξi代表ε(t)=ε0(t)+δε0(t)与ε0(t)的夹角,类似于定理1可得到

利用(2.3.2-1)式、(2.3.2-3)式和(2.3.2-4)式以及范数性质等可推导出

从而得到(2.3.2-2)式。
　　由(2.2.1-1)和(2.2.2-2)式得到FDF的故障检测阈值为
Ithi=Xthi+Ythi
在应用FDF方法之前,先求出每一个故障向量对应的检测阈值,当发现输出残差落在某个设计方向的阈值之内则判断相应故障发生。
　　对于传感器故障,先验确定两个故障方向,然后根据这两个方向按照FDF方法进行设计,并可利用平面夹角的概念获得检测阈值,同样可得到鲁棒检测结果,参见作者其它论文,这里不再细述。
　　由于模型不确定性的影响,故障检测不再是看残差是否与某个设计故障方向重合,而是看它落在哪个检测锥(以设计方向为中心以检测阈值为半锥角)之中。当检测锥出现相交区域时,相应故障虽可检测但不可隔离,必须借助其它手段。
4　鲁棒FDF方法在卫星姿控系统故障检测中的仿真研究
　　为了说明FDF鲁棒决策方法的有效性,下面看一个具体实例。假设卫星姿控系统的部件只在稳态以后才有可能发生故障。他所定义的极化谱是单频点上目标散射能量随发射极化态在极化状态平面上的分布。其中状态变量为x=［x1　x2　x3　x4］T,各分量分别代表俯仰姿态角,帆板转角,俯仰角速度和帆板转动角速度。另外,由于本文的极化测量是在宽带条件下进行的,因此这种单频点下极化谱的概念难以适用。通过测量和数学解算等手段可以得到所有四个状态变量,状态方程与输出方程各系数矩阵为

　　由于上述系统经过小角度线性化得到,并略去了帆板带来的挠性,因此模型必然存在误差。通过分析可知模型参数A处于真实参数的较小扰动范围之内,设σ=0.05。考虑执行机构俯仰飞轮和帆板驱动机构的可能故障形式,可以看到,俯仰飞轮和帆板驱动机构的故障方向分别为

　　按照FDF设计方法,设计出系统的观测增益阵为

相应特征值和特征向量分别为

其中,v1相应于故障f1的检测空间,v2相应于故障f2的检测空间,而v3和v4是剩余空间,有
πi=Cfi=Cvi,　(i=1,2)
　　考虑两个故障,一是俯仰飞轮由于机械故障等导致飞轮减速,从而输出力矩减小;二是帆板驱动机构由于卡住等使得驱动力矩减弱。按照故障幅度相等,取故障
Ty=Ty0-0.0026
(4-1)
Tp=Tp0-0.0001
(4-2)
其中,Ty0,Tp0代表预期力矩,Ty,Tp代表实际力矩。仿真中以非线性带挠性的模型递推计算来模拟卫星真实姿态运动过程,而FDF根据线性刚体模型进行设计,并附加一定测量噪声。故障发生之前可得到无故障时的输出残差幅度,随时监测残差幅度变化,确定ρ,从而随时计算检测阈值。
　　可以证明,对于两种约束(场论约束,网络约束)［2］,功率矩阵的变基皆为酉变换,说明了变基时的能量不变性,因此,反射波的功率密度由给出。
Xth1=53.0°,Yth1=2.1°,Ith1=55.1°
Xth2=43.6°,Yth2=1.4°,Ith2=45.1°
如果μi时变,则阈值也随之变化。另外,由于Cf1与Cf2夹角为145°,这两个故障的检测锥是相离的,因此是完全可分的。这是因为我们开了一个3°的方位窗口进行平滑处理。两种情况下残差方向均进入各自的检测锥之内,因此易于检测故障发生。


图1　俯仰飞轮于4000秒发生(4-1)式所示故障时
输出残差与Cf1的夹角


图2　BAPTA于4000秒发生(4-2)式所示故障时
输出残差与Cf2的夹角
5　小　结
　　本文研究了存在模型误差时,FDF的鲁棒决策方法,得到了解析的故障检测阈值,并对卫星姿态控制系统的执行机构故障进行了仿真研究。本文对FDF方法的实际应用作了一些必要工作,对FDF设计有一定指导作用。


图3　能量谱特征参数


图4　目标识别器结构
表1
目标姿态横滚0°、俯仰0°、方位角0°～28°
目标类型WYFJH
识别率%85.789.382.189.382.1
5　结束语
　　实验结果表明:基于极化域能量谱描述的目标识别方法,能够达到较好的目标识别效果,与基于本征极化描述的目标极化异性程度的模糊算法［5,6］相比较,因为极化域能量谱描述直接面向实测极化散射矩阵,它不但适用于单站条件下的线性目标测量情况,而且适用于准远场以及双站测量等情况,它不需要进行散射矩阵的对称性修正,因而避免了处理过程带来的信息损失。
参考文献
1　Isermann R..Process fault detection based on modeling and estimation method―a survey.Automatic,1984,20(4):387-404
2　Paul M.Frank,Fault,Diagnosis System Using Analytical and Knowledge-based Redundancy―a Survey and Some New Result,Automatic 1990,26(3):459-474
3　Beard R V.Failure Accommodation in Linear System through Self-Reorganization.Rept MVT-71-1,Man Vehicle Lab,Cambridge,MA,1971.
4　Jie Chen,Ron J.Patton and Hong-Yue Zhang,Design of unknown input observers and robust fault detection filters,INT.J.Control,1996,63(1):85-105
5　周东华.控制系统的故障检测与诊断技术.清华大学出版社,1994
6　李清泉.自适应控制系统理论.设计与应用,科学出版社,1990
7　Wilkinson J H.(Cantab.) M A Sc D.The Algebraic Eigenvalue Problem.Clerendon Press,Oxford,1965
