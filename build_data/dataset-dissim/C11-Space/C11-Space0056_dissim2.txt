航空计测技术
AVIATION METROLOGY &
MEASUREMENT TECHNOLOGY
1999年 第2期 No.2 1999



关于冲击信号的数字处理方法研究
沈　文
　  摘要 介绍了冲击信号各项指标的计算方法，并着重介绍了如何将数字信号处理方法应用于冲击信号的处理中。
　　关键词　冲击信号　数字处理　研究
　　Abstract　In this paper,the computation method of each and every specification index of shock signal is presented.And how to apply digital signal processing method to the shock signal processing is introduced emphatically.
　　Key words　Shock signal,Digital processing,Study

　　在实际工作中，常常需要对所采集到的数字信号进行处理。在另一种情况下，如果干扰信号产生20 °C的负误差，那么当指针上升到
930 °C时，由于电炉停电，干扰消失，指针上升到实际炉温950 °C，这时虽然不会引起电磁继电器频繁动作，但由于实际炉温高于工艺规定要求，有可能对炉内零件质量造成影响。在研制冲击测试仪的过程中，碰到了对冲击信号(本文中的冲击信号均指冲击产生的加速度信号)进行各项指标的计算，其中包括对冲击信号进行一定的数字信号处理的问题。本文将对这些问题进行讨论。
1　冲击测试系统的组成
　　在研制的冲击测试系统中，冲击信号的测试与记录仪器包括加速度传感器、电荷放大器、低通滤波器、数据采集模板、计算机及PP40打印机等部分。其连接框图如图1所示。




图　1
　　在实际信号的测试中，首先由加速度传感器测出冲击信号，并将其转换为一个电荷量发送出去。该信号被传送到电荷放大器，转换为－10～10 V的电信号。然后再经低通滤波器滤波后，传送至数据采集模板，经A／D转换器转换为数字信号，并经数据采集软件采集数据后，将采集到的数字信号送至计算机。在计算机中对采集到的数据进行计算、处理，得到有关该冲击信号的各项性能指标，将计算结果显示到计算机屏幕上或由打印机打印出来。
2　冲击信号的数字处理方法的理论依据
　　尽管在测试系统中有低通滤波器去除高频干扰，但是由于环境因素的影响，比如:电荷放大器的输入输出干扰;A／D转换器的输入输出干扰;电源的干扰以及连接线的影响等，实际送至计算机中的信号已包括了一些干扰信号。如何尽可能地去除这些干扰信号，使得处理过的信号更接近于冲击台实际产生的冲击加速度信号，是我们所要研究的课题。而热电偶工作端又通过金属保护管接在电炉外壳上，形成第二个接地点b，这样由于a点和b点的电位不相等，就会出现干扰电流流经补偿导线电阻R1时，在R1上产生的电压降就会转化成串模干扰,如图3。

图　2
　　考虑到信号与噪声比较，信号相当平滑。而冲击信号中的干扰项接近于平均值为零的不规则的完全不相关的白噪声。这时可以用平均法、单纯移动平均法以及曲线拟合法对信号进行平滑处理.
1.1　平均法
　　白噪声具有一个很重要的统计特性，即它的统计平均值为零。即

式中，n(t)为随机噪声的一个样本；E(n(t))为对n(t)取均值；T0为观察时间。
　　当对n(t)进行等间隔采样时，其离散序列的均值可表示为

如果n(t)为随机白噪声的一个样本，则有E(nk)＝0。
　　例如：我单位热处理车间井式电阻炉处理一批渗碳件，材料为20铬钼钛。
　　假设数据系统采得的数据有两部分组成

式中，x(t)为处理前的数据；s(t)为有用数据；n(t)为随机噪声。用离散值可表示为
　　假设在N次采样过程中，sk的值基本不变，可近似地看成一个常数C。对x取平均值则有

　　上式表明，利用时域平均可以平滑白噪声。
2.2　单纯移动平均法
　　单纯移动平均法又称算术平均法。将由n个点组成的离散信号用x(i)，i＝1，2，…，n表示，把原信号进行平滑处理后在i点的平均值为y(i)。

　　其中,，w(j)表示由2m＋1个点组成的左右对称的权函数，采用矩形权函数，即w(j)＝1。
这时，

　　其中,N＝2m＋1，i＝m＋1，…，n－m
　　所以,用单纯移动平均法对信号的平滑处理,进行简单的定量分析。
　　在所处理的冲击波形中，通常认为信号与噪声相比，信号是很平滑的。所谓等电位屏蔽法就是由于测量桥路的导线与它的屏蔽层存在着分布电容和漏电阻，输入变压器初级绕组和它的屏蔽层也存在着分布电容和漏电阻，如果屏蔽层均接地，那么漏电流将通过测量桥路或输入变压器而造成干扰。这时如果权函数的宽度加大，平滑结果y(i)所含噪声成份由于平均化就会减小。其大小可用其方差σ2n来评价。
　　若｛xk｝为叠加有随机噪声的某一个数据序列，其均值为E(xk)＝μx，方差为σ2xn，则经处理后的数据序列的方差为

　　因此,通过单纯移动平均法可使信号的平均方差降低到原来的1／N倍。
4　结束语
　　从以上分析看出，干扰信号是电子电位差计的大敌，它对仪表的正常工作会产生很大的影响。
4　结束语
　　从以上分析看出，干扰信号是电子电位差计的大敌，它对仪表的正常工作会产生很大的影响。其频谱

其幅频图如图3所示。
　　共模干扰的抗干扰措施，根据干扰来源，主要从两方面着手：一是切断漏电流进入仪表的途经，或把它降到最低值。其频带宽度为1／((2m＋1)△) Hz。其中2m＋1为平均法所取的点数，△为采样时间间隔，单位为s。


图3　用单纯移动平均法滤波的幅频图

　　工程规定，为了不丢失冲击信号的有用成分，排除干扰和噪声的任何处理方法，都应保留原信号有用成分的频带范围，该范围为0.008／T～10／T Hz。


图　3

　　漏电流的形成是因为有些绝缘体的绝缘性能随着温度的升高而逐渐下降。
　　在所采取的单纯移动平均法中，取m＝2，即低通滤波的频带范围为1／(5△) Hz，而冲击持续时间T＝360△，即信号有用成分的频带范围为0.008／(360△)～1／(36△) Hz。低通滤波的频带宽度1／(5△) Hz硇藕庞杏贸煞制荡范围的最高频率1／(36△) Hz，该滤波保留了原信号的有用成分。因此通过对仪表干扰的来源、种类的分析，就可以使我们采取相应的抗干扰措施，以便使仪表更好地为科研与生产服务。
2.3　多项式适合法
　　多项式适合法又称为最小二乘法。它是将观测波形按照特定的曲线(如二次、三次曲线)拟合来取得平滑数据。考虑到冲击波形(标称波形为半正弦曲线)接近于二次曲线，采用二次曲线拟合法来进一步进行数据平滑处理。
　　若在点i作为中心点的2m＋1个点内，用二次多项式来拟合信号波形
y(j)＝a(j－i)2＋b(j－i)＋c
其中，j＝－m＋i，…，－1＋i，i，1＋i，…，m＋i。由y(j)与实际测定值x(j)的二乘误差关系式出发，就可求解出二次多项式的系数a，b，c。
　　采用多项式适合法，噪声成分的抑制能力，可以采用噪声减轻度来衡量。

　　显然L是依存于权系数的，噪声减轻度L因多项式次数增高而减小，随平滑点数N的增大而增大。热电偶保护管接地可以使干扰电压沿着保护管通地，而不进入热电偶，这种方法简单，是我们常用的一种抗干扰办法。
　　在所使用的冲击信号处理的程序中，先采用单纯移动平均法对采集信号进行平滑处理，再用二次曲线拟合法进一步进行曲线拟合，可以获得较好的噪声抑制能力及较满意的数据平滑效果。
3　将数字信号处理方法应用于信号处理软件的编制中
　　在对产生半正弦脉冲波形的凸轮式碰撞试验台进行检定时,给出其峰值加速度、脉冲持续时间、速度改变量及横向运动比等性能指标。在对其计算中，用到了上文中所述的数字信号的处理方法。
3.1　峰值的计算方法
　　由于传感器的不同，在采集到的冲击波形中，包括正信号波形与负信号波形，如图4所示。


图　4
　　在冲击信号处理中，首先需要对冲击信号进行归一化处理。这就是说，如果波形为负波形，将其变为正波形。其改变方法为:将采集到的波形上的各个数据点的数字值取补。这样，就可将所有如图4中所示的负波形转换为正波形，将所有波形的处理均转化为对正波形的处理。
　　对归一化后的波形，首先需要计算加速度峰值。其计算方法为：先找出最大值点amax，再从最大值点向开始点方向往回找一段距离，到位置2(如图5所示)，然后再以该点为起始点，向后取一小段距离，以波形仍在最小值左右变化为限，到位置3，对位置2到位置3所包括的所有数据点取平均值，将其平均值作为最小值amin，如图5中虚线所示，用最大值减去最小值，其差即为加速度峰值。漏电流即可从加热元件电炉丝经耐火砖传到热电偶保护管，再传到热电偶的工作端。1)最大值并不是峰值。在冲击过程中，由于冲击体开始是向与最大值加速度相反的方向做加速运动的，因此，得到的冲击加速度将是一个负值。这里，将加速度峰值定义为冲击加速度的最大值与冲击加速度的最小值之差。2)由于冲击体在运动过程中受到一定的外界干扰，在波形中会有一些高频分量出现，在信号中以波动的形式表现出来。而理想冲击曲线的开始的加速度应为一恒定值(例如:对于自由落体而言，应为重力加速度g＝9.8 m／s2)。下面对串模干扰和共模干扰的来源及采取的抗干扰措施分别加以分析。如前所述，该方法可有效去除原波形较平滑的信号的随机噪声。二是对仪表主要线路采用等电位屏蔽，并合理安排一条漏电流的通路，阻止其进入测量系统输入变压器。此外，有时在仪表附近还装有大型变压器、交流接触器和电动机等，它们所产生的交变磁场，会通过各种途径，特别是通过热电偶传到电子放大器，从而引入干扰。
　　计算方法：首先，以峰值加速度为100％，在冲击波形的最大值以前的8％～30％的范围内做五点移动平均法平滑处理。有的单位为了图省事，将补偿导线和电炉动力线穿在同一铁管中，这是绝对不允许的。将这两点间的所有点(包括这两点在内)作为处理对象，对其进行数据平滑处理。
　　处理方法：在第一个点之前取两个点，之后取两个点，将包括该点在内的五个点做一次平均计算，用其平均值代替原来的值。


图　3

　　漏电流的形成是因为有些绝缘体的绝缘性能随着温度的升高而逐渐下降。这种处理方法称为五点移动平均法平滑处理。公式见(1)式，假设共有n－2m个处理点。然后，将已做数据平滑处理后的波形用最小二乘法做二次直线拟合。而与滑动臂相连的指示机构沿着有分度的标尺滑行。用同样的方法可以计算出脉宽结束点的位置(图6中的2点)。与前者不同的是， 这时须在(amax－800H)的8％～30％的范围内对数据进行平滑处理，计算出其二次拟合曲线在中心点处的切线与800 H(零线)的交点，该点即为脉宽结束点。脉宽开始点与脉宽结束点之间的时间间隔即为脉宽TW。在计算脉宽时，没有直接用波形与最小值线的交点及波形与零线的交点作为脉宽开始点与脉宽结束点，是考虑到波形在开始上升处与开始下降处有一个平缓的过渡过程，若直接用其与最小值线及零线的交点作为脉宽开始点与结束点，将会使得出的脉宽过宽，与实际情况不符。实验证明，用上述方法计算出的脉宽与对实际波形所估计的脉宽较符合。


图6　冲击信号脉冲宽度的计算方法

4　结论
　　在冲击信号的处理中，当信号与噪声比较而言是一条平滑的曲线时，引入单纯移动平均法和二次曲线拟合法相结合的数据平滑处理方法，可有效地去除随机噪声的影响。实践证明，将其运用到标称波形为半正弦脉冲冲击信号的处理中是可行的。
　　
　　　　　　　　　　　(a)电原理图　　　　　　　　　　　　(b)等效电路
　　　　　　　　　　　　　　　　　　　　　图　4

　　根据等效电路可求得引入放大器输入端的干扰电压：
UAB＝UAC－UBC
UAC＝Z1U海(Z1＋Z3)
UBC＝Z2U海(Z2＋Z4)
UAB＝Z1U海(Z1＋Z3)－Z2U海
(Z2＋Z4)
＝U(Z1／(Z1＋Z3)－Z2／(Z2＋Z4))
因在实际线路中,　Z3Z1　　Z4Z2
UAB＝(Z1／Z3－Z2／Z4).U
由上式可以看出，当Z1／Z3＝Z2／Z4时，则放大器输入端没有干扰信号输入;但实际上，AC和BC两条支路中的电阻是不相等的，分布电容也不相等，因此热电偶对地有干扰电压存在