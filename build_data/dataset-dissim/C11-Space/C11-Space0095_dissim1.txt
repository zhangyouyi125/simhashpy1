航空计测技术
AVIATION METROLOGY & MEASUREMENT TECHNOLOGY
1999年 第19卷 第5期 Vol.19 No.5 1999



空间坐标转换技术的分析与研究(二)
周维虎　兰一兵　丁叔丹　费业泰
Analysis and Study of Spatial Coordinate Transformation Technique (2)
Zhou Weihu,Lan Yibing,Ding Shudan,Fei Yetai
(上接1999年第19卷第4期第12页)
7　微分转动
　　前已叙述，坐标系间的转换一般需多次旋转，旋转次序是任意的。但应记住，绕坐标不同的旋转次序，虽然旋转角都是三个，但各自旋转角之间的差别却可能较大。也就是说，旋转矩阵运算时不能交换位置。只有当αx,αy,αz均很小时，坐标旋转才与旋转次序无关，与左、右乘也无关。此时
　　(13)
称转角α特别小时的转动为微分转动。微分转动不仅可以简化坐标转换，而且理论上可以解决绕空间任意轴的旋转问题。设O-XYZ中，任意向量的方向余弦为mx，my，mz，绕该向量转动δθ的微分转动等效于绕X，Y，Z轴的三个微分转动。三个微分转动分别为

复合微分转动为

8　齐次矩阵
　　坐标转换一般由旋转和平移组成，转换公式由(4)式表达。超声波测位就是利用超声波脉冲反射回波法实现的。本系统原理框图见图1和图2。式中，R3×3为转动矩阵，O1×3为零阵，(a，b，c)T为平移矩阵向量。如果统一用齐次矩阵表示，单次旋转矩阵和平移矩阵可表示成



　　(15)
　　R后面括号中的第一个变量表示转轴，第二个变量表示转角，Trans为平移矩阵。括号中的a、b、c分别表示沿x、y、z轴移动的距离。
3　电路组成与软件设计
3.1　电路组成
　　系统采用LM1812超声波专用集成电路。
　　齐次矩阵逆阵的求法如下:设有齐次矩阵

逆阵为
　　(16)
　　上面矩阵第四列各元素为矢量的数量积

其余类推。计数器采用两片74HC161四位同步计数器来计算超声传播的时间。借助于微分转动和齐次矩阵可以解决物体的运动速度，借助于雅可比矩阵及其逆阵可以实现从关节速度到笛卡尔速度之间的正逆变换。本文对这些内容略加介绍，作为微分转动和齐次矩阵的应用实例。
9　微分算子
　　物体的运动速度可定义为微分运动与微分采样时间之比，研究速度需从微分运动开始，先介绍微分算子的概念。该系统具有测量精度高、速度快、重复误差小的特点，并有数据运算与记忆功能。





图3　软件流程图
4　实验结果及结论
　　表1所示为实验数据。由于声速与传播介质的温度变化有很大关系，因此还需测量周围环境的温度，修正声速，从而提高精度。以6关节机器人为例，手臂在笛卡尔空间的6自由度微分位移可表示为

机器人关节空间的微分位移为

这里，微分位移D与Dθ均为广义位移。超声波传感器(探头)由控制器控制，在脉冲源的激励下发出间断超声脉冲进入介质，在目标处由于介质的不连续，声阻抗不同，声能在阻抗不连续处发生反射，其中一部分声能反射回来，由超声波传感器接收，测得发射和接收声脉冲之间的时间间隔。

若J的逆阵存在，则
Dθ＝J－1．D　　(19)
J－1实现了笛卡尔空间至关节空间的转换。但是，目前常见的测位系统功能单一，精度不高，不能进行远距离实时监测，因此，在我们研制的料位测量系统中，不仅采用单片机为控制核心实现智能监测，而且将编码通信技术应用于本系统，实现了远距离实时监测。该遥控组件由PT2262／PT2272收发模块组成，采用两种编码方式：一种是外围电路硬件固定编码方式，一种由计算机采用软件编码方式。
(续完)
作者简介：周维虎　　36岁　男　高级工程师
作者单位：北京长城计量测试技术研究所，北京市，100095
参考文献
　1　陈哲等.机器人技术基础.北京:机械工业出版社,1997
　2　夏凯等.机器人控制.北京:清华大学出版社,1994
　3　李广云等.工业测量系统.北京:解放军出版社,1994
　4　数学手册.北京:高等教育出版社,1990
