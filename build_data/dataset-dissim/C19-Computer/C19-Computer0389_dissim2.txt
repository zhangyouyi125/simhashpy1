信息与控制
INFORMATION AND CONTROL
1999年 第28卷 第3期 Vol.28 No.3 1999



一种实现灰箱系统故障定位的诊断技术*
郭其一　卢桂章　赵新
　　摘要：故障定位是故障诊断的关键之一，而神经网络的训练和学习速度问题，一般不适用于通过在线学习而实现的动态诊断。
*国防科技预研跨行业基金项目,98J18.1.4BQ026
作者简介：唐敦兵，27岁，男，博士生。网络补偿部分的联接权采用在线学习方法，具有快速的收敛速度和良好的跟踪特性。
　　关键词：灰箱系统，神经网络，故障诊断，故障定位
　　中图分类号：TP206　　　　　　文献标识码：B
A FAULT POSITIONING DIAGNOSIS TECHNIQUE
FOR GREY BOX SYSTEM
GUO Qiyi
Shanghai Tiedao University, Shanghai 200331
LU Guizhang　ZHAO Xin
Nankai University, Tianjin 300071
　　Abstract　Because of the learning and training speed, the neural networks is not used in dynamic diagnosis with on-line self-learning in general. And the fault positioning is very important. In this paper, an observer method, is put forward to realize functions of fault isolation and part diagnosis, which is based on neural networks, built on mathematical model for the known part of the object, and combined with compensation net and the fault positioning technique. It is a deep knowledge method with fast convergence speed and good tracking character istics when training process is on-line.
　　Key words　 grey box system, neural network, fault diagnosis, fault positioning
　　1　故障定位诊断
　　故障诊断就是根据系统的测量信息，经过给定的推理原则，计算状态特征，判断系统是否故障；若发生故障则指明故障部位与机理，向控制者(机器或人)提出故障时系统控制和处理原则，实施故障保护。因此故障的定位与隔离是实现诊断的关键之一。而被诊断系统几乎都是人造系统，其部分结构一般是已知或可知的，但由于其结构的复杂性、非线性特性和测量信息的有限性，数学模型或无法完整求出、或模型过于复杂、或无法准确描述、或运行过程中的变结构及某些参数未知等，而成为灰箱系统。因此很难用一般的解析方法实现诊断计算，在诊断时如何实现故障定位也就更加困难。
　　神经网络能够通过自身的学习了解被学习对象，尤其是对一些不确定和非线性对象的特性与参数能够给出合理和准确的描述。由向量与矩阵收敛理论有
　　　　　　　　　　　　　　　　　　　(13)
　　若Max(λ1,…,λi,…,λn)＜1, 其中λi为C的特征值，则有[8]
(E为单位矩阵)　　　　　　　　　　　　　　　　　　　　　　　　　(14)
　　由（13）、（14）式可知，耦合迭代过程只有当信息进化矩阵的所有特征值均小于1时才会收敛；否则，若有λmax＞1，则说明在耦合迭代过程中会因为信息调整总量的不断递增而造成迭代过程的不收敛。然而从以往的文献来看［1,2,4］，人工神经网络应用于诊断技术，主要是将被诊断对象作为“黑箱”来研究。即把对对象的认识过程交给人工神经网络的学习训练算法中。目前，并行设计方法的研究与实施正受到学术界和企业界的广泛重视，它的指导哲学是在设计阶段尽可能地同时考虑产品生命周期中的众多因素，尽早地发现设计中可能出现的问题并加以解决，实际上是希望以设计初始阶段局部过程的反复与迭代来克服传统设计中全局的较大的反复与迭代。由神经网络构成的故障诊断系统，实际上是一个神经网络专家系统，它将人类专家丰富的诊断应用经验作为知识描述，存储在神经网络的连接权中，将诊断推理过程转变为一个网络的静态计算过程，这是基于浅知识的诊断推理方法［3］。
　　但上述诊断方法在实现故障的定位尤其要实现部件诊断时有相当的困难，现有的关于故障定位的推理计算方法常常要求系统模型已知［5,8］。
*国防科技预研跨行业基金项目,98J18.1.4BQ026
作者简介：唐敦兵，27岁，男，博士生。文\[8\]对基于状态估计的诊断方法以及相应的残差分析与诊断策略进行了详细的阐述。
　　2　实现灰箱系统故障定位的诊断模型
　　设系统的结构模型为
　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　(1)
其中n×1的向量x(t)∈Rn是状态变量，m×1向量y(t)∈Rn是系统的输出，r×1的向量u(t)∈Rr是系统的输入。慢速的信息进化与此相反。
　　由于式(2)是在特定的前提下获得的，因此式(2)不能完全代表动态系统(1)。实际上，式(2)仅表示在特定条件下的可知部分数学模型，不可知部分主要包含系统的时延环节、控制策略、非线性因素、变结构变参数及其他的一些不可知因素。由（一）、（二）两点可知，信息进化矩阵特征值中的实数部分定性地描述了信息调整量的影响（见图1），实数部分增大，信息调整量增大，则迭代过程收敛减慢，其中最大特征值的作用尤为显著。因此(4)、(5)两式共同构成了一个基于对象数学模型的神经网络，同时又是一个状态观测器，实现对系统状态的估计，如图1所示。研究领域为CIMS、并行工程等先进制造系统和CAD/CAPP集成技术研究。vij(k)是系统偏差Δy(k)控制下学习获得的，是时域变量，但是它的设计与选择的根据是系统的物理结构和特性(式(12)(13))，系统部件的激励特性必须在权学习中强制性体现出来，这样一方面实现了故障定位，另一方面实现了无监督的Hebb学习规则和有监督的Widrow-Hoff学习规则的结合，这就构成一个深知识的诊断推理模型从而达到部件诊断的目的。这样的网络模型结构仅仅需要学习神经网络的权系数vij(k)，因此学习时间短，可以在线学习完成。

图1　串联补偿实现定位诊断的模型结构
　　在这样结构的人工神经网络中，每一个神经单元都有一定的物理背景，神经元之间的连接都表达了相应的状态变换关系，因此该神经网络既充分描述被诊断对象的结构特征，又实现对系统的状态估计，而且可以在线学习联接权。通过残差分析以确定系统状态，实现故障检测。在系统故障时依据网络结构的物理关系，反演推理可以将故障隔离到元部件级，实现故障定位和部件诊断，发现故障机理。而现有的文献已经证明了3层BP神经网络可以以任意的精度逼近任一连续非线性函数，并可充分满足网络的结构简单性与映射精度间的统一［7］。
　　3　传动系统的定位诊断实践
　　图2所示被诊断对象是一个实际的直流串励电机控制系统的简化结构图，其中a1a2是变压器付边绕组；L1是平波电抗器；L2是励磁绕组；R2为励磁电流分流电阻；磁通是非线性的。可得系统的数学模型如下
　　　　　　　　　　　　　　　　　　　　　　　　　　　　　(6)
　　　　　　　　　　　　　　　　　　　　　　　　　　　　　(7)
其中：
　　(a) Rd：电枢回路的等价总电阻，Rd＝0.061Ω。
　　(b) L：电路的等价总电感，L＝16.5mH。
　　(c) Ceψ：Cd为电机的结构常数，ψ为电机励磁磁通，经过分段处理，可表示如下
　　(d)
　　　　　　　　　　　　　　　(8)
　　(e) CMψ：电机转矩常数与磁通的乘积，它与Ceψ的关系为

　　(f) B：风阻系数。由于在额定工作点，由
　　(g) J：折算到电机上的等价总转动惯量
J=0.00/065m　　其中m为整个拖动系统的质量。
　　(h) ML：折算到电机上的阻力转矩，是一个干扰量，只有一个估计值。

图2　直流传动控制系统简化主电路
　　由图2知，系统测量是给定输入ud0(k)、电机电枢电压ud(k)、电枢电流id(k)和速度n(k)，且是经过归一化处理后的标称值，按百分数表达，100%分别代表电流是2000A、电压是2000V、速度是200km/h。
　　2.2　信息进化的假设
　　为了便于研究，对并行设计的实际过程进行了一定的简化和假设：
　　（1）在并行设计中耦合迭代的各个阶段，每个活动都独立地并行进行一次［7］；
　　（2）耦合活动集中，每一个活动的进行必然引起和其它活动间不同程度的信息调整，在迭代过程中，假设信息调整量保持不变，即信息调整量线性假设；
　　2.3 信息调整向量
　　每经过一次迭代，所涉及到的活动都要进行信息调整，正是在这种不断调整的过程中设计信息由不完整状态逐渐进化到完整状态的，而信息调整量的大小表明了其迭代工作量的大小。而且通过这样一个过程，将属于静态范畴的神经网络转变为一个动态的过程，同时该过程使得网络尽可能多地含有系统的状态信息。学习的准则为
　　　　　　　　　　　　　　　　　　　　(14)
系统状态估计误差确定如下
　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　(15)
　　　　　　　　　　　　　　　　　　　　　　　　　　　(16)
　　　　　　　　　　　　　　　　　　　(17)
　　　　　　　　　　　　　　　　　　　(18)
残差
　　　　　　　　　　　　　　(19)
　　诊断过程的设计与实现：
　　(1)建立诊断模型；
　　(2)给出初始参数：vij(0)=K0，其中K0是系统的放大系数，可以通过实验方式预先获得；
　　(3)基于采样信息，在(14)式的控制下在线学习网络的联接权vij(k)；
　　(4)由式(15)～(19)计算跟踪误差和残差AVG(k)；
　　(5)根据已知的Rd和L，由式(12)用辨识算法在线求出ζij值；
　　(6)根据残差评估准则分析［8］AVG(k)；系统运行正常则重复步骤(3)，否则进行步骤(7)；
　　(7)若系统异常，辨识出故障时的等效电阻R′和电感L′；
　　(8)判决故障部位并评价故障的后果及处理方式，给出故障报警；
　　(9)重复步骤(3)，进入下一轮的诊断过程。
　　图3是基于系统已知模型加补偿构成的神经网络状态观测器对状态估计的跟踪特性仿真结果，输入是单位阶跃信号，因已知的非线性过程经过分段处理(8式)，故联接权的学习采用最小二乘法，经过4个测量周期递推，跟踪达到误差控制要求(在仿真时也采用递推的遗传算法，按每个测量周期递推进化迭代3次，则大约需要60代(即20个测量周期)后开始收敛，达到类似结果)。

图3　以速度为输出的跟踪特性仿真结果
　　表1是图2所示系统的一次实际故障记录，故障现象是电机电枢电流过流导致保护继电器动作，将此数据经本文所给出的算法在线计算后得到的结论是回路等价电阻由0.061Ω下降至0.021Ω，而回路等价电感几乎不变，结论为系统发生活接地现象而导致的瞬间过流，这与实际检修结论相吻合。华中理工大学学报，1997，25(12)：59～62
　4　Bossak M A, Simulation Based Design, Journal of Materials Processing Technology, 1998,76:8～11
　5　Krishman V. Managing the Simultaneous Execution of Cuopled Phases in Concurrent Product Development , IEEE Transaction on Management, 1996, 43(2):210～217
　6　Krishman V, Eppinger S D, Whitney D E. Accelerating Product Development by the Exchange of Preliminary Product Design Information, Journal of Mechanical Design, 1995, 117(4):491～498
　7　郭　伟。企业业务流程的结构建模。
作者简介：郭其一，38岁，副教授。从事控制、检测及故障诊断方向的教学与研究工作。
作者单位：郭其一：上海铁道大学电气工程系　上海　200331
　　　　　卢桂章　赵新：南开大学机器人与信息自动化研究所　天津　300071
参考文献
　1　Venkatasubramanian V, Vaidyanathan R, Yamamoto Y. Process Fault Detection and Diagnosis Using Neural Networks. Computers Chem. Engng., 1990, 14(7):699～712
　2　潭民，疏松桂。基于神经网络的控制系统故障诊断.控制与决策，1990, 5(1):58～60
　3　杨叔子等。基于知识的诊断推理.清华大学出版社，广西科学技术出版社,1993:76～119
　4　刘建华,张伟江,徐晓鸣。基于PNN滤波的非线性系统故障检测方法.控制理论与应用,1997,14(2):171～177
　5　隋家贤，黄苏南，夏圈世。故障检测与定位.自动化学报，1995,21(4):487～493
　6　Ernest O. Doebelin，童钧芳，关国枢译。在传统的顺序设计中，必须等上游的设计活动完成以后，在能获取完整信息的情况下，下游活动才开始进行，否则，下游活动无法进行。神经网络系统理论.西安电子科技大学出版社，1996，15～100
　8　周东华，孙优贤。控制系统的故障检测与诊断技术，清华大学出版社，1994，12～156
1999-01-14收稿
