计算机应用
COMPUTER APPLICATIONS
1999年 第19卷 第9期 Vol.19 No.9 1999



网络管理平台的分析及应用环境
颜凯　张军
　　摘　要　本文介绍当前国际上最流行的网络管理平台：HP OpenView，SUN NetManager和IBM NetView/6000。比较这些管理平台的应用开发环境，API接口等。
　　关键词　网络管理平台，SNMP，API
1　关于网络管理
　　网络管理就是通过规划、配置、监视、分析、扩充和控制计算机网络来保证网络服务的有效实现，包含五个基本功能域：故障管理、配置管理、性能管理、计帐管理、安全管理。通常，一个网管系统只需选取其中几个功能加以实现。从TMN的功能结构可以看出，TMN的管理功能集中于OSF， 而TMN的信息结构运用了OSI的管理原则，所以实现上采用了以中央平台为中心的管理，管理应用在中央平台上执行，向网元设备上的代理发送管理命令，接收、处理由代理返回的管理信息。网管平台适应多协议网络环境，提供较全面的管理服务，并可安装符合规范的附加管理模块。网管平台还提供存储、访问和交换网管数据所需的通信功能和存放MIB的数据库管理系统；并为用户提供一致的图形用户界面（GUI）和一定的开发工具供用户开发管理模块以便装入平台。实质上，网管平台是网管软件赖以存在的“网络管理操作系统”。
　　网管平台结构可分为集中式和分布式。主动网络的实现一般可采用可编程交换结点，这种方法提供了一种程序报文的下载、处理机制。整个网络管理的核心集中于网络控制台，网管员容易掌握全网情况。在大型网络中，控制台的大量通信造成处理负载过大，成为网络的处理瓶颈。分布式通常是由多个管理器构成，来共同承担管理任务。通过分级来实现管理任务的分工，可减低管理复杂度，一定程度上减少网络上管理信息的流量。分布式网络管理的大规模网管能力较强，伸缩性也较好，但相应的代价是网管平台的结构较为复杂。
2　现有网管平台的分析
　　目前，网络管理平台比较流行的是：HP OpenView ,IBM NetView/6000,SUN NetManager等。
2.1　HP OpenView
　　HP OpenView（以下简称OV） 是第一个网管平台，其核心框架提供了基本应用的开放系统环境。MF起协调作用，使没有共同接口的OSF与NEF、QAF能正常通信。(5) 代理：与OSI系统管理模型中的代理作用相同，通过访问MIB来执行具体的网络管理任务。
　　HP公司将OV网管平台的结构设计成开放的分布式体系结构，该结构源于OSI网络管理结构并支持TCP/IP网络。它定义了一个全面的服务和设施环境，将网络和系统管理问题分成：通信下层结构、图形用户界面、管理应用、管理服务和被管对象。这些部分都通过标准的应用程序接口访问。

图1　HP OpenView 网络管理平台结构
　　HP OV网管平台的通信下层结构提供建立并维护各部分间的通信的机制。平台定义用户界面，作为网络管理的隔离部分。因此OSI系统管理模型已经难以适应现代电信网络管理的需求。TMN的功能模型中包括网元功能(NEF)、协调功能(MF)、操作系统功能(OSF)、工作站功能(WSF)、Q接口适配功能(QAF)和数据通信功能(DCF)。被管对象是实际被管理的资源的抽象概念，这些被管对象能够由图形用户界面显示并控制。
　　HP OV 具有较强的网络性能分析能力，通过GUI进行警告配置，并实施故障警告。TMN的功能模型中包括网元功能(NEF)、协调功能(MF)、操作系统功能(OSF)、工作站功能(WSF)、Q接口适配功能(QAF)和数据通信功能(DCF)。HP 的Network Node Manager(NNM)是可以用于分布式管理系统，系统分为管理域和采集域。(2) 在交换机的IMX平台上用C语言实现了一个简单的Active Server，它是一个后台驻留程序，监听TCP端口2000。对于告警管理，则可以由网元上的管理应用自动处理一些告警，而将告警级别较高或需要网络管理员介入的告警信息返回给网管中心。
2.2　SUN NetManager
　　SUN NetManager（以下简称SNM）是分布式管理体系结构的网络管理系统，可以管理包括DECnet和FDDI网络环境，并能够与IBM的NetView相互配合。其集成工具能提供故障管理、配置、记帐和安全服务。

OS: Operation System　　MD: Mediation Device
DCN: Data Communication Network　　QA: Q Adaptor
WS: Work Station　　NE: Network Element

图2　TMN的物理结构
1.3　TMN的信息结构
　　TMN的信息结构基于面向对象和信息建模技术，并运用OSI系统管理原则对网络中的资源进行管理。

图2　SUN NetManager网络管理平台结构
　　SNM是第一个提供分布式网管的产品，它的委托代理和协作控制充分体现了分布性。委托代理是通过PRC例程与管理站进行通信的，而委托代理可分布于整个网络中，通过协作控制管理站能够同其它SNM管理站共享管理信息。
　　SNM提供了两种类型的代理：代理和委托代理，它们与应用程序间的通信通过RPC(Remote Procedure Call)协议进行。委托将RPC协议翻译成能被有关元素理解的协议，通过它，SNM可以管理大量的资源，包括：
　　. 通信协议层和接口
　　. 网络设备，如网桥、路由器、集线器、打印机、工作站和PC机
　　. 应用程序，数据和网络服务
　　. 系统和操作系统资源
　　在分布式管理结构中，配置委托代理时应使之尽量靠近所管理的设备，过滤陷阱信息和延迟发送报告以减少同控制台的传输量，分布式管理应用程序注册从事件发送设备收到的报告。
2.3　IBM NetView
　　NetView是IBM公司在HP OpenView的基础上发展起来的。它的核心代码没有改动，但其中加入了大量的应用，特别是SNA（Systems Network Architecture）网络的支持。
　　IBM NetView/6000是IBM开放式网络管理（ONM）体系结构的体现，它不仅向第三方网管应用系统开发人员提供了一个开发平台，而且本身也是一个可以直接使用的最终系统。

图3　IBM NetView/6000网络管理平台结构
　　NetView/6000具有以下特点：它通过分布式SNMP代理来管理TCP/IP网络，监视并显示IP设备，可监测网络性能并产生报告，具有动态发现网络设备的能力。它还提供了强大的信息过滤能力，通过设置阈值的方法来减少部分的冗余警告。并为开发和集成新的网管应用提供一个开放的平台。但NetView/6000不具备理解网络设备间依赖关系的能力，使得实现自动管理较困难。QAF能将那些不具备标准TMN接口的网元设备接入TMN。(4) Active Server：为了处理主动报文，网元设备要支持主动网络技术。应用程序接口分SNMP API和XMP API。
　　SNMP API是SNMP开发工具和分布式管理开发工具的组成部分，包括通信API和配置API。SNMP通信API提供SNMP堆栈的直接访问来完成SNMP管理操作，并有计划地访问SNMP事件浏览器，允许应用发送并接收管理站上的陷阱。SNMP配置API提供程序访问SNMP配置数据库，提供一整套工具动态地获取、更新以及存储配置信息。
　　工业标准的XMP API能够发展基于SNMP和CMIP的网络和系统管理应用。

OS: Operation System　　MD: Mediation Device
DCN: Data Communication Network　　QA: Q Adaptor
WS: Work Station　　NE: Network Element

图2　TMN的物理结构
1.3　TMN的信息结构
　　TMN的信息结构基于面向对象和信息建模技术，并运用OSI系统管理原则对网络中的资源进行管理。HP还增加了一个相关控制服务元素API扩充，能让应用开发者控制管理连接。附加的基于XMP的APIs包括基于XMP的HP OpenView Windows APIs for OSI。很多的研究机构，如ITU-T、OMG、NMF(Network Management Forum)都为TMN的研究和发展做了大量工作。HP OV提供XOM和XOM代码产生器的实现。HP OV XMP和XOM APIs是分布式管理代理开发工具和分布式管理开发工具的组成部分。
　　HP OV 事件管理服务收集有关网络事件的数据，转发给相应的应用并登记；提供收集、发送SNMP和CMIS事件的机制。HP OV事件代理报告管理功能，能寻径、发送、过滤事件。用户可通过基于X的HP OV事件登录管理器控制事件的登录和过滤值。事件代理和登录代理均能通过XMP API访问，能检索实时和历史事件。ITU-T于80年代中期提出了电信管理网络(TMN，Telecommunications Management Network)的概念[1][2]及相应的建议M.3010[3]。实现中的不足之处主要表现在：第一，主动报文传送机制有待于进一步完善。这里着重介绍一下应用程序接口（API）。
　　SNM的API可以使开发商和用户建立强大的工具来补充SNM用户工具的功能，包括管理服务API，代理服务API和数据库/拓扑图服务API。管理服务API提供基于ONC RPC的、比SNMP或OSI更有效的通信服务，这些通信服务可使SNM扩展到任何其它协议和大型网络上。
　　代理服务API提供了通过中间协议管理多协议环境的能力。委托能被写成扩展的SNM代理服务API。许多代理被写成代理服务API，包括：
　　diakinfo 磁盘信息，etherif 以太网接口统计，hostif 接口统计，hostmem 主机内存使用，hostperf 主机运行数据，iostat 磁盘I/O，CPU和终端统计，ippath IP分组路由路线信息，iproutes IP路由表和统计，layers 物理层统计，lpstat 打印机状态，ping IP联结信息，rpcnfs RPC和NFS统计，snmp MIB I，II，snmpd SPARC系统的SNMP代理，sync 同步接口统计，traffic 以太网流量分析。
　　数据库/拓扑图服务API提供了修改和用户化拓扑图的能力。
　　SNM还提供了移植到将来的SunSoft管理平台的途径。使用API和SNM提供的动态连接库编写的应用程序，可以与Enterprise Manager平台二进制兼容。例如，对于计费管理，完全可以在网元上进行计费数据的分拣和分类，而无须将数据传送到中央平台集中处理。
　　NetView/6000可提供给用户的API分为以下几组：
　　－XMP：XMP是一个中立协议API，用于访问SNMP或CMOT；
　　－SNMP：为管理应用程序，提供标准SNMP MIB变量和TRAP的访问；
　　－OVuTL：通过这一组API调用，可以提供跟踪和日志记录；
　　－OVsPMD：使应用程序可以和进程管理守护程序ovspmd集成在一起，以便有序地启动和关闭进程；
　　－End User Interface：最终用户接口，具有超过200个API调用，用来控制屏幕显示和同用户的交互；
　　－Event Filtering：事件过滤，一组用来创建和注册事件过滤器的例程。
　　其中，XMP API提供了一个高层的抽象。通过它可以使用多种网管协议来访问网络资源，尤其是它提供了对SNMP和CMIS/CMIP的支持，这两种协议都使用TCP/IP传输协议。其中，SNMP和OVuTL这两组API是专用于NetView /6000的，它们可以使用网络日志和跟踪工具来追溯应用程序的活动，这在开发和调试阶段尤为重要。进程管理接口（OVsPMD）允许一个到核心控制结果的集成。例如，可以允许正常地启动和终止应用程序，并将进程活动情况记录到全局日志中。事件记录API，可以控制图和网络事件的处理及显示。另外，网元的软件体系结构也在改变，一些原先用通过代理软件完成的管理功能现在则通过MIB实现，因而网元设备有更多的闲置资源。
　　NetView/6000还有一些特殊功能：管理程序接管功能提供在不同位置的工作点之间灵活转移网管的能力，当某场地发生灾害时，可在另一个预定场地继续管理网络。其性能监控工具允许监控NetView for AIX工作站资源状态和影响性能的自动执行命令，可以在不影响网络和系统性能的情况下纠正问题。限制节点发现功能是根据文件，可以将网络发现限制在指定的IP地址范围内。这可缩短发现时间并加快资源识别和启动管理的速度。检查分布网络状态功能是利用System Monitor for AIX中级管理器( Mid Level Manager) 检查分布网络状态。
4　结语
　　网络管理平台是实现网络管理的重要基础，其结构较为复杂，目前的产品系列也比较多样。
作者简介：袁　俊(1974～)，男，研究生，研究方向为计算机网络
作者单位：南京大学计算机软件新技术国家重点实验室，南京　210093　南京大学计算机科学与技术系，南京　210093
参考文献
1 Glitho RH,Hayes S.Telecommunications Management Network: Vision vs.Reality.IEEE Communications Magazine,1995-03:47-52
2 Sidor DJ.Managing Telecommunications Networks Using TMN Interface Standards.IEEE Communications Magazine,1995-03:54 3 ITU-T Recommendation M.3010.Principles for a Telecommunications Management Network,1986-07
收稿日期：1998-12-20
。这些技术的应用将会是网管平台向着更为智能化，界面更友好，管理更方便的方向发展。
作者简介：颜凯　从事因特网网络管理技术的开发与研究。
张军　从事计算机信息网络和因特网技术的开发与研究。
作者单位：电子科技大学信息中心　四川.成都（610054）
参考文献
［1］　David M. Peterson，著.TCP/IP连网技术-IBM网络环境指南(第一版).北京：电子工业出版社，1996：210
收稿日期:1999-06-09(修改稿)
