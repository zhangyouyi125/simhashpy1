计算机工程
COMPUTER ENGINEERING
1999年 第25卷 第8期 Vol.25 No.8 1999



银川海关办公自动化网络系统
隆益民
摘要：介绍了银川海关办公自动化网络系统的规划设计、网络拓扑结构及技术性能，系统的基本配置、网络的安全措施、EDI等。如图 2 所示： 

图2 跨平台RPC模型
　　图 2 中 (1)-(6) ， (1′)-(6′) 和图 1 中 (1)-(6) 实现相同的功能，即 Unix 系统上的调用者通过 Client 进程既可经过 (1) 、 (2) 、 (3) 、 (4) 、 (5) 、 (6) 调用本系统内远程过程，也可经过 (1) 、 (2′) 、 (3′) 、 (4′) 、 (5′) 、 (6) 实现 Windows NT 系统上的远程过程调用。 
1.2 设计原则 
　　在整个网络的设计原则上，应充分考虑先进性、可靠性、安全性、实用性、可扩展性以及可管理性等几个方面。 
　　(1) 发往网络的信息，由网络中库例程处理 
　　(2) 使用面向连接或非连接协议传送信息 
　　(3) Server 进程等待客户请求，并激活远程过程 
　　(4) 远程过程执行完毕，将结果交给网络 
　　(5) 网络将结果信息传送到 Client 方 
　　(6) Client 接受结果信息 

图1 一般RPC模型
　　在两种不同的操作系统之间实现 RPC 调用，所采用的工作机制和单一系统的基本一致，但由于系统的不同，运行在其上的进程也不同。 
　　采取有效措施，保证计算机网络系统可靠、安全地运行。要有较强的网络管理手段，合理地配置和调整网络资源、监视网络状态、控制网络运行。 
　　根据银川海关的实际情况、业务需要，采用交换技术的 100Base-t 快速以太网。 
2 设备的配置
　　服务器选用美国 HP 公司的“ NetServer LH Pro ”型网络专用服务器。 
1 实现原理和实现机制
1.1 实现原理 
　　TCP/IP 作为应用最广泛的网络协议，已成为计算机行业中开放系统互联的 " 既成事实 " 的标准，大多数版本 ( 包括 Solaris) 的 Unix 已把 TCP/IP 作为操作系统的一部分， Microsoft 公司的 Windows NT 也包含了 TCP/IP 协议。 
　　交换机选用 3Com 公司的 Superstack ∏ Switch 3000 TP 型，选用 Superstack ∏ HUB 100 型集线器，它具有 12 个 100M 接口。 
　　(2) Windows NT 上的 Server 方程序

图3 监控程序socker结构
　　注册部分的实现与 Unix 完全不同，由于 NT 没有消息队列的机制，使用命名管道的方法传送信息。 选用 3Com 公司的 Fast Etherlink XL PCI TX 网卡。选用美国 APC 公司的 APC Smart-UPS 。 
3 网络操作系统及软件平台 
3.1 网络操作系统 
　　选择了 Microsoft 的“ Windows NT ”作为网络管理软件。因为服务器端操作系统的开放性、可伸缩性、互操作性等是选择产品的重要指标。套接字 (Socket) 作为在传送层上提供给应用程序的接口之一，在互连网域支持 TPC/IP 协议，为此 Socket 便成为两种操作系统之间实现通信的基础。在应用程序关闭套接字后，还应调用 WSACleanup() 终止 Windows Sockets DLL 的使用，并释放资源，以备下次使用。 
3.2 网络管理软件 
　　网络管理平台使用 HP NetServer LH Pro 网络服务器随机带的 HP OpenView ，网络管理软件使用 3Com 公司的 Transcend Enterprise Manager Version 5.0 for Windows 。它能对所使用的 3 Com 公司的网络设备提供端口管理，设置方便简单，排除故障容易，能对网络交换机、集线器、 路由器中每一端口进行管理和设置。 
4 网络结构 
　　业务网络系统的计算机网络以 3 Com 公司的 Superstack ∏ Switch 3000 TP 型交换机为网络中心，组成星型网络。 
3 程序简介
3.1 Server 方服务程序 
　　据上所述 Server 方的 4 个主要函数实现两个功能：注册和监控 Client 方调用进程申请。 1 楼、 4 楼、 5 楼分别放置 3 台 HUB 网络集线器，把整个业务网络划分为 3 个网段。其中一楼使用 Intel 公司的 Intel Express 12 口 10/100M 可堆栈集线器，一楼报关大厅的网络工作站接入这台集线器； 4 楼、 5 楼各放置一台 Superstack ∏ HUB 100 型集线器， 2 、 3 、 4 楼的网络工作站接入 4 楼集线器， 5 、 6 楼的网络工作站接入 5 楼集线器。 3 台集线器直接接入 7 楼的 Superstack ∏ Switch 3000 TP 的 10BaseT/100BaseTX 端口， HP NetServer LH Pro 网络服务器、 Cisco 2511 路由器的以太网接口和网络管理工作站也直接接入交换机的 10BaseT/100BaseTX 端口，由网络工作站对全网进行实效、性能、记帐、配置和安全等方面的管理。 
　　这样，银川海关业务网络系统的主干网就由网络服务器、网络交换机、网络集线器和网络工作站构成，加上由集线器划分的 3 个网段，形成了如图 1 所示的网络系统结构。 
　　网络操作系统为中文 Windows NT Server 4.0 ，采用 TCP/IP 协议， 通信介质为美国 AMP 公司的 UTP 5 类无屏蔽双绞线。 
　　不论在 Unix 还是在 Windows NT 上，如一个进程需要被异地调用时，必须使用 RegisterRemoteProc() 注册，之后此过程可被任意系统上的 CallRemoteProc() 调用。 

图1 网络结构框图
5 与全国海关的广域网的连接及 EDI 电子报关 
　　海关卫星以海关总署为中心，通过遍布全国的 PES 小站与总署的主站相连，是一个全国范围内的海关系统综合宽带信息网。此网与全国光缆传输网互为备份，形成天空、 陆地的交叉覆盖网，实现全国海关系统的连网。 
　　监控程序的主要部分如图 3 中 Server 部分所示，完成对 Client 方的申请反应，并调用所需进程。在这种方式下，银川海关计算机网络系统增加一台通信服务器， 远程报关单位也要一台通信机，都通过 Modem 接入 PSTN 公共电话网。被调用方 Server 的两个函数：① RegisterRemoteProc() 为每个需要被异地调用的过程，在调用前在本机的远程调用过程表内注册；② DelRegistration() 用于取消本机的远程调用过程表内已注册的过程。 
作者单位：西江大学数计系，广东 526061
