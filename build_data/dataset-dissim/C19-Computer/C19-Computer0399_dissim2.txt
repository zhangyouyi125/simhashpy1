信息与控制
Information and Control
1999年　第28卷　第4期　Vol.28　No.4　1999



复杂工业过程的综合集成智能控制

王耀南　王　辉　彭建春　刘国才

　　摘　要： 本文针对铝厂熟料窑的现状：生产过程控制 复杂、具有慢时变、分布参数、非线性、大时滞特性，难以精确描述数学模型，提出一套实 时智能控制方案：将人工智能、专家控制、神经模型控制各自的长处综合一起，设计成一个 集成环境的实时多级智能控制系统，并应用于熟料窑温控系统中。经仿真和实时控制试验结 果表明这种系统对改善系统的动、静态特性，克服系统时滞、慢时变是有效的，控制性能令 人满意。 
　　关键词：复杂系统，专家控制，模糊神经控制，综合智能控制
　　中图分类号：TP11　　　　　　文献标识码：B
SYNTHETIC INTELLIGENT CONTROL SYSTEM FOR
COMPLEX INDUSTRIAL PROCESS
WANG Yaonan WANG Hui PENG Jianchun LIU Guocai
(Departunent of Electrical & Information Engineering, Hunan Unive rsity, Changsha　410082)
Abstract: For real complex industrial process plants with lar ge-scale, time varying behavior, nonlinear, multi-disturbance, and multi-obje ctive, it is hard to develop practical mothematical models, and the complex pla nts are difficult to control automatically. Therefore, a new type of synthetic intelligent control system is proposed by integrating expert control with fuzzy neural network control, and can be used in real complex industrial process. The results of simulation and the application for industrial rotary kiln are present ed to show the effectiveness of the proposed control system.
Key words: complex process, expert control, fuzzy neural control , synthetic intelligent control

1　熟料窑炉控制的难点
　　熟料窑是一典型的热工过程，自本世纪60年代起人们便开始注意它的控制问题。并 进行了大量研究工作。 本文在分析PID控制原理的基础上，提出了变参数PID控制器(PID Controller with Varia ble Arguments，简称VAPID)。以回转窑为例，通常可作为被控制量、控制量的参数有窑内温度分布（烘干带、预热带、分解带、烧结带、冷却带）。关键是烧结带温度对熟料质量的影响。对窑内温度有扰动作用的因素较多，如：煤粉喂入量，窑体自身转速，斜度，烟道抽力等等。就控制窑内温度场分布，且关键是控制烧结带物料焙烧温度。根据工程经验，窑内温度与煤粉进量关系可近似简化为二阶慢性时滞环节，并且在回转窑连续运行中，煤粉逐渐沉积于窑衬上，致使对象特性参数具有慢时变性。
　　根据以上分析，控制策略单纯采用常规控制(PID、自适应、Fuzzy、现代控制理论方法等)，对时滞、强干扰、慢时变、非线性、无法建立精确的模型，很难取得令人满意的效果，因此需要引入新的控制策略。本文采用Gauss函数为基础构成P、I、D增益函数Kp、Ki、Kd，如图1所示。因为专家控制擅长逻辑推理、模拟了人的高级智能行为(理性、抽象智能)， 神经网络控制擅长直觉推理，模拟了人的低级智能行为(感性、形象智能)，这样二者采取并 行控制与知识共享的策略，以实现综合集成智能控制，解决工程控制问题。
2　实时专家智能协调模糊神经控制系统
2.1　实时专家智能协调模糊神经控制系统总体结构设计
　　本文提出的多级实时智能控制系统共分三级。它们是：基本实时控制级，专家智能控制协调 级和学习组织级，如图1所示。控制原理如下：
　　在图1中，系统的基本控制级作为控制器与被控制形成闭环反馈控制完成实时控制，它由专 家控制(EC)和神经模糊控制(NFC)一起形成知识共享和并行控制结构的复合控制器。智 能协调级在线实时监测被控系统性能，依据系统性能在线协调控制策略，从而针对具体对象 进行有效地控制。控制过程开始启动基于知识的专家控制器(EC)，它根据自己知识库中的规则和事实执行推理，给出控制策略，并对系统进行控制，同时训练神经网络模糊控制器(NFC)使之通过观察和总结基于知识的任务，执行过程学习如何去完成同样的任务。

图3　变参数PID控制与常规PID控制的对比曲线　　
表1　图3曲线对应的控制参数与性能指标

曲线控制器类型控制参数性能指标ISE性能提高
1常规PIDKp=5,Ki=0.025,Kd=031.5-7.5%
2常规PIDKp=5,Ki=0.025,Kd=9029.30
3类型AK′p=0.2,K′i=0, K″i=1.5,K′d=1[注1]25.712.3%
4类型BK′p=0.4,K′i=1.4, K″i= 0,K′d=124.516.4%
5类型CK′p=0.8,K′i=0,K″i=1.5,K′d=121.825.6%


3.2　鲁棒性能与抗干扰能力
　　作者就控制对象的参数发生变化时VAPID类型A的控制性能进行了仿真，图4所示的曲线表明：VAPID具有很好的抗干扰能力和鲁棒性。于是EC在对被控对象进行适当控制的同时，神经网络从EC的控制机制中进行再学习，并归纳出完成同样任务所需的控制命令。 本文在分析PID控制原理的基础上，提出了变参数PID控制器(PID Controller with Varia ble Arguments，简称VAPID)。图1中，Kp 的宽度取为0.1，以保证在较大的范围内具有较大的比例增益; Ki的宽度取为0.1，在稳态值附近加大积分作用，大偏差时Ki可取为0，这样可以实现积分的分离，使系统有较快的响应速度而且可以避免积分饱和；Kd的宽度取为0.2。学习系统级在线对智能协调级的工作进行监督指导与评价，通过学习关于过程的未知信息，有效地充实与修改智能协调级；一方面从例子中生成训练数据对神经网络进行训练，另一方面根据系统的历史数据及系统的性能指标要求，完成对智能参数的调整和知识库规则的更新与修改，使整个系统的品质逐步得到改进。微分增益Kd的计算变 量调整为偏差的微分ed=de/dt，稳态值附近的ed相当小，增益函数的宽度可取为0. 02以下。
2.3　多模态实时专家控制算法(EC)
　　多模态专家控制是根据系统所处的不同状态和对控制过程在不同时间的不同要求，采用相应 的控制策略和模式的一种控制方法。他可以同时兼顾控制系统对动态、静态等多种性能指标 的要求，实质是模仿控制专家对系统过渡过程进行分段变结构控制。
（1）知识库建立
　　根据图2所示的窑炉温度响应曲线，将其多模态专家控制器算法归纳成产生规则如下：
　　对图2所示系统，被控量(T℃)与偏差的响应曲线，有以下特征信息。

图2　炉温典型响应曲线
e(t)=yd-y(t), ec=e(t)-e(t-1)
　　在相应曲线OA区，存在偏差状态e(t)＞0∩ec(t)＜0∩e(t).ec(t)＜0
　　AB区存在
e(t)≤0∩ec(t)≤0∩e(t).ec(t)＞0
　　BD区存在
e(t)＜0∩ec(t)＞0∩e(t).ec(t)＜0
　　CD区存在
e(t)≥0∩ec(t)≥0∩e(t).ec(t)≥0
　　DE区存在
e(t)＞0∩ec(t)＜0∩e(t).ec(t)＜0
　　按照观察-控制-等等-再观察-再控制-再等待的控制过程，总结如下控制算法(E C)。
Rule1　IF{e(t)＞ΔTm} THEN {u1(t)=Um}
Rule2　IF{e(t)＜-ΔTm} THEN {u1(t)=-Um}
Rule3　IF{|e(t)|＜α∩|ec(t)|＜β} THEN {u1(t)=u(t-1),保持}
Rule4　IF{e(t).ec(t)＜0 ∩|e(t)|≥α∩|ec(t)|＜β}
　　　　,加强控制}
Rule5　IF{e(t).ec(t)＜0 ∩|e(t)|＜α ∩|ec(t)|≥β}
　　　　THEN{u1(t)=u1(t-1)+λ∑n-1i=1ei(t)+Kd+((e (t)-e(t-1))微分制动}
Rule6　IF{e(t).ec(t)≥0 ∩|e(t)|＜α1}
　　　　THEN
　　　　,PID控制}
Rule7　IF{e(t).ec(t)≥0 ∩|e(t)|＞α1}
　　　　THEN {u1(t)=u1(t-1)+Kd(e(t)-e(t-1)),比例控制}
上述控制规则中，ΔTm，α，α1，β分别为偏差、偏差增量、偏差相对变化和阀值，Kp，Kd为放大系数，λ＜1为遗忘因子，这些参数均可现场调整。本文提出的变系数PID控制器将Kp、Ki、Kd取为偏差e的函数，根据偏差e的大小，实时改变这三个系数，以提高控制性能。因而，本文采用正向推理策略；将实时采样的特征信息{e(t),ec(t),y(t),yd(t), α,β}事实与规则的前提进行匹配，成功即给出执行控制动作。
3　神经网络模糊智能控制器(NFC)设计
3.1　神经网络模糊智能控制的训练数据预处理
　　对于熟料窑烧成带物料温度的模糊数据处理如下：
　　设输入量取温度差E和温度误差变化Ec，控制量为U，各量的Fuzzy集选取为：
(1) Fuzzy集的选取
　　温度误差E={NB,NM,NZ,PM,PB}，温度误差变化Ec＝{NB,NM,NZ,PM,PB}，其中各符号的意 义对应如下：E=Ec={负大，负中，接近0，正中，正大}
选择控制变量的Fuzzy集为：控制量V={NB，NM，NS，ZO，PS，PM，PB}
各符号表示意义如下：V={负大，负中，负小，零，正小，正中，正大}
(2) 论域的选取
　　温度误差E和误差变化Ec的论域如下：E=Ec={-5,-4,-3,-2,-1,0,1,2,3,4,5}
　　控制量U的论域如下：V={-6,-5,-4,-3,-2,-1,0,1,2,3,4,5,6}
(3) Fuzzy 集中各语言变量赋值
　　对于烧成带温度误差和误差变化量及输出论域中语言变化采用离散形隶属函数。
(4) 输出模糊化和输出清晰化
　　采用简单的模糊化方法，将现场测得的温度信号转化成相应模糊论域的量，取现场误 差E和误差变化的范围分别为：
E∈[-80,80]　Ec∈[-20,20]
模糊化结果见参考文献[1]。
作者单位：上海交通大学自动化系　200030
参考文献
1　Astrom K J, Hagglund T. An Industrial Adaptive PID Controller. Pro c. 1989 IFAC Symp. Adaptive System in Control and Signal Processing. 1989,293～29 8
2　Hoopes H S, Hawk W K, Lewis R C. A self-tuning Controller. ISA Trans. 1983,2 2:49～58
3　He S Z, Tan S H, Xu F L. Fuzzy Self-tuning of PID Controllers. Fuzzy Sets an d Systems.1993,56:37～46
4　A A Rovira, P W Murrill, C L Smith. Tuning Controllers for Set-Point Change, Instruments and Control Systems, 1969,42(12)
5　Ziegler J G, Nichols N B. Optimum Settings for Automatic Controllers. Trans. ASME, 1942,64:759
6　Cohen G N, Coon G A. Theoretical Considerations of Retarded Control. Trans. ASME, 1953,75:287
7　Lopez A M et al. Controller Tuning Relationships Based on Integral Perfor mance Criteria. Instrumentation Technology. 1967,14:57
收稿日期：1998-03-19
。
3.2　神经网络模糊控制器(NFC)结构及训练学习算法
　　本节将抽象出来的模糊控制表(见参考文献[1])用作神经网络的学习样本，用这些样 本对NFC进行离线训练，利用NFC的记忆与联想功能实现温度的连续模糊控制。
　　对表中的121个学习样本，为了尽量减少神经元个数并兼顾到允许的学习误差，本文采 用2-6-6-1四层结构的ANN，即输入层二个节点，中间两个隐层各6个节点，输出层一 个节点，见图3。设网络输入节点为x(1)j(i=1,2))，相应模糊控制输入E和Ec； 输出为u*，相应控制量。网络的输入-输出映射关系为：
x(1)l=E, x(l)2=Ec　　　　　　　　　　　　　　(1)
x(2)j=f(Net(1)j)　　　　　　　　　　　　　　(2)
　　　　　　　　　　　　(3)
x(3)k=f(Net(2)k)　　　　　　　　　　　　　　　(4)
　　　　　　　　　　　　(5)
u*=f(Net(3)l)　　　　　　　　　　　　　　(6)
　　　　　　　　　　(7)
其中W(l)表示L-1层到L层之间的连接权值，x(l)i表示第L层到第i个神经元 的输出， θ(l)j表示第L层第j个节点的阀值，L=1，2，3，f(z)=1／{1+e-z ）。
2　变参数PID控制器（VAPID）
2.1PID控制器
对于典型的单位负反馈控制系统，PID控制器表示为
ИА　　　　　　　　　　　　　(1)
其中，偏差e=r-y，Kp为比例增益，Ki=Kp/Ti为积分增益，Kd=KpTd为微分增益。
4　综合集成智能控制的计算机软硬件实现
　　根据实际用户要求，本系统(EINC)上位机选用通用386微机，负责监控、数据管理、 过程控制、图形显示、报表打印、越界报警、加载显示、控制参数设置、协调控制、控制参数送往下位机或接收下位机采集的数据及离线训练神经网络。
　　下位机功能：下位机选用日产PLC可编程序控制器，负责数据采集、数据转换、实时控 制及上位机通讯等任务。通讯是通过上下位机的RS232C接口实现从异步全工通讯，整个 硬件系统组成主从结构。
　　本系统软件主要完成：上位机数据管理、监控、通讯、控制参数设定、模糊控制表计算、神 经网络权值训练，数据打印、绘图、上位机软件采用Turbo-C语言编程。微分增益Kd的计算变 量调整为偏差的微分ed=de/dt，稳态值附近的ed相当小，增益函数的宽度可取为0. 02以下。
5　系统仿真与实时控制实验结果
5.1　系统仿真结果分析
　　为了顺利地实现温控系统的实时控制，我们首先对工业过程中常用的如下几类被控制对象进 行离散相似法数字仿真，调整好一些参数后，再做实时控制验证。
　　例　被控对象传递函数为

该对象对于所提控制EINC、Fuzzy和PID控制的响应结果如图4所示。可以看出EINC 控制效果明显优于单独使用Fuzzy和PID控制算法。

图4　仿真结果
5.2　系统实时控制实验结果验证
　　我们以熟料窑工况的几组参数为背景，用实验对象仿真机模拟对象，(回转窑为一阶大时延 和滞后系统)传递函数为


通过连接上、下位机计算机和实验对象仿真机，进行实时控制实验，实验中，神经网络专家 协调模糊控制算法的采样周期为30秒，分别对被控制量：烧成带温度、窑头、窑尾、物料温 度进行实时控制实验，其中一组主要实验结果如图5所示，整个控制精度≤±1.5℃。

图5　熟料窑炉温控响应曲线

6　小结
　　本文提出一种新型基于专家智能协调的神经网络模糊控制方案，并应用于熟料窑温控系统中 。文中提出了多级智能控制算法，解决了多模态专家控制与神经网络模糊控制的复合协调控制问题。仿真和实验控制结果表明，EINC控制不依赖于被控对象的数学模型，实现了对时变、大延时、大滞后对象系统的控制，取得令人满意的结果，这些表明EINC控制器鲁棒性强，并且对环境有自适应和自学习能力。
注释：基金项目:国家863高技术计划项目(863-511-9845-002)
作者简介：王耀南，42岁，现为湖南大学电气与信息工程系教授，博士生导师。该控制器结构简单，整定方便，计算量小。因此，只有合理地整定这三个参数，才能获得比较满意的控制性能。主要研究方向为 智能控制理论与应用、计算机CIMS等。
　　　　　彭建春，35岁，现为湖南大学电气与信息工程系副教授，博士。主要研究方向为电力系统自 动化、智能控制理论与应用等。
作者单位：湖南大学电气工程系　长沙　410082
参考文献
1　王耀南。文献[1，2]提出了一种自校正控制器，其实质与常规自校正控制器相同，即在线辨识对象模型，根据辨识模型按照经验公式来校正PID参数。信息与控制， 1996，25(4)：245～251
2　王耀南著. 智能控制系统一模糊逻辑、专家系统、神经网络控制。 长沙. 湖南大学出 版社，1996
收稿日期:1997-01-22
