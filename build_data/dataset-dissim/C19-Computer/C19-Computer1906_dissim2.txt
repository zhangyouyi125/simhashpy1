微型机与应用
WEIXINGJI YU YINGYONG
2000　Vol.19　No.5　P.33-35




CORBA在TINA网络和业务管理中的应用
李欣舒斐张顺颐
摘 要：CORBA规范定义了能支持互操作性的接口和业务，TINA为基于CORBA的业务开发和网络管理应用定义了框架结构，文中给出了具体的应用方法及其与当前使用较多的TMN框架的互操作。
关键词：CORBA规范 电信管理网 分布式处理环境
　　CORBA（Common Object Request Broker Architecture）作为在异构环境中实现对象之间进行交互的参考模型，已应用于各种设备，得到了很多操作系统的支持。CORBA成功的关键在于它解决了互操作的问题，可支持2个或多个不同领域的管理应用之间的通信，允许不同厂家的第三方产品集成，其实现与具体的语言和平台无关。
　　标记交换是解决这些问题的高效技术。它提出了一个“管理者-代理”模型，只要支持同一个协议栈，就可以互相通信。所有的信息模型都是由ITU-T负责定义的，用面向对象的观点来看待网络中物理资源和逻辑资源每个资源都能抽象为1个对象。虽然许多网络管理开发商已经成功地应用了TMN的体系结构，但还是存在下列问题：
　　（1）如何从专有的中间件过渡到多平台，并以尽可能低的开发成本，增加开放性和灵活性。
　　（2）简化高层的功能集成，在业务管理层使用TMN概念，引入ODP（Object Distributed Processing）和TINA（Telecommunications Information Nerworking Architecture）的概念。
　　（3）与不支持OSI管理的客户管理系统的互操作。
　　考虑到电信管理软件的分布特性，可使用CORBA来解决上述问题。OMG定义了一系列CORBA服务，方便了分布式应用的建立。
　　上游标记指派的工作过程如下：如果1个标记交换机有1个或多个点到点的接口，那么对于FIB中的每1条路由（经过这些接口可以到达它的下一驿站），交换机就指派1个标记，在它的TIB中创建1个条目，并把输出标记设置为指派的标记。许多国际标准认为基于CORBA的TMN系统是灵活的，允许在现有系统从TMN到TINA的平滑过渡。
1 对象技术规范CORBA
　　CORBA是OMG提出的一种基于分布式应用开发的软件体系结构。ORB提供了对象间发送请求、接收应答的透明机制，实现了异构分布式环境下不同系统之间的互操作。对建立在CORBA上的应用组件，其接口用IDL定义，用某种具体的编程语言实现。这样，1个CORBA应用包含的对象之间可以通过ORB机制相互通信。在下游指派中，数据包中的标记生成后由链路下游的交换机（以数据流方向为参考）与前缀绑定。客户端和服务器之间的通信在CORBA平台上实现，对它们自身是不可见的。对象定位、对象实现的透明性是CORBA的主要优点之一。
　　在增加路由功能以支持多点发送、路由路径的控制以及提供创建路由信息能力的同时，增强传输性能是非常重要的。这样就在输出标记与路由之间建立了绑定。

图1 CORBA请求处理过程
　　一种最简单的情况是静态激活，客户端知道服务器端IDL接口的情况，由IDL服务器端接口自动生成客户端Stub，它负责将客户端的请求从编程语言的形式转化成目标对象。服务器端对象根据IDL规范，自动生成skeleton，对目标对象执行相反的操作，重新转化成编程语言，完成任务，这样就实现了异构系统之间的互操作。ORB负责激活目标对象，当对象实现完成一个请求，就将控制和输出返回到客户端。
　　有些应用在开始时并不了解要使用的接口，CORBA通过引入动态激活界面（DII）和动态框架界面（DSI）提供了动态激活机制。使用界面仓库，它们就可以获得注册和访问IDL接口的权限。这样就减少了路由在非边缘交换机上的加载，从而缩短了路由收敛时间。首先，信息的数量不是重要的，它把额外的需要放到路由器需要的资源上；其次，路由信息的增加往往增加路由收敛时间，也就降低了系统的性能。对象适配器提供了访问ORB服务的对象实现，是完成与其它对象系统之间互操作的关键组成部分。数据包携带标记信息有多种方法：
　　（1）作为1个小的标记头插入到第2层与网络层头部信息之间；
　　（2）如果第2层头部信息提供充分的语义（例如ATM）作为第2层头部信息的一部分；
　　（3）作为网络层头部信息的一部分（例如使用IPV6中的FLOW LABEL域）。OMG还定义了一系列CORBA服务，如名字服务、事件通知服务等，可以运行在所有的平台上。
2 TINA模型
　　TINA的研究目标是定义一种能在开放的电信市场上提供和应用全球化业务的体系结构。一个业务的定义是从企业模型的规范开始的，包括该业务中的角色，如业务和网络提供者、管理者及各种用户，也包括各角色间的关系。这些关系不仅仅是管理者-代理关系，也可以处理具有协商能力的端-端之间的关系，当需要处理包含不同类型角色的控制和管理服务时，建立这些关系类型的模型就显得格外重要了。随着新的服务不断涌现，需要提供一个通用模型，来满足现有和将来的各种服务的要求。
2．1 TINA的会晤概念
　　从计算的观点来看，TINA认为所有的软件对象都运行在分布式处理环境上，这意味着计算对象之间的交互遵循着客户机-服务器模式，TINA为建立这种模型定义了会晤的概念。
　　一个会晤定义了业务成员间的关系，会晤管理包括建立、激活、修改、支持和完成会晤的各种功能。通过会晤机制，不同类型的终端可以在不同时间段使用各种电信业务。
　　TINA定义了3种不同类型的会晤： 
　　（1）接入会晤。专用于处理用户的认证和授权，支持终端用户的可移动性，支持对专有业务的访问。
　　标记交换所需要的标记信息可以放到VCI域中。从计算观点上看，用户代理支持个人接入机制，它根据当前情况决定一种业务是否能被该用户使用。
　　（2）业务会晤。包括控制和管理业务所需的信息。为了支持用户专有的业务，业务会晤分成用户业务会晤和提供者业务会晤。
　　（3）通信会晤。为用户业务建立通信连接，减轻了通信资源管理和业务控制。
　　 因此，可以在任何媒质上虚拟地实现标记交换，包括点到点链路、多点访问链路和ATM。从TMN观点，可以把通信会晤看作网络管理层和业务管理层的分离。
　　首先，接入会晤产生对某种新的业务会晤的需求，根据用户情况建立业务会晤，定义会晤权限。然后，用户得到直接与业务会晤交互和激活操作所需的会晤参考。当用户希望结束一个业务会晤时，可向接入会晤提出要求，切断此次业务会晤。
　　随着越来越多的路由器升级为能够支持标记交换，标记交换机提供的功能也越来越多。从代理的角度看，会晤的功能是强大的，它能对不同底层业务提供一致的接入，而且可以依据某些代理的要求建立专有的会晤，例如，它可作为基于CORBA的应用和其它应用之间的网关。
　　在这种体系结构中，很容易建立TMN所定义的管理系统。首先，为了给1个事先没有标记的数据包指派标记时，需要普通网络层传送。从功能观点，这些管理应用能同样满足TMN管理业务的需求。这种方法的优点是仅用1个记号就能区分管理系统和被管理系统。
2．2 TMN向TINA的过渡
　　TMN系统可以平滑过渡到TINA系统。在过渡过程中，会在TINA定义的参考点发生互操作。本节讨论几种不同的过渡方法，给出OSI／CORBA网关的一些细节，说明如何在传统的框架中实现CORBA的互操作，以及包含DPE业务的基于CORBA的TMN结构。
　　（1）从TMN向TINA过渡的方法
　　为了实现从传统TMN向TINA的平滑过渡，必须有一个渐进的过程，所以，基于TMN的系统和基于TINA的系统会在一段时间内共存并相互作用。
　　主要的问题是基于CORBA的应用与传统的基于OSI的应用之间如何进行互操作。为使在这二种不同的框架结构下开发的应用能相互作用，要引入一些连接。一种方法是通过在TMN组件中加上CORBA通信机制，为应用程序的开发者提供相应的透明的生成框架。这样就能从OSI域扩展到CORBA域，使二个域在一定程度上互相重迭。根据需求的下游标记指派和上游指派应该被用于标记分配和ATM交换机的TIB维持进程。在这里，网关充当CORBA管理者的虚拟代理和TMN代理的虚拟管理者，作为OSI管理者向OSI代理提出请求，并回传应答和通知。
　　Internet的普及也需要Internet路由系统增强缩放性。标记交换并不限制在某一个特殊的网络层协议上，它是一个多协议解决方案。
　　③使用特定的IDL接口屏蔽OSI组件。
　　Internet的普及也需要Internet路由系统增强缩放性。
　　上述方法均能有效地实现向TINA的过渡，具体使用哪一种方法由重用的限制、源代码是否可得到以及现有组件的集成等因素来决定。
　　（2）作为TINA计算对象的TMN管理者／代理
　　OSI管理模型是建立在包含1组被管对象的代理概念上的，被管对象是对现实资源的描述。通过代理执行对被管对象的操作，来满足管理者的需求。代理控制被管对象的活动，改变被管对象的状态。另一方面，CORBA的运行方式依赖于包含1组对象的服务器。这些对象由所接收到的请求直接激活，根据CORBA 实现的不同，可能会有几种响应。这就产生了1种新的结构，代理的功能可以由几个对象共同完成，要考虑的实体仅是管理者和被管对象。路由器通过它从路由协议（如OSPF，BGP）中得到的信息来构造它的FIB。

图2 管理者--被管理者
　　（3）CORBA-OSI／CMISE 网关
　　CORBA和OSI／CMISE之间的网关允许连接2个分别使用OSI和CORBA的组件，无需作出修改。有2种方法实现不同协议和模型的转换：一种是动态转换，在管理系统的操作中完成，这种方法比较常用，但转换过程的代价较高。另一种是静态转换，就是为特定的模型建立网关。这种方法不够灵活，但占用资源少。网关可以用于特定模型，也可以用于一般模型。网关的实现需要对象模型从GDMO／ASN．1转换到CORBA／IDL，包括CMIP协议数据单元向CORBA发出请求及CORBA如何返回响应和通知。
　　（4）在传统的TMN框架中实现OSI和CORBA的互操作
　　为了提供向TINA的平滑过渡，TMN中CORBA支持的实现应该对应用程序的开发者是透明的。对于在OSI框架中开发的TMN应用，可以直接在框架中引入CORBA通信机制来生成支持CORBA的组件。这种技术的优点是能利用已有的投资。另外，当标记交换机把1组路由与1个标记相连，而且这些路由不共享1个公共的下一驿站时，交换机将为携带这一标记的数据包执行网络层传送。CORBA管理者对象可以在代理端通过一般的CMISE接口来访问被管对象，或者通过由被管对象类的GDMO规范生成的专用接口来访问。这样就在输出标记与路由之间建立了绑定。

图3 基于CORBA的系统成分的相互作用
　　（5）TMN中的DPE服务
　　现已定义了几种DPE服务来支持管理
　　①消息服务。CORBA2．0通信模型是同步的，它基于远程调用，而CMISE／CMIP原理是基于异步模型的。
　　根据需求的下游标记指派的工作过程如下：对于FIB中的每1个路由，交换机识别它的下一个驿站。
　　②名字服务。CORBA名字服务维系了对象参考和逻辑名之间的关系。与该类别相关的标记将用于这个数据包中。
　　 ③通知服务。TMN要求有一种事件过滤功能，而CORBA的事件服务不提供这种功能。类别的初始化将利用网络层或者更高层的头部信息实现。传输过程如图4所示。

图4 通知服务体系
　　通知服务器负责管理通知方法，它接受通知发送端和接端的注册，当发送端想传播1个通知，就从信道激活1个推进操作，由信道处理需要此通知的接收端列表，如果能与过滤器匹配，则继续向前传送。这说明了相同的传送算法怎样利用标记交换支持不同的路由算法。信息模型服务反映了GDMO所有的概念。它给出组件的属性、名字、类型及所包含的对象。它在GDMO模板和接口库中的IDL定义间建立连接。
3 结束语
　　新业务的不断出现必然要求通信网络具有开放性，网络管理者和被管对象的实现要求更高的灵活性。基于CORBA的TINA能够满足电信运营者对网络结构的要求，并能保证现有通信网在正常运转的同时逐渐过渡到TINA，具有极其广泛的应用前景。
李欣（南京邮电学院信息网络技术研究所210003）
舒斐（南京邮电学院信息网络技术研究所210003）
张顺颐（南京邮电学院信息网络技术研究所210003）
参考文献
［1］Vinoski S．CORBAIntegrating Diverse Applications Within Distributed Heterogeneous Environments．IEEE Comm．Mag．1997；35(32)
收稿日期：1999－12－26
