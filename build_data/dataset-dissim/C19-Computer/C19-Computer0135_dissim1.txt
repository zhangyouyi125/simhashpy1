计算机应用
COMPUTER APPLICATIONS
1999年 第19卷 第10期 Vol.19 No.10 1999



光接入网自愈结构
郭俊能　吴翠先　陈继努
　　摘　要　本文简要介绍了光接入网的几种自愈结构及其特点, 重点讨论了接入网中的自愈轮技术及其优点。
　　关键词　光接入网,自愈结构,自愈轮
SELF-HEALING ARCHITECTURES IN OPTICAL ACCESS NETWORK
Guo Junneng　Wu Cuixian　Chen Jinu
Scientific Institute of Chongqing University of Posts and Telecommunications， Chongqing 400065
　　Abstract　This paper gives a brief overview of the self-healing architectures in optical access network and their characteristics. And then the analysis is made about the self-healing wheel technology and its advantages in detail.
　　Keywords　Optical access network, Self-healing architecture, Self-healing wheel
1　引言
　　所谓光接入网,就是部分或全部采用光纤传输的接入网,它可定义为用户(指属于集团用户的路由器或网关,或属于网络提供者的边缘路由器)和本地交换机之间共享同样网络侧接口且由光接入传输系统支持的一系列接入链路,由OLT(光线路终端)、ODN(光配线网)、ONU(光网络单元)及AF(适配功能)组成,可能包括若干与同一OLT相连的ODN。
2　环型光接入网
　　网络的拓扑和结构泛指网络的布局和形状,在接入网环境中,网络的拓扑和结构直接与网络的效能、可靠性、经济性和提供的业务直接相关,具有至关重要的作用。在这里,我们主要从接入网物理结构配置的角度介绍光接入网结构的特点。
　　在光接入网中,ODN是一种点到多点的结构,按照其连接的不同可分为四种结构：星型、树型、总线和环型。这里我们主要就环行接入网结构进行讨论。
　　环行结构如图1所示。目前的窄带接入网的核心由SDH环组成。由SDH ADM(Add-Drop Multiplexer,分插复用器)构成的SDH环可具有通道保护环和复用段保护环,即具有自愈功能。它能作为独立Web加速软件的主页关联关系发现的办法。要求保护倒换时间小于50ms,即能与SDH ADM构成的环保护切换时间相当,才能与SDH环竞争。宽带光接入网的自愈功能可通过预设置连接配置功能表实现,将一根光纤作为工作光纤,而另一根作为备用光纤,当网管系统检测到工作光纤失效时,自动倒换到备用光纤上,从而实现自愈。

图1　双向自愈环结构的光接入网
　　由于接入网不含交换功能,只具交叉连接、复用等功能,所以接入网的核心设备只需SDH ADM 或ATM ADM即可实现。自愈环在用户和交换机之间提供透明的承载通路。
　　关键词　预送，响应时间，Web浏览器，Web服务器
THE ACCELERATION TO WEB SERVER BASED ON
PRE-SENDING TECHNOLOGY
Tan Zhenqiang　Chen Xinmeng　Zeng Yan
Department of Computer Science and Technology, Wuhan University, Hubei.Wuhan 430072
　　Abstract　On account of the slow speed of Web Service, the paper introduces a kind of technology to accelerate the Web service based upon pre―sending Web pages . Secondly, we discuss the strategies to select pre―sent pages and to catch suitable time for pre―sending Web pages. Finally, we gave the experiment results and appraised it.
　　Keywords　Pre―send, Respond time, Web browser, Web server
1　Web浏览体系现状
　　Internet的个人用户发展迅速，使用IE或Netscape进入Internet，并通过Web访问世界各地的Web服务器成为一种时尚，然而因特网用户可能都曾体验过响应速度慢的上网浏览经历，因此，采取适当的加速策略提高Web的浏览速度非常重要。
3　目前的选择
　　当前主要采用三种结构：
　　. STM集中器： 在这种结构中,SDH用于传输、复用以及承载通路恢复。自愈环是单向路径倒换自愈环(Unidirectional path switched Self-Healing Ring, USHR),对集中式业务需求来说,效率较高。在LE中的结点叫做头结点,以便与外围结点相区别。根据需要,由STM集中器提供给用户透明的承载通路,一些用户可能用专线。另外有7台PC机连到该Hub上，运行浏览器软件，作为浏览体系的Browser端。用SDH单向环来对对虚容器进行传输和保护,这些虚容器终结于ATM集中器结点。ATM集中器将ATM虚通道复用到承载信道上去。
　　. ATM复用：在这种结构中,仅在ATM层进行复用,SDH的帧结构,如STM-1,可用于通过环的ATM复用结点。实际上,该环与分布式ATM复用器相当。结果,SDH 自愈功能不能保护ATM虚通道,甚至为了防止物理层失效, 必须采用基于ATM层的恢复机制。在该机制中,ADM结点是ATM VP ADM。 该结构也称ATM 自愈环结构。
　　目前,在接入网中采用SDH环主要考虑了以下因素:
　　① 经过环的传输和交换共享;
　　② SDH环自愈功能简单;
　　③ SDH环传输速率较高,功能性变换所需的端口和光纤少,似乎对接入网有利。主要研究分布式计算系统、分布并行算法。在STM和ATM 集中机制中, 在所有结点中运用了环带宽固定的划分。在环中进行基于呼叫的动态带宽分配需要对现存的设备作较大、且较复杂的修改。另一方面,虽然SDH通道保护自愈环协议简单且速率快,但它不适用于跨环共享SDH承载通道。
4　自愈轮
　　基于上述讨论,环结构是在以较高的传输率为代价的条件下,利用较少的光纤和头结点来构成光接入网自愈结构,它可能对某些环境不适用。在多数情况下,网络供应商将考虑以下条件：
　　. 外围结点的简化;
　　. 在保持简单的SDH 1+1保护机制的同时,获得同ATM复用结构相当的使用等级;
　　. 在头尾结点中获得较星型拓扑更优的端口数;
　　. 低优先级和非保护型业务的提供;
　　. 从现存的SDH环的移植以及加减复用器结点的重用。
　　构成整个浏览体系瓶颈的三个部分都在一定程度上存在数据突发构成的瞬时拥塞现象，即该段时间上的形成瓶颈可能是因为某小段内的数据传输量很大，而在该小段时间的邻近时间段内的网络负载较轻，整个浏览体系负载在时间上存在不均衡性。头-尾结点位于轮的中央,叫做轮彀(Hub)。外围结点称作轮缘结点。 承载着保护型业务,沿着轮缘流动的光纤环,称为轮缘光纤。轮辐承载着工作业务。“充分利用网络在整个时间段的带宽”即在Web Browser端并未发出Web请求时，Server也向该Browser传送它极可能用到的Web页面。自愈轮的恢复协议必须考虑失效轮辐和轮缘之间的相关性。虽然预送Web页面可能产生无用页面传送，但减少了Browser向服务器发送请求的次数，同时加快了Web Browser的Web页面请求响应，在采用预送技术后，一旦Web服务器提高主机性能与其网络带宽就能明显提高服务器的服务质量，缓和远程Browser端低带宽网络带来的瓶颈，改善“高性能Web Server+高带宽Web Server网络+低带宽Web Browser网络”类型的Web体系的整体应用效果。轮缘结点叫做ATM VP ADM 结点,它采用SDH 1+1保护倒换机制。虽然预送Web页面可能产生无用页面传送，但减少了Browser向服务器发送请求的次数，同时加快了Web Browser的Web页面请求响应，在采用预送技术后，一旦Web服务器提高主机性能与其网络带宽就能明显提高服务器的服务质量，缓和远程Browser端低带宽网络带来的瓶颈，改善“高性能Web Server+高带宽Web Server网络+低带宽Web Browser网络”类型的Web体系的整体应用效果。当工作信号失效时,自愈功能选择轮缘信号,当失效修复时再将它倒换到正常工作状态。
　　④ 检查该必要Web页面，依据预送时机选择策略确定是否可以预送，如果可以预送，则确定与必要Web页面紧密相关的页面――预送页面，并将其发送给Browser。图3显示了带有端到端虚通道(VP)的自愈轮。在每一个轮缘结点和轮彀之间有两类VP:保护型VP和非保护型VP。在正常操作状态下,对于下游业务,轮彀将保护型VP复制到轮缘光纤上。轮辐则包含了保护型和非保护型VP。对于上游业务,每个轮缘结点复制保护型和非保护型VP到其输出端口(轮缘和轮辐)。“充分利用网络在整个时间段的带宽”即在Web Browser端并未发出Web请求时，Server也向该Browser传送它极可能用到的Web页面。特别地,轮缘结点设计较简单,它仅利用了SDH和ATM中仅有的最小功能(即SDH的恢复机制和ATM复用机制),而这些功能恰恰在其协议中较完善。主要研究分布式计算系统、分布并行算法。 SDH层考虑1+1保护机制,轮辐和轮缘信号是相同的拷贝;而ATM层则留意1：N保护系统,在该系统中,一条普通的路径(轮缘光纤)用于多个点对点通信通道中较高优先级业务的恢复。这样可实现在轮缘结点上采用简单的SDH保护,而同时维持与ATM复用结构相当,甚至更优的利用等级。
　　在正常工作状态下,自愈轮与星型拓扑相当。在星型结构中,每个轮缘结点利用所有的轮带宽同轮彀点通信。该带宽既用于保护型业务,也用于非保护型业务。在链路失效模式中,轮将“简化”成同样带宽的ATM复用结构。
　　瞬时拥塞现象在网络中大量存在。电缆失效的信号丢失(LOS)监测点。在实验的基础上对它产生的浏览服务加速效果进行了评估。
　　. 当检测到输入的轮辐信号LOS时：
　　a) 1+1选择器将倒换到轮缘光纤信号;
　　b) 该结点同时设置上游轮辐信号的AIS (Alarm Indication Signal,告警指示信号)。
　　. 如果在轮缘信号上检测到LOS：
　　a) 不发生保护切换;
　　b) 为流出的轮缘设置AIS。
　　. 轮缘结点检测到AIS后,采用同LOS一样的保护切换协议,只是AIS不传播。
4　应用效果与特点
　　Web页面预送技术的一个典型应用就是网上免费邮件服务，统计表明90%以上的用户在免费邮件服务的Web页面上登录后，只要邮箱里有信件，就会进一步读信件，因此对该免费邮件服务器而言，只要发现有合法用户登录，根据预送思想就可马上将该用户的信件送给该用户，而不用等到该用户发出读信件指令。
　　. 在ATM层,当选择优先级较低的业务轮缘信号时,由于溢出,其中一些业务可能被先占。
4.2.2　轮缘结点数流动方向
　　从轮彀的角度看,轮缘结点数将沿着业务流动方向从1～Q递增。
　　③ 向Browser端发送必要Web页面。
　　. 如果在一个或多个流入轮辐信号中检测到LOS,则：
　　a) 将最小的失效轮辐号赋给i;
　　b) 为所有到点 i+1,i+2,…,Q的下游轮辐信号设置AIS;
　　c) 将所有结点号为 i+1,i+2,i+3,…,Q 相关的保护型VP倒换到结点i的轮辐信号上;
　　d) 将所有结点号为 i+2,i+3,…,Q 的相关保护型VP倒换到结点i+1的轮辐信号上去(这样能恢复轮缘结点失效);
　　e) 在轮缘信号上接收所有来自结点 i, i+1,i+2,…,Q的保护型上游业务(或相当于来自结点Q的轮辐信号)。
　　. 如果检测到一个或多个流入轮辐信号上的AIS,则：
　　a) 将最大的失效轮辐号赋给j;
　　b) 为所有到点j-1,j-2,…,1的下游信号设置AIS;
　　c) 在结点号为j的流入轮辐信号处接收所有来自结点j-1,j-2,…,1的保护型上游业务。
3.2　预送页面的选择
　　当前因特网的网络带宽不大，如果预送页面的有效率高，则在整体效果上就是把用户要用到的必要Web页面提前传送，并不会加剧网络拥塞，相反的会因为Web Browser减少了对服务器的访问次数而缓和网络拥塞状况。
　　如果自愈轮光纤切断或轮缘结点失效,则会有同样的自愈效果。本文中所描述的单汇接自愈轮,不能恢复失效轮彀。
4.3　自愈轮与ATM环相比较
　　选择自愈轮还是ATM环(也就是前面讨论的ATM复用结构)依赖于不同的业务模式。
　　在非失效模式下,自愈轮的带宽和星型拓扑相当。失效时,自愈轮将“简化”为ATM环。在保护型业务中自愈轮能承载同ATM环相当的带宽,而在非保护型型业务中,它能承载(Q-1)*C的容量,其中Q代表轮缘结点数,C代表轮的带宽。在头尾结点中的端口数和所用的光纤数方面,自愈轮结构不如ATM复用结构有效。(3)浏览器端支持对一定量Cache 的Web主页的缓冲机制。另一方面,由于自愈轮更简单的保护机制,所以其轮缘结点比它们的ATM环副本更简单。自愈轮协议的另一个优点是从SDH 环结构移植时,可实现ATM ADM同现存的SDH ADM的结点接口。
5　结语
　　当自愈轮从SDH环平台移植过来时,它能与现存的SDH ADM结点兼容,并能提供ATM 环的完全复用带宽。 自愈轮在头尾结点中需要更多的端口,但其外围结点设备简单。 对于非保护型业务,它可达到星型结构相当的性能。
表1　页面关联表

必要Web页面号预送Web页面号集
1{ 2,3,4 }
……
N{ np1,np2...... }

　　② 依据页面被访问的历史决定预送页面；即在服务器空闲时间段里，利用数据挖掘技术［2,3］，将满足一定支持度与可信度的“必要Web页面号→预送Web页面号”关联提取出来，刷新页面关联表。主要研究方向为ATM网络性能分析。
吴翠先　硕士研究生。主要研究方向为宽带接入网、ATM网络性能分析。
陈继努　教授。主要研究方向为宽带接入网、B-ISDN与ATM网络性能。各进程间运行状况如图1，图1描述了采用第二种方式实现加速预送技术的方法，这个思路适合于开发独立的浏览器服务器端加速软件，具有普遍意义