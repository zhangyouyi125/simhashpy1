计算机应用
Computer Applications
1999年 第19卷　第8期 Vol.19　No.8 1999



基于多级内码的信息服务系统
――谈多级内码理论在信息领域的应用
刘功申　吴胜远　
　　摘　要　多级内码理论是一种新型的汉字处理理论，其独特的优点使其具有广阔的发展前景。录音和人工方式一直是信息台不可逾越的障碍。


图2　变增益积分模糊控制系统原理框图
　　加香比控制过渡过程曲线见图3，图中b为设定加香比，b+Δ～b-Δ为加香比误差较小区。本文介绍了多级内码的分词方法的应用，以及信息服务系统的组成和功能，说明了系统的发展前景。
　　关键词　多级内码，数据库处理平台，信息机系统，MCTI
THE INFORMATION SERVICE SYSTEM BASED ON MMC
Liu Gongshen　Wu Shengyuan
Department of Computer Science, Sandong University of Industry, Sandong．Jinan 250061
　　Abstract　Theory of multilevel machine code is a new theory of Chinese information-handle which has great prospect with its special advantages. Recording mode and manual mode are always the unoversteping handicap. The information service system based on MMC, uses the theory skillfully, overcomes these problems, and fills up domestic and overseas blank. This paper introduces the application of MMC words segmentation, the construct and function of the information service system, illuminates the future of the system.
　　Keywords　MMC(Multilevel Machine Code), Processing platform of database, Information machine system, MCTI(Multilevel Computer Telephone Integration)
1　信息服务现状
　　目前，传统的160、168等信息服务业务都是采用两种方式：用录音文件来应答用户的请求；值班业务员应答用户的信息查询及请求。然而，在现实生活中，大量的信息都是以数据库的方式存在。并且，我们知道，这些数据库都是普通文本数据库。虽然，TTS技术已相当成熟，但由于分词不能精确的自动完成，传统的声迅台都不能提供数据库文本信息的语音服务。基于多级内码的语音处理技术恰好解决了分词方面的问题，该技术与数据库处理平台相结合，使得数据库文本信息的语音服务成为现实。
2　系统的概貌
　　在高速发展的信息时代，以PC机为终端的计算机通信网和以电话机为终端的电话网，几乎覆盖了人类生存的各个角落。近几年来，随着Internet的发展，多媒体、ATM、IP、语音处理技术和程控交换技术的进步，使两大通信网在高层次上融为一体成为可能，这就是近几年迅速发展的CTI，即计算机电话语音集成技术。CTI技术在组建客户服务信息网络中起着核心作用。
　　MCTI是基于多级内码理论的CTI。基于多级内码的信息服务系统是MCTI的实际应用。
2　系统设计
　　烟丝加香控制系统由检测设备、控制器、执行机构三部分组成。
　　整个系统是一个基于Windows NT的局域网。系统通过信息机与公众电话网（PSTN）进行交互，给用户提供语音服务；通过处理机与信息源相连，挖掘信息，并进行多级转换处理。信息源主要指远程的数据库。
　　系统主要由四个组成部分：信息机系统，它主要负责接受外部通讯网的信息，负责监听、调度座席，并把经过座席处理的信息发送给用户；数据库处理平台，主要负责普通数据库（通常的文本数据库）转换为多级内码编码；坐席系统的任务是通过服务器实现信息机与座席的信息交互，或直接实现客户与坐席服务员的通信；服务器是系统所有资源的存储器。提供给用户查询的相关数据库、系统管理数据库、系统语音数据、用户语音数据都存储在服务器上。


图1　基于多级内码的CTI系统
3　信息机系统
　　信息机主要由语音板卡、PC机和软件构成，它的构成类似于传统的声讯台组成结构。其中，语音板卡采用DIALOGIC公司的D300或D41E等。语音卡直接插在计算机的扩展槽上，占用一个中断地址。计算机CPU通过中断响应控制语音卡完成摘机、挂机、录音、放音、自动拨号、DTMF接收识别等功能。所有语音查询系统的设计都可以采用这一模型。通过软件和语音卡的配合，实现信令处理、流程控制、业务处理以及结束呼叫处理和系统退出等过程。主要从事计算机检测及智能控制的研究。当用户拨通系统的特服号后，依照系统提示拨相应的公告号码，系统就会将该信息号对应的公告文本转化后回放给呼叫者。
　　录音和回放及扩展功能　根据不同用户的要求，系统采用数字化方法可以录制歌曲、股评，留言等信息存放在磁盘上。用户可以利用系统的回放功能收听上述信息。在此基础上，可以建立语音邮箱或录音电话系统。该录音电话系统具有保密性，用户凭密码访问，可以方便的对自己的邮箱进行更改密码、重复提取、清空、设置邮箱容量等操作。
表1　模糊变量的论域等级表

加香比误差e*量化等级e误差变化ec*量化等级ec
大于2.0‰6　――
2.0‰5大于2.0‰6
1.6‰42.0‰5
1.2‰31.6‰4
0.8‰21.2‰3
0.3‰10.8‰2
0.1‰+00.4‰1
-0.1‰-0-0.1‰～0.1‰0
-0.3‰-1-0.4‰-1
-0.8‰-2-0.8‰-2
-1.2‰-3-1.2‰-3
-1.6‰-4-1.6‰-4
-2.0‰-5-2.0‰-5
小于-2.0‰-6小于-2.0‰-6

　　e、ec和u的隶属度函数采用正态分布形，糊控制规则如表2。该模块采用ODBC接口，保证了系统的通用性。
　　坐席的转接　根据用户的不同，判断是否将呼入用户转入座席服务员。由座席服务员完成信息的查询，然后，按照自动或半自动两种方式将信息反馈给用户。
　　质检席(班长席)的设置　作为为社会公众服务的信息查询系统，同样涉及到服务质量的问题。系统设置了质检席，从质检席可以选择监听任一话务员的服务。还可以将其服务过程记录在质检席的磁盘中，以便进行服务后的核对检查。
　　电子邮件信箱的设置　系统的这种功能使用户仅仅拨一个电话，就能收听到自己最新的电子邮件。
4　数据库处理平台
　　数据库处理平台是一个处理软件，它运行于处理机上。由于处理的信息多为数据库信息，所以叫数据库处理平台（实际上，该平台不仅仅是对数据库处理）。其功能主要是把数据库（各种数据库：SYBASE、ORACLE、DB2、VFP、SQL SERVER等等）的文本信息处理成多级内码信息，以便于该种信息的电话访问。
　　平台的其他功能包括：对未经处理的文本进行多向转换；在电子邮件信箱功能中，接收电子邮件，加以转换；对系统进行管理，在系统不停机的状态下，加入或修改业务流程;实现与服务器和座席的信息交互。这些功能可以集中在一台处理机上，也可以由若干台处理机分别处理，以便减轻单台机器的处理强度。处理机的配置是相当灵活的。
　　该平台负责单级和多级信息之间的转换，并在服务器上维护相应的信息库，信息库内存放的是经过多级内码技术处理过的信息。该信息的特点是，包括了分词信息、音调信息、音律信息等等。并且，根据远程数据库的更新，能实时更新信息库的内容；另一方面，实现信息机与处理平台对服务器上的信息库的并行访问，信息机可以同时访问多个信息库。
4.1　对数据库字段的分词处理
　　对某一数据库字段进行分词处理的特点如下：
　　字段内的文字是分类的(姓名字段都是人名，地址字段都是地址)。反射式红外传感器用于检测生产线上是否有烟丝，输出触点信号，送光隔I/O状态采集板。
　　关键词　模糊控制系统，模糊控制器，智能积分
THE APPLICATION OF FUZZY CONTROL
IN THE CONTROL SYSTEM OF FLAVORING CUT TOBACCO
Ma Tiejun
Chengdu Institute of Computer Application, 
The Chinese Academy of Sciences, Sichuan．Chengdu 610041
　　Abstract　This paper introduces the design and realization of the fuzzy control system of flavoring cut tobacco. Based on the analysis of the features of PID control and fuzzy control, the paper deals with the specific conditions of flavoring cut tobacco, and proposes a new system design which includes a fuzzy controller with changeable gain and integration. The paper also discusses about reducing error in stable condition by intelligent integration.
　　Keywords　Fuzzy control system, Fuzzy controller, Intelligent integration
1　概述
　　烟丝加香是卷烟厂烟丝制造生产线(简称制丝线)的三大工艺环节之一，烟丝加香控制就是根据制丝线上烟丝流量的变化，实现按设定加香比均匀喷香。(如果万一有含有歧义的句子，在信息的自动化处理阶段，可以标记而等到人工后期的检测处理阶段。双模PID控制是常用的高精度控制方法，但必须建立在精确的数学模型基础上，因此无法直接应用于加香控制。
表2　模糊控制规则表

ECUEPBPMPSONSNMNB
PBPBPBPBPBPMOO
PMPBPBPBPBPMOO
PSPMPMPMPMONSNS
POPMPMPSONSNMNM
NOPMPMPSONSNMNM
NSPSPSONMNMNMNM
NMOONMNBNBNBNB
NBOONMNBNBNBNB

表3　模糊控制决策表

ECUE-6-5-4-3-2-10+1+2+3+4+5+6
-6-7-6-7-6-7-7-7-4-4-2000
-5-6-6-6-6-6-6-6-4-4-2000
-4-7-6-7-6-7-7-7-4-4-2000
-3-7-6-6-6-6-6-6-3-20111
-2-4-4-4-5-4-4-4-100111
-1-4-4-4-5-4-4-1000321
-0-4-4-4-5-1-10111444
+0-4-4-4-5-1-10111444
+1-2-2-2-2001443444
+2-1-2-1-2004443444
+30000336666666
+40002447776767
+50002446666666
+60002447776767

4　实际运行测试
　　现场应用证明，采用变增益积分模糊控制器的烟丝加香控制系统，可以满足高档香烟的加香工艺要求，加香比控制精度误差由原来离散变增益控制的±5%提高为±3%，超调量由14.1%降低为8.7%。
作者简介：马铁军　助理研究员，在读硕士研究生。检测设备有：烟丝称重皮带称、香料流量检测电磁流量计、反射式红外传感器。
　　经过考察我们知道：对于大型数据库应用系统，总是存在日志文件。模糊控制无须建立被控对象的精确数学模型，且具有鲁棒特性好和响应速度快的优点，但用常规模糊控制方法实现高精度控制，会导致控制规则复杂，实现困难。可做一个监控程序，对日志文件进行监控，提取有关信息，让处理机对映像库进行实时更新。
　　对于小型数据库应用程序，可以有两种方法：首先，有些比较正规的应用程序都有用户自己开发的日志文件，处理方法等同于大型数据库的处理方法；其次，若没有用户自己开发的日志文件，由于数据量一般不多，可以在数据源端开发一个监控程序，用逐个检测的方法解决。
4.3　异种数据库的访问
　　对于异种数据库，采用ODBC进行连接，实现极为灵活的数据源处理功能，包括动态选择数据源，动态选择数据表，动态选择表中的字段，动态确定处理的记录，保证了对异种数据库的信息处理能力和应用程序的通用性，并且提供多个数据库的同时访问，具有实时性好的优点。采用多级内码分词理论，实现数据表中的内容的多向转换。
5　座席系统
　　信息机负责接受外部通讯网的信息，负责监听调度座席，并把经过座席处理的信息发送给用户；座席终端的功能主要是给话务员提供人工查询的平台, 实现对由信息机传来的信息进行关键字的结果查询，把结果传给用户。坐席系统在整个MCTI系统中完成座席的查询功能及信息发送，其实现中采用的技术主要有：使用ODBC技术完成对信息的动态处理和动态查询,通过多级内码的单向转换（多级到单级的转换）算法确定回传信息。其回传方式有两种：
　　人工方式　把座席服务员的声音直接播放给用户；
　　半自动方式　坐席服务员把查询结果传给信息机，由信息机按照文本播放合成后的语音信息。引入θ的目的是使系统更好地适应生产线上烟丝流量的调整。


图1　烟丝加香控制系统框图
　　香料流量检测传感器输出4～20mA标准仪表信号，为保证香料流量检测精度，A/D采集板为12位。该系统的作用就是在企业和客户之间架起连接的桥梁，使企业为客户提供上乘服务。系统组成框图如图1所示。）、中国的电话普及率比电脑普及率要高的多（山东省几乎村村通电话，有一些大学校园更是每个宿舍都普及了电话。）、特殊环境下电话（包括无线电话）的优点（交通警察值勤时电话总比电脑方便）。特别是，大量的信息来源于数据库，像图书馆信息、科技情报检索、考试成绩信息、电话费信息等等，这些都以文本的形式存储于数据库。运用该系统后，仅用电话，就可以查询你想要的信息。主要从事计算机检测及智能控制的研究。
作者简介：刘功申　硕士研究生。　吴胜远　教授,硕士生导师。误差e*(连续量)、误差变化ec*(连续量)分别通过量化因子GE、GEC量化并求出量化等级量e和ec，经模糊化处理得模糊量E、EC，再由模糊控制规则及模糊推理求得控制输出等级量u，经比例因子（增益）GU得精确量u*，u*与积分量Kl×e*的和Δv作为控制增量控制变频调速器调节加香电机转速。
作者单位：刘功申　吴胜远　山东工业大学计算机科学技术系　山东．济南（250061）
参考文献
　［1］　吴胜远.多级内码理论及应用效果.计算机应用，1995;(9):68-70
　［2］　(美)Raj Rajagopd, Subodh P.Monia,著. Windows NT4 高级程序设计.前导工作室，译.北京：机械工业出版社
　［3］　付　军,杨学君，郭　杰.一种基于语音卡的通用电话查询系统的设计.计算机工程与应用,1998,11:67-69
收稿日期:1999-02-28
