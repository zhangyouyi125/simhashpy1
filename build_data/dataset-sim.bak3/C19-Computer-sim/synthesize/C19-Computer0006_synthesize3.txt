
　　原则2：任一程序中，分枝结构比序列结构复杂；循环结构比分枝结构复杂计算机应用
COMPUTER APPLICATIONS
1999年 第19卷 第6期 Vol.19 No.6 1999



一类软件结构度量模型及其手动实现
王小明
　　摘　要　本文对软件结构中扇入/扇出对软件运算的影响进行分析,研究探讨了一种基于扇入/扇出的软件结构运算度量模型，给出了自动实现算法。使用这些模型可以在软件系统模块结构设计完成之后，对系统结构与模块的复杂程度作出定量度量，以便在祥细设计开始之前对复杂度过高的模块重新划分；对复杂度不合理的系统结构进行重新构建；对不同的系统结构方案进行复杂度比较，从中选择最优方案。其余部分基本与 Unix 相同。
2.2　若干概念
　　为了将扇入/扇出对模块(系统)结构复杂度的影响分开来讨论，以建立新的结构复杂度度量模型，引入如下几个概念。在一定程度上，软件系统的运算取决于各子系统之间的与数据流的复杂程度。。软件结构运算是指结构的复杂度和整个软件VFP的复杂度。
　　第j层对称层权值(yj):
2.3　数学建模
　　依据2.1系统结构复杂度准则1-5，在研究大量实际系统模块扇入/扇出对模块(系统)结构复杂度影响的基础上发现， 一个模块的扇出不仅影响其自身的结构复杂度，更重要的是影响系统其他模块结构的复杂度(接口复杂度)，并使其本身的结构复杂度按2的指数增长。经典的结构复杂度度量方法常用组件的扇入/扇出数量来度量模块的复杂度。一个模块的扇入指进入该模块的控制流与数据流之和，一个模块的扇出指该模块输出的控制流与数据流之和。软件结构的复杂度可表示为对应模块或子系统的扇入与扇出乘积的平方。
艾波　教授，博士生导师。结构复杂度度量力求反映模块内部结构的复杂度以及模块间接口的复杂度，进而反映整个软件系统的结构复杂度。。本文在研究结构化系统设计与程序设计的基础上，将扇入/扇出对模块的复杂度影响分别讨论，给出了基于扇入/扇出的模块和系统结构复杂度定量度量的数学模型。该模型在结构化、软构件和基于组件的设计分析中具有较高的应用价值。。
　　定义2:　由m个子模块构成的软件系统P,各模块的结构复杂度为Fj,则软件系统的结构复杂度为:
Z=Fj　　　　　　　　　　　　　　　　　(6)　
　　实践表明，当Kj≤-1时，该模块可能规模偏小，需同其它模块合并;当Kj≥1时，该模块可能规模偏大，需要进行再分解或调整控制流，使各结点复杂度达到基本的均衡，从而使整个系统结构复杂度达到较低水平。
　　准则3：任一程序中，隔层调用比逐层调用复杂；模块间自自顶向下调用(构成循环结构)比自顶调用复杂。
　　准则4：系统模块越多系统越复杂；中间层模块越多系统越复杂；模块层数越多系统越复杂。
　　准则5： 嵌套深度越大，程序越复杂；越靠近入口或出口的模块，复杂度越低。各子控制系统之间通过与数据流相关联。
　　扇出：指一个模块直接控制(调用)的模块数目。扇入：指直接调用该模块的模块数目。
　　模块总数(m)：系统中模块总个数。
　　深度层号：指软件结构从入口到出口各层次的顺序编号。
　　层号：当系统模块总层数n为奇数时，自顶(入口)向下(出口)各层对称层号依次为1，2，…，,…,2，1；当n为偶数时，自顶(入口)向下(出口)各层对称层号依次为1,2,…,,,…,2,1。结构复杂度度量主要是对软件中的控制流和数据流以及组件间的接口复杂程度等进行度量。一个模块的扇入影响其本身的结构复杂度，并使其本身的结构复杂度按i(e=2.71828)的指数增长。模块的结构复杂度函数依赖于系统总模块数、系统深度、模块在系统中所处位置、扇入/扇出来源与去向等。对于某一模块，只要有一个扇入或扇出复杂度较高，那么该模块仍然复杂度较高。
　　表述1:　由m个子模块构成的软件系统P,其子模块的结构复杂度定义为：
　　模块j的扇入复杂度:
Rj=m×hj×e｜j 模块深度层号-扇入i起点深度层号-1｜　　　　　　　　　　　(1)　
　　（q为j模块扇入总数, 1≤j≤m，m为模块总数，以下同）
　　模块j的扇出复杂度：
Cj=m×hj×2｜j 模块深度层号-扇入i终点深度层号+1｜　　　　　　　　　　　(2)　
　　（p为j模块扇出总数）
　　模块j的总复杂度:
　　　　　　　　　　　　　　(3)　
　　系统模块的平均复杂度：
　　　　　　　　　　　　　　(4)　
　　模块j的总复杂度相对于系统模块的平均复杂度的偏差：
　　　　　　　　　　　　　　　(5)　
　　依据软件工程理论，一个软件系统最优，不是某几个模块最优，而应该是所有模块优度均衡，从而使系统最优。所以，可根据系统乘法原理［7］定义软件系统的结构复杂度。。
3　结构复杂度度量的自动实现
　　定义3： 系统中模块所在层深度编号构成的定义为：X=［x1,x2,,…,xm］。一个模块应追求高扇入，使得该模块具有较高的可重用社会性；追求低扇出(扇出数小于8)，使得模块间藕合度较低。
　　(2)基于上述数学模型的自动实现使用了矩阵方法，只要给出系统模块的扇入矩阵或扇出矩阵,模块深度层编号，对称层权值，使用任一种计算机语言即可实现软件系统和模块的结构复杂度自动计算。。
注：本项目受正林集团技术创新基金资助(No.980530)。此网与全国光缆传输网互为备份，形成天空、 陆地的交叉覆盖网，实现全国海关系统的连网。
　　输出：{Di0,Di1,Di2 }所对应的3维数组B。
作者单位：甘肃省经济管理学院计算机中心　甘肃.兰州(730070)
参考文献
［1］　Tom DeMarco.Structured Analysis and System Specification.Yourdon inc,1979
［2］　Roger S. Pressman, Software Engineering:A ′s Approach,McGraw-HillBook Company,1982
［3］　Elism B. & Susan U. Object-Oriented Methodologies and Systems, 1994
［4］　Hausi A.M.&Rounald J.N.,The 17th IWCASE,1995
［5］　张海藩.软件工程导论.北京:清华大学出版社,1998
［6］　汤　庸.软件工程方法学及应用.北京:中国三峡出版社,1998
［7］　孙　凌.计算机信息系统分析与设计.武汉:武汉大学出版社,1994
［8］　杨士尧.系统科学导论.北京:农业出版社,1986
收稿日期:1999-03-09(修改稿)
