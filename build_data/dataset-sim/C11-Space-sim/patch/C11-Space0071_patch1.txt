航空计测技术
Aviation　Metrology　&　Measurement　Technology
1999年 第19卷 第3期 Vol.19 No.3 1999



多通道智能场强计的研制
朱传焕
　　摘　要　介绍87C51单片机在研制多通道场强计中的应用情况以及软件和硬件的研究设计。
　　使爆轰波驻定的设想始于五十年代［1,2］,作为一种技术,它可以用于高速推进系统,例如爆轰发动机。计算模型如图4,底端三角点与空间平台铰接,顶端三角点各受1.5N有效载荷。近区场强仪是一种测量高电平近区电磁场的测量设备，它可测量各种漏场、寄生辐射，还可用于电磁兼容性实验。多通道智能近区场强仪不仅具有这些功能，它还可以多种方位实时地监测各种变化的电磁干扰。空间伸展臂展开方式有:弹出式,结构由弹性压缩而折叠,释放弹性能而展开,如SimplexMast、HinglessMast［1］;材料在特定条件下按要求变形的自伸展结构;智能型桁架(VGT)［2］。
　　多通道智能近区场强仪将数据采集、处理、控制功能集于一体，它包括硬件和软件两大部分，其核心为87C51单片机。系统设计时，尽量用软件的办法解决，以减小硬件开支，降低成本。与此相应的数值解法可以精确地给出爆轰波驻定的匹配条件,即给出爆轰波的驻定窗口,这对驻定爆轰的理论研究和实际应用皆具有相当的价值。下面将硬件和软件部分设计分别进行论述。
1　硬件设计
　　硬件部分包括探头电路、平衡―不平衡转换电路、多路转换控制电路、放大电路、A／D转换电路以及87C51单片机。硬件设计原理框图如图1。图5为初始温度对驻定窗口的影响曲线。
1.2　平衡―不平衡转换电路
　　由于探头输出是平衡的对称方式，必须将它转换为不平衡方式，所以加上平衡―不平衡转换电路，它提供高输入阻抗，由低噪声低漂移精密运算放大器组成，如图2所示。


图2　平衡―不平衡电路
1.3　多路转换控制电路
　　由六片AD7506多路模拟电子开关组成，实现可达90路通道转换，其控制线由单片机87C51的P3口，经两片4～16线译码器译码后提供，如图3。


图3　多路转换控制电路
1.4　程控放大电路
　　程控放大电路将小信号进行10倍放大，以提高测量的灵敏度，将大于2 V的信号衰减10倍，由低噪声低漂移精密运算放大器和一个模拟电子开关组成，放大量由单片机87C51的P2口,P2.6和P2.7控制，如图4。


图4　程控放大电路
1.5　A／D转换电路
　　场强计的A／D转换对转换速度要求不高，只是要求精度高，输入电压范围大，所以选择MC14433芯片。MC14433是3位半A／D转换器，双积分型，转换精度高，为0.05％±1个字，功耗低，功能完整，片内有自动极性转换和自动调零功能，并提供有时钟发生电路，抗干扰能力强，易与单片机接口，转换速率为4～10次／s。
　　主题词　爆轰波　超音速燃烧　化学平衡
THE ESSENTIAL FEATURE OF STEADY 
DETONATION WAVE USING PROPULSION
Cui Dongming Fan Baochun
(Power Eng.College,Nanjing Univ.of Sci.& Tech..Nanjing.210094)
　　Abstract　In view of the essential conservation equation of the steady detonation wave、multiconstituents equation of state and the constituent conservation equation of accounted chemical equilibrium moving.Acoording iteration equation devived in this paper,the equilibrium constituents behind different intensity steady detonation wave、reaction heat and isentropic exponent are calculated,the essential feature of steady detonation wave、steady condition and the various factors of influence steady are discussed.
　　Key words　Detonation wave Hypersonic combustion Chemical equilibrium
1　引　言
　　如果激波诱导的化学反应所释放的能量足以补充其传播过程中的能量损失,该波则可以自持,称此为爆轰波。
　　1)87C51单片机由87C51 CPU、晶振、八位液晶显示器组成，如图5。87C51 CP按其引脚功能分为三个部分：
　　a.I／O口线：P0、P1、P2、P3，共4个8位口。
　　b.控制口线：PSEN(片外取指控制)、ALE(地址锁存控制)、EA(片外储器选择)、RESET(复位控制)。
　　　　表2　CFRP构件特性

项目E(GPa)σ(GPa)A(mm)I(mm)
管2401.301042998.7
索2401.353.1420


　　　　表3　部分节点位移

节点号X-位移(m)Y-位移(m)Z-位移(m)
45.531e-66.378e-122.713e-6
115.170e-7-6.020e-68.913e-6
142.707e-5-6.021e-62.723e-5
213.986e-5-6.021e-62.264e-5
248.404e-5-7.465e-114.268e-5
311.146e-4-5.726e-63.613e-5
341.757e-42.782e-84.288e-6
412.246e-4-3.884e-64.795e-5


5　结　论
　　本文主要结论:
　　(1)分析了一正八面体单元伸展臂的构成原理;
　　(2)推导出伸展臂展开过程的几何变化规律(运动轨迹);
　　(3)分析伸展臂在预定应力状态的受力特点;
　　(4)推导滑动-转动单元的两种9×9刚度矩阵,并建立伸展臂在外力作用下的受力分析模型。
　　2)87C51 CPU除了电源，复位和时钟外，其余管脚都是为了实现系统扩展而设置，它们构成了三总线结构，即：
　　a.地址总线(AB)：宽度16位，其外部存储器直接地址范围为64 K字节，16位地址总线由P0口经地址锁存器提供低八位地址(A0～A7)。P2口直接提供高8位地址A8～A15；
　　b.数据总线(DB)：宽度8位，由P0口提供；
　　c.控制总线(CB)：由部分P3口的第二功能状态和4根控制线PRST、EA、ALT、PSEN组成。
　　由于87C51是片内带EPROM的单片机，不带外部存储器扩展，将{EA}按高电平，P0、P1、P2、P3都可用作用户I／O口。
　　3)八位液晶显示器：由6片具有锁存功能的BCD―7段液晶显示译码／驱动器4056和八位液晶片及RC振荡器组成。显示通道数和场强值，如：“CH08：250.7”，即为第八通道，场强值为250.7 V／m。
1.7　A／D转换器与87C51单片机接口
　　虽然MC14433输出是动态分时BCD码输出，但由于87C51的P0口可作为用户I／O口，所以MC14433可直接接在87C51的P0口上。
2　软件设计
　　结合硬件线路，用汇编语言编程，自动交叉反汇编的方法得到机器码目标程序。采用自顶向下， 模块分割的设计方法， 同时考虑和硬件的配合问题， 作相应调整， 综合考虑， 权衡利弊， 调整到软、 硬件都能贯通为止。如果忽略凝聚态悬浮粒子的体积和对系统压力的贡献,有
　　　　　　　　　　　　　　　　　　　　　　　　(3.1)
　　将(2.7)、(2.8)、(3.1)式在精确解附近做级数展开,经适当代数运算
　　　　　　　　　j=m+1,…,n　　　　　(3.2)
　k=1,…,l　(3.3)
　　　　　　(3.4)
其中　πi=-λi/RT,,这是一个关于πi或λi(共l个)、Δnj(n-m个)和Δlnn的常系数线性方程组(共l+n-m+1)个,当p和T确定时,由上述方程可求得修正值Δnj和Δlnn。利用MC―51单片机进行在线仿真开发，把系统安置在实际环境中进行现场测试，分析查找测试中的问题及原因，根据问题，修改软件和硬件，直到设计符合需要。多通道智能场强仪监控程序原理框图如图6。
3　数值方法
　　上述方程组具有强烈的非线性,需迭代才能求解。
　　2)多路开关控制程序：根据通道数设置多路开关数，完成通道的顺序转换。
3)量程控制程序：根据输入信号大小，自动地选择合适增益或衰减，完成对程控放大器的控制。
　　4)A／D转换程序：完成数据的采集。
　　5)数据处理程序包括：数字处理程序、检波特性修正程序、探头校准系数修正程序等。
　　a.数字处理程序：将存储在10H,11H,12H,13H,14H(存储放大或衰减倍数)单元的BCD码计算为一个数值,并将此数值存于20H,14H。
　　b.检波特性修正程序：根据20H和14H单元的数值采用曲线分段拟合法得到高频感应电压，数值存入21H,22H。
　(14)

图9　两节点单元节点力、位移
　　虽然前面推出9×9约减刚度矩阵,3节点9自由度,但由于第4、5、6个位移为线位移和角位移混合在一起,不便于数值分析。
　　c.探头校准系数修正程序：将21H和22H单元数值,利用查表或直线拟合方法得到场强数值E。
6)显示程序：显示通道数和对应通道场强值。
　　以上程序由于占用篇辐较大，程序清单不再列出。
　　软件和硬件仿真调试成功后，脱机运行，功能按设计要求运行，这样软件和硬件的设计基本成功。
3　场强计测量误差分析
　　1)关于A／D转换精度和分辨率的问题
　　a.A／D转换器的分辨率习惯上是以输出二进制位数或BCD码位数表示，与一般测量仪表(指针式)表达方式不同。对于MC14433芯片，分辨率按BCD码位数表示，为3位半，满度字为1999，用百分数表示其分辨率为[(1／1999)×100％＝0.05％]。
　　　　　　　　　　　　　　(1)
　　　　　　XD=cosθ　　　　　　　,　ZD=sinθ　　　　　　　　　　　(2)
可以证明:
　　　　　　　　　(3)
　　注意到在展开过程中,ZD≠ZC,CD与AB不平行。量化误差理论上为一个单位分辨率，提高分辨率可减少量化误差。
　　b.转换精度反映了一个实际A／D转换器在量化值上与一个理想A／D转换器进行模拟转换的差值，可表示成绝对精度和相对精度。这里，精度所对应的指标不包括量化误差。
　　c.MC14433实际转换精度为±0.05％\Ux\±1个字。对于三位半A／D来说,一个字误差相当于相对误差为：(0.05％)(Vm／Vx)，Vm为满量程值2V，Vx(20mV～2 V)为A／D转换输入电压值，表1为A／D转换的实际相对误差。对伸展臂,主动索施加预应力,被动索张紧受拉,保证结构稳定并具有一定的刚度;自重和有效载荷合成为外载。
表 1
A／D电压相对误差％
2 mV50
10 mV10
20 mV5
50 mV2
100 mV1.05
200 mV0.55
1 V0.15
2V0.1

　
2)平衡―不平衡转换和放大器的误差优于5％
3)软件设计中数据取舍误差为2％
4)检波特性数据修正误差为5％
5)探头校准系数修正误差为4％
6)频率附加误差为8％
7)其它因素影响测量误差3％
场强计总误差为：
((5％)2＋(5％)2＋(2％)2＋(5％)2＋(4％)2＋(8％)2＋(3％)2)1／2≈13％
作者简介：32岁　男　助理工程师
作者单位：朱传焕　(武汉船舶设计研究所，湖北省武汉市，4300064)
参考文献
　　1　陈伟人.单片微型计算机原理及其应用.北京:清华大学出版社,1987
　　2　何立民.MCS―51系列单片机应用系统设计系统配置与接口技术.北京:北京航空航天大学出版社,1989
　　3　陈汝全等.单片机实用技术.北京:电子工业出版社,1991
　　4　沈德金等.MCS―51系列单片机接口电路与应用程序实例.北京:北京航空航天大学出版社,1989
　　收稿日期：1998-04-10
修改日期：1998-05-04
