因此，对主色调进行扩展是弥补上述缺陷造成漏检的一种有效的方法计算机工程建设
COMPUTER ENGINEERING
1999年 第25册 第8期 Vo.25 No.8 1999



基于的技术
凌玲
摘要：论述了基于色彩的检索，对色调空间的选择、色调的量化以及颜色的相似测试进行了讨论。在此基础上，对两种典型的基于颜色的图形检索方式的特点、关键技术的实现方法以及存在的根本问题进行了详细的分析和比较。。以往对图形数据的管理是从图形中抽取属性信息，并在关系数据库中把它们当成格式化数据，对图象的检索仅局限于对图象属性的字符串匹配上，这种基于属性的方法要求用户能精确定义查阅内容非常困难。考虑到基于内容的图象检索方法具有传统的文本检索技术无法比拟的优越性，因此，科学研究和开发基于内容查阅的图象数据库是当今研究的热点。 
　　由于颜色是人识别图象的主要感知特征之一，因而基于颜色的查询是基于内容的图象检索中最基本的方法。但由此要为计算相似性距离付出较高的代价，且越精确的距离公式其计算代价也越高。。 
　　方法二是将一幅图象简单地划分为 n × n 个子图象 {P1， P2 ，…，Pn2 } ，然后分别计算每个子图象的直方图，这样，整幅图象的直方图就等于各子图象的直方图之和，即： 

根据直方图可得空间距离的度量式为： 

　　可见，基于图象分割后的直方图距离的计算精度要比对整幅图象的直方图距离计算的精度要高，从而有效地提高了检索精度。设用户指定颜色为 l0 、模糊 σ ，则经过正态分布拟合后的直方图特征 f (l) 如下： 
　　（13）
　　可以证明在这个范围内的颜色都可能与用户实际需要的颜色相关，因此可以按上式来确定用于检索的颜色扩展值。 ESV 颜色模型与人的视觉特性比较接近，它由色度 H 、饱和度 S 、亮度 V5 个分量组成。由于这种模型具有线性伸缩性，可感知的色差与颜色分量的相应样值上的欧几里德相距成比例 [2] ，因此 HSV 颜色模型比 RGB 颜色模型更直观、更容易接受。因此 (6) 式可表示为 
l=+=V　　(7) 
这样，根据上式， H 、 S 、 V3 个分量可获得 72 柄 (bin) 的一维 [2] 。。 
1 颜色模型的选择 
　　颜色是图象内容组成的基本要素，选择一个符合人眼视觉特性的颜色模型是颜色特征进行图象检索的关键。
　　绝对值距离形式如下： 
　　 (9) 
　　欧几里德距离形式如下： 
　 (10) 
　　其中， Hq 为待检图象颜色， Ht 为库中图象颜色直方图， hq [ci] 和 ht [ci] 分别表示待检图象和库中图象第 i 种颜色象素的频数。 
　　上述问题也可采用模式识别中的聚类方法对颜色空间进行量化处理 [4] 。把颜色空间所有的颜色按要求量化为 N 种颜色，用统计法寻找 N 个最优的初始聚类中心，即寻找颜色空间中 N 个最有领袖性的颜色值；然后用迭代的方法，把颜色空间中的所有颜色按最小距离准则向 N 个聚类中心聚类，即可得到与各聚类中心感知距离最邻近的 N 个聚类域 s i (1 ≤ i ≤ N)-- 颜色集合；最后使用每个颜色集合 s i 的质心 cen(s i ) 来形成新的 N 个聚类中心，即 N 个颜色集合的代表色。。 
3 颜色的相似测度
　　用数值来有效表示两幅图象在颜色上的相似程度，这便是颜色的相似度量问题，它是直接影响检索效果的重要环节。在模式识别技术中，特征的相似度量均采用距离法。关于距离度量方法可采用绝对值距离、欧几里德距离、二次距离度量方法 [5]。而其中有的系统，成功地运行于并行计算机系统、多处理计算机系统或网
络工作站系统，展示了广阔的应用前景。。
      刺绣是我国一项传统手工艺，但传统的人工刺绣费工费时，难以满足人们日益增长
的需求。通过对直方图之间距离的设定，如当它们的距离小于的时，即 D(Hq ,Ht ) ≤ t 时， Ht 所对应的图象即为要检索的图象。 
4 基于多种主色调扩展的图象检索方法
　　两幅图象的主色调能够反映该图象的基本概貌，因而可作为查询的主要特征进行相似性匹配，考虑到人眼对颜色的认知在一定范围内具有模糊性，在选择主色调时也往往带有一定的随机性和个人的主观因素。。而其中有的系统，成功地运行于并行计算机系统、多处理计算机系统或网
络工作站系统，展示了广阔的应用前景。采用图象的直方图检索方法则可以有效地提高图象检索的准确性[3]。陈世福教授等采用图像图形处理、人工智能等先进技术，研制成功的八六三电
大脑刺绣打版系统，大大提高了工业生产自动化和智能化程度。 
　　实验结果表明 [2] ：该方法尤其对处在量化边界范围的颜色的检索效果有明显的改善。由于待查图象往往包含多种主色调，而主色调选择的随机性以及个人的主观因素又使得其模糊度 σ 较大，这样势必造成检索范围的扩大而大大地降低了检索效率。因此，如何准确、快速地选择图象的主色调仍是需要进一步研究的问题。 
　　传统的 RGB 颜色模型的可分辨色差是线性的，且没有直感 , 所以不是一个好的颜色描述系统。 
5 基于图象分割的直方图检索方法 
　　颜色直方图虽然能较好地反映图象中各种颜色的频率分布，但没有保留各象素颜色的空间分布信息，这显然与人的视觉感应不符，即误检率较高。为此，可采用基于图象分割的直方图检索方法[3]予以解决。 
　　方法一是对图象中所包含的对象的边界进行提取 ( 即提取图象的纹理特征 ) ，采用 Snake 边界提取、手工交互相结合的方法以及采用小波变换的方法提取图象纹理特征，然后对每个对象所包含的颜色用跨距离扫描线算法进行直方图统计，最后采用距离法对待查图象和库中图象进行相似性匹配。实验结果表明：采用对象分割比整幅图象进行相似检索精度提高了 7% ～15% 。 
　　可将 H、S、V3个分量按照人的颜色感知进行非等间隔的量化，即把色度 H 空间分成 8 份，饱和度 S 和亮度 V 空间分别分成 3 份，并根据色彩的不同范围进行量化，把量化后的 3 个颜色分量合成为一维特征矢量： 
l=HQs Qv +SQv +V　　(6) 
其中，Qs( 分量 S 的量化级数 )=3 ， Qv( 分量 V 的量化级数 )=3 。迄今为止，基于内容检索的图象数据库的典型主要有： IBM 的 QBICTM ，哥伦比亚大学的 Viual EEK 图象查询系统，密执根大学和 MIT 多媒体实验室开发的 Virage 系统等，其应用领域涉及多媒体数据库、电子图书馆、商标管理、医疗图象管理、公安系统、卫星图象管理等领域 [1] 。因此如何高效准确地查询用户的图象数据是图象检索方法的主要目标，采用多期的 " 粗粒度 " 和 " 细粒度 " 相结合的相似匹配检索方法则不失为一种提高检索效率的有效方法。 
6 结束语 
　　基于内容查询的图象数据库把图象处理、图象识别、数据库 3 个领域的技术成果结合起来，是一个很有前景的发展方向。图象数据库是图象处理技术和传统数据库技术的应用，又为图象处理技术提供了有力的支持。目前利用颜色特征进行图象检索还处于研究阶段，其中还有许多关键的技术问题尚未得到很好的解决，例如，如何有效地提取颜色特征，如何简化颜色直方图相似距离的计算等。过去一件由数人几天才能
完成的刺绣任务，现在用电脑刺绣打版系统，十几分钟就可完成。 
作者单位：广东工业大学工程与计算机图学教研室，深圳 510643
参考文献
1 Finn R. Query by Image Content. IBM Research,1996, 3:22 ～ 25 
2 曹莉华，柳伟，李国辉 . 基于多种主色调的图象检索算法研究与 实现 . 计算机研究与发展， 1999,36(1):96 ～ 100 
3 李向阳，鲁东明，潘云鹤 . 基于颜色的图象数据库检索方法的研 究 . 计算机研究与发展， 1999 ， 36(3) ： 359 ～ 363 
4 凌玲，凌卫新 . 彩色图象量化的一种新聚类算法 . 广东机械学院学 报， 1996 ， 14(2):58 ～ 62 
