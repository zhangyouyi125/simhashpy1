 
3 结论
　　ARC/INF°手册中给出了基于地形高程和坡度参数的等范围赋值映射方法，用该方法制作的图具有软表面 (Soft Surface) 的感觉实验表明，用本文的方法绘制的晕渲图比 ARC/INF°手册上介绍的方法建立的晕渲图具有颜色动态范围大、立体感强、色彩也更丰富的特点，可以更好地反映地形形态的变化计算机工程
COMPUTER EHGINEERING
1999年 第25卷 第8期 Vol.25 No.8 1999



利用/INFO制做彩色晕渲
黎弘，翟战弱，唐树才
摘要：在对HSL彩色视觉进行分析的基础上，构造了一组由地形基准面、及地表法令线方向到HSL内部空间的模型，并利用ARC/INFO的AML语言，在SGI工作站上实现了对DEM信息的晕渲处理。实验表明，该方法制作的晕渲图具有动态范围大、立体感强、色彩丰富的特点。。 
　　地形晕渲处理包括 DEM 数据生成、晕渲处理建模、色彩分量计算等步骤。 DEM 数据生成一般是在矢量化等高线和离散基准面点的基础上进行内插生成的，这方面的文献很多，本文不作讨论；晕渲处理建模的任务是，地表特征与视觉空间色彩激励分量之间的映射关系，常用的视觉空间色彩模型有 RGB 模型和 HSV 组合模型。文中重点讨论了基于 HSV 组合视觉模型的晕渲建模和色彩分量计算方法，并给出了在 ARC/INF环境下实现这一过程的 AML 语言程序。 
1 HSV彩色视觉模型 
　　在色彩空间中，彩色光的基本参量可以用明亮度 (Iten-pity) 、色度 (Hue) 和饱和度 (Saturation) 来度量。明亮度是光作用于人眼时引起的明亮程度，一般来说，彩色光所含热量越大则显得越亮，反之则暗。 
　　依据式 (1) 、 (2) 、 (3) 计算地表每一点 H 、 S 、 V 分量，将它们发送到相应的显示通道，即可组合成反应地表形态特征的彩色图象。１９９６年下半年将进行小范围的电子支票试验
。
    有人已设计出两种专门用在互联网络上的加密技术。前者
指的是发送者（付方）和接收者（收方）使用不同的加密和解密密钥；后者指的是一种
事实上被认定的财务数据网络国际标准，该标准以美国加利福尼亚州ＲＳＡ数据安全系统公
司开发的专利加密技术为基础。 
　　(1) 建立映射模型 

图2 色度（sue）与高程值之间的映射关系图3 饱和度与斜度的映射关系

　　将高程影射到色调 h ，高程从高到低，对应的颜色由红到绿，即最高的山用红色表示，对应的 h 为 120 °，最低的山用绿色表示，对应的 h 为 240 ° ( 参见图 2) ；将地表斜度映射到饱和度 s ，坡度越大颜色越深，坡度越浅，颜色越淡 ( 参见图画 3) ；用考虑太阳光照射到地表后，在某一观测方位形成的该地表点的反射光强 I 映射成明亮度 v ，反射光，对应的亮度越强。。 

图1  HSV色彩模型
2 DEM 格网数据的 HSV 模型显示方法 
　　地形晕绚处理就是针对已知的地面高程数据，对地形表面进行着色。具体映射关系如下： 
s = 10.0*(90-) / 9.0　　(1) 
　　其中： α 为地面角度坡度 ; 
　　(2)
　　其中 : Z 为地面点高程值， Zmax 、 Zmin 为区域最大和最小高程。。一种解码软件从电
脑钱包里取出所需的钱付给对方，生意就算做成了。
    在纸面帐单方面，私人银行正在开发一种叫做ＥＣＰ（电子支票收付款）的支票结
帐方法。。 
　　(3) 值 I 的计算 
　　明亮度反映了彩色光照射到物体表面后反射到观察位置的能量的大小，明亮度与物体表面方向、观察者位置及面料等因素有关，在制作彩色晕渲图时我们忽略表面材质因素，假定光照和观察位置如图 6 所示， S 为入射光， N 为点 P 处表面法向量， R 为反射光向量， A 为观测向量。则表面点 P 反射到观测位置的能量 I 可采用如下简化模型计算： 

图6 表示反射光强度的计算
I = 255[kd ( L middot; N) + ( S middot; V) ]　　(7) 
　　其中 kd 、ks 为反映表面反射特性和漫反射特性的常数，当给定光照角、观测方位角以及观测距离时，则 I 是表面点法向量 N 的单值表达式。 ARC/INF°的 TIN 和 GRID 模块均提供表面阴影计算命令 ( 函数 ) ，可以利用 TIN 提供的命令计算出地形表面每一点的阴影值，也可利用 GRID 提供的函数对式 (7) 编程，实现每一表面点亮度的计算。利用上述 HSV 模型，我们在 SGI 工作站上制作了多幅地貌晕渲图，实验所用 DEM 数据是由 ARC/INF°的空间数据模型产生的。本文采用 HSV 彩色显示模型，建立地面点高程、坡度和表面切线方向到 HSV 色彩分量之间的映射关系，根据人眼的视觉特点，对地表方向和坡度采用线性映射，而对于高程采用了指数函数变换，这便于突出地表参数的动态范围，增强立体效果。。。本文给出的 AML 源程序在 SGI 上的 ARC/INF°版本 1.7.4 下调试通过，可以方便地移植到其它平台的 ARC/INF°环境下运行。