软件学报
JOURNAL OF SOFTWARE
1999年 第10卷 第12期  Vol.10 No.12 1999



一种理性Agent的BDI模型
康小强　石纯一
摘要　该文通过引入假设信念，解释愿望和意图在Agent思维状态的认知方面的含义，进而定义愿望和意图，并引入规划，建立理性Agent的动态BDI模型。与Cohen和Levesque，Rao和Georgeff，Konolige和Pollack等人的工作相比，克服了对信念、愿望和意图的反直观解释问题，解决了关于愿望和意图的无为而治和副作用问题，强调了愿望的激发与维护作用，表达了信念、愿望和意图三者间的动态约束与激发关系.
关键词　理性Agent，思维状态，信念，愿望，意图。
中图法分类号　TP18
A BDI Model for Rational Agents
KANG Xiao-qiang SHI Chun-yi
(Department of Computer Science and Technology Tsinghua University Beijing 100084)
Abstract　 In this paper, a new BDI model for rational agents is presented by introducing assumptive belief with traditional belief in order to express the intuitive meaning of desire and intention on the cognitive aspect of the metal state of rational agents. Comparing with the BDI models from Cohen & Levesque, Rao & Georgeff, and Konolige & Pollack, this model overcomes the misunderstanding of the concepts of BDI, solves the transference problem and the side-effect problem for desire and intention, and shows both of the static and the dynamic relations between BDI, especially the maintaining and triggering role of desire.
Key words　Rational agent, mental state, belief, desire, intention。如常用的结构化方法中以DFD图对系统中数据与结构进行抽象；面向对象方法以对象模型来描述系统的结构特性，并以此为出发点，分析和解释系统。Hewitt曾经提出基于ACTOR模型的开放信息系统语义，希望以此为分布式人工智能建立理论基础［1］。随着研究的深入，面向细粒度并发计算的ACTOR模型难以适应对Agent的个体智能性和群体交互性的要求.特别是当自主性成为研究的基本出发点之后，Agent必须适应环境的变化和群体交互的变化。于是，将Agent视为具有意图的智能系统，建立基于思维状态（mental state）的Agent模型就成为研究的主流。
　　借鉴心理学的研究成果，人类的思维状态属性有以下几个方面：(1) 认知，如信念、知识等；(2) 情感，如目标、愿望和偏好等；(3) 意动，如意图、承诺和规划等。相应地，当前的Agent模型研究侧重于形式描述信念（belief）、愿望（desire）和意图（intention），简称BDI，进而向多Agent扩展，研究多Agent群体的BDI模型。
4　结论
　　为了提高软件开发效率、降低开发成本，人们一直在寻求好的开发方法，软件重用技术在这方面担负着重要作用。因此，无论从方法论研究或者是实际应用来说，都需要建立一个集成的信息系统模型，以便把各类模型统一到一个体系里，为分析、比较、评价、综合和选用各种模型建立统一的语言，也为发展新的模型提供基础和依据。实践已经证明，这是一项行之有效的软件可重用开发技术。
　　传统建模技术的主要不足就是描述视图的单一性以及在系统分析、设计和实施阶段存在模型的转换，导致信息的丢失，从而不能全面描述问题领域的各种现象。这种设计的菜单系统使得整个系统菜单驱动只用一个模块并且可用于其它系统的应用程序集成［3］。Haddadi分析了联合承诺，用以描述合作推理和协商［7］。Dunin-Keplicz和Verbrugge也就多Agent的承诺问题作了探讨，分析了3种社会承诺机制［8］.Castelfrachi则从社会行为角度研究了社会承诺［9］. 
　　尽管在实用性和社会性方面有了这些进展，但在BDI模型中的一些原有的问题并没有得到解决。MZ+一级科目，如MZ50301.DBF为对象标识），具有相同二级科目数的一级科目的帐簿设计为一对象类型，其属性为A1，A2，....，An；其方法为凭证记帐、显示帐簿、打印帐簿等。逻辑全知不仅对有限资源的Agent是不现实的，而且由此得到的性质，不能反映愿望和意图的直观含义。例如，无为而治问题。其优点不仅在于能够分别从系统的结构、行为和功能特性来描述和分析系统，更重要的是它将传统的性能模型与分析设计模型的集成。
　　其次，信念、愿望和意图的区分。
　　关键词　 面向对象,属性,方法,软件重用,数据驱动
OBJECT―ORIENTED TECHNIQUE AND 
SOFTWARE REUSE BASED ON DATA DRIVING
Wang Zhongqun
Department of Computer Science, Anhui Institute of 
Mechanical and Electrical Engineering, Anhui.Wuhu 241000
　　Abstract　 In this paper software reuse technique is presented in information system development,that is data driving mechanics. Finally the efficiency is proved through a case.
　　Keywords　 Object―oriented, Property, Method, Software reuse, Data driving
1　软件重用
　　随着计算机技术应用的发展，一方面软件需求日益增加，另一方面应用软件开发效率低下，难以满足实际工作的需要。
　　第3，未能表达出BDI之间的动态约束与激发关系，特别是愿望在Agent动态执行过程中的约束与激发作用。因此，无法建立Agent的动态BDI模型。
针对这些不足，本文首先引入假设信念、表达愿望和意图在思维状态认知方面的含义，进而重新定义愿望和意图，建立反映BDI三者间约束与激发关系的理性Agent的动态BDI模型。
2 BDI的逻辑描述
　　使用基于计算树逻辑的语言L来描述。L包括：原子命题公式和算子；时态算子U（直到），G（总是）和F（终将），路径算子A（全路径），AS（全假设路径），E（存在路径）和ES（存在假设路径）以及BEL,ASM,DES,GOAL和INT等描述思维状态的算子.其中，φ1∪φ2表示存在未来的某一时刻，φ2成立并且在此之前φ1总是成立，设Φ为原子命题集，FORM(L)为全体公式集，(Φ)为Φ的幂集，(FORM(L))为FORM(L)的幂集.
　　定义1. Agent模型是元组
　　其中W是可能世界的集合，包括可能的现实世界和可能的假想世界。T是时间点集合，是时间点间的二元关系，〈T,〉构成时间树。ACT是原子动作集，动作函数act:弧ACT，为时间树的每条边标记一个原子动作。真值分配函数π:W×T→(Φ)，返回某一可能世界中在某一时间点成立的原子命题的集合.确信、假设、愿望和意图函数bel,asm,des,int:W×T→(FORM(L))，分别返回某一可能世界中在某一时间点具有的确信信念、假设信念、愿望和意图的集合。
　　在此模型下，对原子命题对于算子的定义与常规定义相同，不再赘述。具有反向线性，这样，对每个时间点来说都具有线性历史和分支未来。下面给出凭证记帐算法。
2.1 信 念
　　信念是Agent具有的关于环境信息、其他Agent信息和自身信息的集合。这些信息可以确切地知道，也可以假设知道，分别称为确信信念和假设信念。由于采用信念集进行语义解释，我们可以放弃Agent的全知假设。
　　定义2. 确信信念算子BEL和假设信念算子ASM。

　　确信信念相当于已有工作中定义的信念，而假设信念是对确信信念的扩充。假设信念描述假想世界，而确信信念不仅包括对现实世界的描述，还包括对假想世界的描述。


图1
　　在图1中，我们把P、P1、Pn定义为状态属性值集合；M、M1、Mn定义为行为方法集合；PM、PM1、PMn定义为状态属性变量集合；DD为数据驱动控制模块，一方面负责依据对象标识来识别对象并且从相应的状态属性值集合中取值赋予状态属性变量集合中相应的变量（即动态对象实例化）以及行为方法的调用，另一方面负责对象实例间信息的传递。MZ+一级科目，如MZ50301.DBF为对象标识），具有相同二级科目数的一级科目的帐簿设计为一对象类型，其属性为A1，A2，....，An；其方法为凭证记帐、显示帐簿、打印帐簿等。
　　性能特性　信息系统模型的建立过程就是将用户的需求或目标按照特定的语法结构转换成规范的反映系统各种特性的模型的过程，因此模型的“优”与“劣”，其衡量标准就是看其是否全面、准确地反映了用户的信息需求和建设目标。
　　研究运用统一的概念和语言对系统的结构、行为、功能和性能特性进全面描述的集成模型，对于解决目前模型的不足有一定的意义和参考价值。在假设路径明确以AS和ES描述的前提下，两种信念满足以下约束：
　　约束1. φ，如果φ∈asm(w,t),则
可得确信与假设信念约束公理1：
　　约束2. φ，如果φ∈asm(w,t),则
可得确信与假设信念约束公理2：
　　定理1. 

　　命题可能成立.例如，对φ=Fψ,Agent确信在现实世界里存在一条路径使在未来一直保持成立，但可以排除演化到该路径的可能性，从而在假想世界里可以有AFψ成立。对应地，命题可能成立。
　　面向数据的模型：该模型主要描述系统内部各种信息流的数据结构及其属性。
　　对确信信念算子BEL，仍采用KD45公理，对假设信念算子ASM，则需要相应变化。
对以下涉及假设信念的公理，要求公式中φ和ψ必须明确用ES和AS约束假设路径。
　　
　　4：对
　　5：对
2.2 愿望
　　定义5. 愿望算子DES.
　　愿望是Agent希望达到的状态或者希望保持的状态，分别称做实现型愿望和维护型愿望。直观上，在谈论愿望时，就隐含地对未来路径作了限制，将未来路径划分为满足所有愿望的路径和不能满足所有愿望的路径。
　　这种集成的观点对于人们进行分析设计是极为有利的。为此，愿望的表示应形如DES(Aφ)，φ为路径公式。
　　DES(AFφ)是纯实现型愿望。运算集指可作用于所有对象集的运算的集合。下面我们详细叙述多栏式明细帐记帐模块的设计和实现。
作者单位：王忠群　安徽机电学院计算机系　安徽.芜湖（241000）
参考文献
　［1］　 Bruce Barnes,Terry Bollinger. Making Reuse Cost-Effective. IEEE Software,1991;(1):13-24
　［2］　 袁晓东，陈家骏，郑国梁．面向对象方法中的类型概念．计算机研究与发展，1997；34(10)
　［3］　王忠群．管理信息系统的集成技术研究．计算机应用，1998；18(6)
　［4］　 蔡希尧．面向对象技术述评．计算机应用，1996；16(4)
　［5］　康　丽，徐洁磐．面向对象的信息系统分析之我见．微型计算机，1996；16(3) 
　　收稿日期:1999-02-08(修改稿)
。这种集成模型不仅可以代表目前常用的几种建模观点，而且可以从不同的视图反映问题领域的现象，并将大大简化建模的工作环节，使系统分析设计人员可以完整地理解问题领域。即使对目标能有不同的解释，对意图则更需要以INT(Aψ)表示，由目标意图一致公理：INT(φ)GOAL(φ)，还是使GOAL(Aψ)无法回避。解决以上问题的关键在于，用假设信念，而不是确信信念，来解释愿望在思维状态认知方面的含义，即愿望可达的世界只是假想世界。
　　行为特性　模型的行为特性能够使建模者了解系统的功能是如何实现的。
　可得愿望与假设信念一致公理：
　　定理2.

　　以纯实现型愿望DES(AFφ)为例，定理说明，Agent不会愿望实现一个确信一定能达到的状态φ，也不会愿望实现一个确信一定不能达到的状态φ。
　　约束4. A(φ1∪φ2)，如果A(φ1∪φ2)∈des(w,t)，则φ1∈bel(w,t)且如果AGφ∈des(w,t)，则φ∈bel(w,t)。该模型的最大好处是可以用来对系统进行仿真。主要研究方向：数据库系统、MIS以及面向对象技术。由前面对假设信念的有关约束可知，放弃假设信念ASM(AFφ)的主要理由是确信愿望必将成立，即BEL(AFφ)，或者确信愿望一定不成立，即
愿望之间的关系结合意图给出，经典的KD公理不再采用。可以得出的结论是，本文的模型避免了关于愿望的无为而治和副作用问题。Agent不会将确信的状态作为愿望，也不会自然地把愿望的逻辑推论作为自己的愿望。
　　在已有工作中使用的目标算子GOAL，可依据DES和BEL定义为Agent确信可能满足的愿望。相对于信念、愿望和意图，目标只是中间概念。
作者单位：王忠群　安徽机电学院计算机系　安徽.芜湖（241000）
参考文献
　［1］　 Bruce Barnes,Terry Bollinger. Making Reuse Cost-Effective. IEEE Software,1991;(1):13-24
　［2］　 袁晓东，陈家骏，郑国梁．面向对象方法中的类型概念．计算机研究与发展，1997；34(10)
　［3］　王忠群．管理信息系统的集成技术研究．计算机应用，1998；18(6)
　［4］　 蔡希尧．面向对象技术述评．计算机应用，1996；16(4)
　［5］　康　丽，徐洁磐．面向对象的信息系统分析之我见．微型计算机，1996；16(3) 
　　收稿日期:1999-02-08(修改稿)
。
　　定义7. 确信信念与愿望联合可达关系bd。参照确信信念与假设信念联合可达关系ba的定义，将函数asm替换为des，即可得到bd的定义。功能模型是通过系统的功能及功能之间的联系来代表和反映系统的，建立系统的功能模型的一个最大优点是能够对系统的某个特定部分或细节进行详细分析，从而减少了模型分析的复杂性。意图可达世界中的每条路径都应满足所有意图，由此，意图应该形如INT(Aφ)，φ为路径公式。
　　为此，需要构造一个能够集成功能、行为、结构和性能特性的集成建模（如图2所示），有效的支持信息系统的开发。
　　约束5. φ，如果φ∈int(w,t),则φ∈des(w,t)。
　　可得意图与愿望一致公理：
　　定理5. 
　　定义8. 确信信念与意图联合可达关系Jbi。这就要求反应系统的模型全面而准确。这样对于所有属于多栏式明细帐的记帐凭证的记帐都可以通过对其科目编码的变换给电子帐簿对象的标识和属性赋值而重用多栏式明细帐记帐模块。
　　定义9. 子世界.w∈W,w中所有路径的集合Pw与w一一对应，Pw={p|p为w中的路径}。称w′为w的子世界，记做w′=subworld(w),当且仅当
　　这里，可不考虑子世界w′是否属于W。
　　约束6. w1,w2,w3∈W,t∈T,(w1,t,w2,w3)∈bi，存在w2′=subworld(w2)，满足所有意图，即笑铡int(w1,t),有
　　定义10. 意图全路径算子AI和意图存在路径算子EI。基于约束6，设w*2为w2中满足所有意图的w2′中的最大子世界，即则
　　意图与确信信念一致公理：
　　AI和EI是对偶算子，即与AS,ES无推导关系。
　　定理6.
　　实现型意图持续公理：
　　维护型意图持续公理：
