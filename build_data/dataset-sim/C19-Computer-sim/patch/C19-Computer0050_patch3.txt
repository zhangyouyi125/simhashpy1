计算机工程
COMPUTER ENGINEERING
1999年  第25卷 第7期 Vol.25 No.5 1999



基于二维模型的瞄准点跟踪定位
李晓昆
摘要 为解决目标跟踪中的瞄准点准确定位的问题，提出了一种基于二维模型的瞄准点跟踪定位算法。2%和70。
关键词 计算机视觉 图像识别 目标跟踪 二维模型 线性组合
Tracing the Position of Aim Point Based on 2D Modes
Li Xiaokun
Department of computer Science，Shanxi Institute of Finance and Economics Xi’an 710061
Abstract：To solve the problem of the postion of aim point in object tracing，a new algorithm based on 2D models is given in this paper.No metter how the traced object moves,rotates or changes is scaie,and no matter whether the aim point is a surface point or an inside poing of the traced object,the algoritm can corretly and precisely calculate the position of the aim point.
Key words：Computer vision;Image recognition;Object tracing;2D model;Linear combination
　　目标跟踪就是在序列图象中不断地对目标进行匹配识别。到目前为止，仍然没有一种最佳的匹配算法。一般在跟踪目标时，尤其是在有军事目的的跟踪时，不光是跟踪目标物，而是锁定目标物中的某一点，此瞄准点往往是打击的要点或最关心的部位。目标是三维运动物体，其所摄的二维外形随着其运动的方向变化而不同，目标上的瞄准点在其所摄外形中的位置也随外形的变化而漂移；有时随着目标方向角度的变化，在所摄图象里瞄准点被遮蔽成目标的内点；有时由于背景或其他因素造成瞄准点被外界遮挡，因此即使跟踪到了目标，准确地跟踪瞄准点的位置也是非常困难的。本文提出了一种基于二维模型的瞄准点跟踪定位算法，只要跟踪到了目标，通过本文所提出的算法就能准确计算出其瞄准点的位置，而不用关心瞄准点是否漂移或被遮挡。
1　算法原理
　　一个三维物体能用几个该物体的二维正投影图象的线性组合来表达，其线性组合方式被称为线性组合表示法，在序列图象的目标跟踪中，通过已知目标模型的特征点，并在所摄图象中找到与之相对应的点，由此可求出线性组合系数，此时目标中的任何其它一点都能通过此线性组合系数来准确地定位，即使瞄准点因目标的角度变化而被隐藏，或瞄准点本来就是目标的内部点，利用此方法都能准确地确定其位置。
2　基本理论
　　本文算法建立在刚体运动、刚体变换及有关定理的基础之上。
　　・刚体运动：若一个物体在空间运动中其形状和大小不变，即物体中的任何两点的距离保持不变，则此物体被称为刚体，它的运动被称为刚体运动。
・刚体变换公式：假如已确定了一个直角坐标系Q中，坐标系中的任意一点P的初始位置是(x,y,z)，在刚体运动T下P的终止坐标是(x'，y'，z')。则(x,y,z)与(x'，y'，z')所存在的关系就是刚体运动变换公式，如公式(1)所示。
　　共享并行处理器交换式体系结构。公式(1)是刚体运动T的变换公式，T是行列式等于1的正交变换。文献［12］指出,在实际使用中,只要交叉开关的速度是端口速度的两倍,就可以基本保证不出现输出阻塞。直角坐标和直角坐标系下的运动之所以可以用同种代数形式(正交变换)描述，还可以从另一个角度说明：运动总是相对的，在固定于坐标系的观察者看来，空间一切点都在作刚体运动，而在运动中的观察者看来，则坐标系在作刚体运动。
Table 5　Distribution of maximal noun phrase identifying errors (total 339) with different error types
表5　具有不同错误类型的MNP识别错误分布（总数339）

Error types①ⅠⅡⅢⅣⅤ
Distribution frequency②25314515484

①错误类型,②分布频度,③分布率。
　　定理2 若a、b、c为空间3个不共面的矢量，则空间任意一个矢量r可以用a、b、c的线性组合来表示。
　　有关证明参见文献[1]。当虚拟输出队列中有多个分组时,得不到交换机会的队列头部分组就处于输入阻塞状态。实验结果显示,后者的识别正确率和召回率分别达到了85。
2.2　最长名词短语识别实验
　　对于MNP自动识别器的处理性能,我们主要考察了以下两个指标：
　　(1) MNP正确率(precision of the maximal noun phrase,简称MNPP)=正确识别的MNP总数(Cort－MNP)/自动识别出的MNP总数(EMNP);
　　(2) MNP召回率(recall of the maximal noun phrase,简称MNPR)=正确识别的MNP总数(Cort－MNP)/树库中的MNP总数(CMNP)。
3.1　目标在三维空间的线性变换
　　P1，P2，P3是对三维目标O在3个特定方向所进行变换矩阵分别为3×3的R、S、T线性变换后所得到的3幅二维图象。设r1、r2为R的第一和第二行向量，即P1=(x1,y1)=(r1O,r2O)，s1、s2为S的第一和第二行向量，即P2=(x2,y2)=(s1O,s2O)，t1、t2为T的第一和第二行向量即P3=(x3,y3)=(t1O,t2O)。设是对同一目标O作用一个随意的3×3矩阵U后得到的第四幅二维图象，u1、u2为U的第一和第二行向量=(u1O,u2O)
　　定理3 如果集合{r1,s1,t1}和{r2,s2,t2}是线性无关的，那么存在着系数{a1,a2,a3}和 {b1,b2,b3}并有：

(2)
　　可以看出，目标经过一个任意三维空间的线性变化所得到的图象可由3个模型图象的线性组合来表示。因此,研究人员又重新把注意力集中到了输入排队的调度算法上。在刚性变换中，只要知道3幅图象中的4组对应点即可确定线性组合的系数。通过解一个线性方程组，即可求出旋转矩阵。通常选取目标的特征点时，特征点个数一般大于4。为了解决第2代路由器中的系统总线瓶颈问题,人们提出了多处理器交换式体系结构（如图1(c)所示）。变化过程如3.1节中所示，只是第四幅图象增加了因子为w的尺度变换，并且平移一个向量(gx,gy)，即
　　定理4 如果{r1,s1,t1}和{r2,s2,t2}是线性无关的，则存在系数{a1,a2,a3,a4}和{b1,b2,b3,b4}并有：

(3)
　　(a4,b4)是目标在空间的平移分量。在选取目标的模型图象时，尽可能从目标的各个视角方向来选取。
　　当目标具有光滑边缘时，目标在三维空间旋转时会产生计算上的误差。
　　正是认识到了这一点,近几年来,许多研究人员在MNP的自动识别方面进行了许多有益的探索,提出了一些行之有效的识别方法。目标用6幅图象的线性组合形式来表示。
　　背景知识：句法结构归约规则：{结构组合→{句法标记}}
　　基本操作：
　　　　① 组合基本成分(bc)
　　　　若词语块序列wsi,...,wsj满足以下条件,则它们可形成一个基本成分：
　　　　　　(a) bpi=1,bpj=2
　　　　　　(b) wsk,k∈(i,j),有bpk=0
　　　　② 发现可能的MNP右边界成分
　　　　按照MNP的结构分布规律,具有以下特征的成分可能成为MNP的右边界：
　　　　　　(a) 词语块wsi=〈“的”,uJDE,2〉
　　　　　　(b) 词语块wsi=〈*,n,2〉
　　　　　　(c) 被归约为np的基本成分
　　　　　　(d) 其他可能成为MNP中心成分的词语块或基本成分
　　　③ 向左扩展组合MNP
　　　　从可能的MNP右边界成分出发,不断与其左相邻成分组合形成新的MNP,直至不能组合为止。
4　线性组合系数
　　目标在空间变化的可能图象可由几幅模型图象的线性组合形式来表示。在此基础上实现了以下的MNP组合算法,即顺序处理所有可能的MNP边界；若是左边界,则压入NP栈中,否则,检查它是否能与栈顶元素组合,若是,则弹出栈顶元素，并组合形成一个可能的MNP,此过程不断进行,直至不能组合为止；将形成的MNP压入NP栈中,继续处理下一个MNP边界直至句子结束。而交叉开关能够达到比较高的速率,扩展性好,但是需要设计完善的调度算法并用高速硬件实现调度器。由公式(3)可知为解此方程组一般目标用4个特征点即可。对于光滑轮廓目标则需要6个特征点。
　　组合系数的求解过程：对一般目标来说用3个模型图象就能组合出其在空间中的变化图象。在跟踪之前一般已确定了模型图象并确定了4个特征点在模型图象中的坐标位置，共12个坐标值。在跟踪中，摄入一幅图象，用识别算法确定特征点在P中的位置，特征点一般都选择在摄入图象中容易识别的点。设X为特征点在模型图象上的X坐标矩阵，设Y为特征点在模型图象上的Y坐标矩阵，xij代表第j个模型图象上第i个特征点的X坐标，px是特征点在P图象中的X坐标向量，a=[a1,a2,a3,a4]T是组合系数的第一维系数值。根据公式(3)有线性方程组：
Xa=px
(4)

如存在一个确定的解，组合系数为：
a=X-1px
(5)
同理有：
Yb=py
(6)
b=Y-1py
(7)
　　b是组合系数的第二维系数值，py是特征点在P图象中的Y坐标向量。
　　为了减少噪声的干扰，要挑选适当的模型图象使计算具有较好的稳定性并且在模型图象中挑选多于4个特征点解超定方程组，则有：
a=X+px
(8)
X+称为X的伪逆，如X是列满秩的，则有
X+=(XTX)-1XT
(9)
a=(XTX)-1XTpx
(10)
同理可以求出　b=(YTY)-1YTpy
(11)
一旦求出a、b系数矩阵，则模型图象中任意一点在P图象中的相对应位置都可以通过代入公式(3)求得，将模型中瞄准点的位置代入方程即可得到瞄准点在P图象中的准确位置，从而完成瞄准点在跟踪图象中的准确定位。
　　表3列出了目前的实验结果,其中简单MNP的词长<5,复杂MNP的词长≥5。从研究趋势来看,IP路由技术的发展已经和交换技术以及宽带技术的发展有机地结合在一起。

图1 例子
表1 特征点(1-3)及瞄准点(6号)的坐标
序号(a)(b)(c)(d)
xyxyxyxy
10.000.000.000.000.501.201.90-3.72
210.201.102.10-8.703.10-6.9011.41-4.35
314.10*7.1013.00-7.9011.0-6.1014.03-0.73
63.101.203.20-0.603.00-1.104.371.12

　　通过已知的1至3号特征点的坐标，便可以求出线性组合系数为：
a={0.52 -2.70 3.80 0.00}
b={-0.46 2.90 -3.10 0.00}
　　将该系数和模型中的6号点在模型图象中的坐标((3.10,1.20),(3.20,-0.60),(3.00,-1.10))代入公式(3)，求得跟踪图象中6号点坐标为：
(Px，Py) ={4.37, 1.12}
　　为了有效地克服噪声，实际算法中采用解超定方程组来求组合系数，即用1-5号点的坐标来求解方程组。算法的实际处理过程是当一幅图象摄入时，首先提取其中目标的边缘，确定模型中的特征点在此目标中的位置，从而计算出组合系数，再通过系数矩阵和模型中的瞄准点的位置之积算出瞄准点在摄入图象中的准确位置。
1.2　MNP自动识别器
　　MNP自动识别器的处理目标是在成分边界预测信息的基础上,准确地确定句子中所有MNP的左右边界。Internet对资源预留的支持很弱,无论是局域网路由器、广域网路由器还是宽带IP路由器采用的都是尽力传送机制,不支持优先级。如果两个输入端口的分组都要去同一个输出端口,就会发生输出阻塞