计算机应用
Computer Applications
1999年 第19卷 第7期  Vol.19 No.7 1999



开放网络环境中Agent的管理概念模型
孙玉冰
　　摘　要　本文重点讲述了一种在开放式网络环境中对ISA进行管理的模型（简称为ISAMM）,包括它的四个主要性质、信息流程及其优点。最后，对ISAMM和目前网络中关于ISA的管理方法作了比较，并指出了值得深入研究的相关方向。主要研究方向：软件技术、系统集成、CIMS。如何帮助人们快速有效地检索资源、按照常识和理性处理事务、自动协助人们探索资源的合理配置等一系列问题也随之产生。为了解决上述问题，人们综合运用计算机技术和AI技术，实现了许多Web Agent。这些ISA一般运行于网络环境中，帮助人们寻找资源，建立网络索引或完成其它有用的工作。本文重点论述使用范围较广的一种Web Agent，即Web Spider［1］。为便于介绍，以下将它称为Agent。ADO中可以使用三个对象执行SQL语句或存储过程， 它们是Connection对象、Command对象和Recordset对象。一般而言，Agent设计者需要注意两个问题，即ROBOTS协定和访问频次协定［2］［3］。
　　在开放式网络环境下实现对Agent的有效管理是一个重要而复杂的问题。在用户定义一个工作流时，系统先为其生成一个工作流代号作为唯一标志，然后由用户根据工作流所需控制参数选择或定义联系类，并由系统按联系类所用参数为这个工作流创建一个联系对象参数表。本文论述了一种新的ISA的管理方案，称为“ISAMM”(Internet Software Agent Management Model)。　　
1　ISAMM
　　David Eichmann在“Ethical Web Agent”文中定义了Ethical Agent并指出了Web Service Agent和Web User Agent所应该具有的性质［9］［10］。Etzioni在“A Softbot-based Interface to the Internet”中列出了Web Agent (Softbot)安全体系的主要特征：Safe, Tidy, Thrifty和Vigilant［4］。模块中可能包含许多用脚本语言书写的过程，共同实现其特定功能。这些管理方法主要包括两个协定［2］［3］。
　　联系对象参数表（简称参数表）是工作流的活动中枢，对其中任何参数的改动都将改变该工作流的执行情况。一般的联盟成员则负责将生产信息输入约定格式的数据库中，由主系统通过Internet调用本从属系统中成员对象的方法实现信息传递、生产调度、紧急通知等任务。在用户定义一个工作流时，系统先为其生成一个工作流代号作为唯一标志，然后由用户根据工作流所需控制参数选择或定义联系类，并由系统按联系类所用参数为这个工作流创建一个联系对象参数表。
作者单位：同济大学经济与管理学院　上海（200092）
参考文献
［1］　徐晓飞，等. 动态联盟企业组织方法体系. 计算机集成制造系统，1999，2
［2］　石　伟，等. 分布对象环境下工作流执行系统设计. 计算机集成制造系统,1998，12
［3］　史美林，等. wfms：工作流管理系统. 计算机学报，1999，3
［4］　叶　丹，等. 动态联盟企业的模型化及其工具系统. 计算机集成制造系统，1999，2
［5］　WfMC.The workflow reference model,1994
［6］　吴　刚，等. ActiveX与CORBA/IIOP的比较. 计算机工程与应用，1999；35(11)
收稿日期:1999-06-06(修改稿)
。
　　（2） User-Agent:*　Disable: /private
　　　　　禁止所有的Agent访问本站点上/private目录下的资源。
　　（3） User-Agent: Spider　Disable: /
　　　　　禁止Spider Agent访问本站点。
　　对于Web Server而言，创建ROBOTS.TXT文件来限定Agent的访问活动只是其意愿。如果要实现这一点，首要条件是要求访问该站点的ISA为Benevolent Agent。
　　成员类所封装的数据和方法除了联盟成员的基本信息和基本职能执行过程，还包括接受联系类对象调用的通用接口函数及它们的参数说明，这些接口函数根据参数不同决定调用哪些任务处理方法。每个任务处理方法都有唯一的任务代号，这个任务代号和其对应的工作流代号、执行成员名、任务类型存在任务列表中。当ISA运行时，不但要占用运行它的机器的内存和处理器资源，而且ISA使用网络来检索文档，所以它要占用网络连接的带宽，同时还要使用服务器的处理器、内存和网络资源。因此，快速的ISA应用程序很可能损坏服务器，因为它可能使得服务器的负荷、内存和资源达到饱和。
　　第一步：采用ADO通过ODBC与数据库服务器dbsrv建立连接。其中连接参数可采用DSN、ODBC标志和OLE DB，下面使用的是DSN。程序执行结果如图4所示。
　　目前，网络中关于Agent的管理协定并不能真正有效地防止Malevolent Agent的恶意攻击。 Malevolent Agent 可能访问Web Server禁止其访问的资源；也可能因为过频地请求服务器资源而造成服务器性能的急剧降低，甚至失去处理其它请求的能力。Hyacinth S. Nwana也曾经指出关于Mobile Agent的几个主要面临的问题和需要深入研究的方向［1］。因此迫切需要一种新的ISA的管理方案，以实现对于开放式网络环境中ISA的更为安全、有效、高效的管理，本文将这种新的方案缩写成“ISAMM”。图1给出了ISAMM的示意图。如此反复，客户端就能动态的获取数据库中的信息。下面分别对上述特征作以论述：
　　兼容性　目前，网络上已经存在各种纷繁复杂的信息资源，这些资源各有其特殊的存放格式和传输格式，而且为了便于网络通讯和保证接口的一致性，人们已经制定和实施了多种协议，如HTTP、FTP、TCP/IP等。 ISAMM 的实施，应该尽可能在保持与上述内容一致的基础上，达到在开放式网络环境中对 ISA实施安全、有效、合理管理的目的，甚至ISAMM可以制定自己的规范和协议，但必须保证与其他协议无矛盾和无冲突。
　　自主性　在ISAMM中，应该允许Web Server以人工或者自动的方式享有自主权，应该保证Web Server或者Web Server管理员能够对向它提出请求的所有ISA进行授权和根据不同ISA的MBR、VCA以及其他参数来对ISA的访问资源限制进行维护。
　　真实性　在ISAMM中，每一个在网络环境中运行的ISA应该是真实的，这里的“真实”的含义是：每一个ISA应该是经过注册和认证的Benevolent Agent。鉴于这一点，需要在 ISAMM中建立一个或多个ISA-CA（ISA Authentication Center）以对不同的ISA进行区分和认证。
　　安全性　因为目前在开放式网络环境中ISA管理方法并不能有效地防止Malevolent Agent对Web Server的攻击式访问和访问Web Server禁止其访问的资源，因此实施ISAMM的一个重要目的是增强ROBOTS协定和访问频次协定，保护Web Server的信息资源，增加资源的共享性。
4.2　过程执行说明
　　工作流引擎用来依据预定条件自动判断或人工启动某一工作流，创建该工作流实例；工作流日志记录负责记录每个工作流的执行过程及返回的状态参数，存入工作流日志；自动例外处理则提供一些标准程序对工作流程中的例外自动进行处理。另外， ISAMM 能够跟踪所有ISA尝试进行恶意行为的活动，以便分析判别之用。
　　其它性质　ISAMM在保证上述四条性质的同时，根据实施的不同环境还可以具有其他一些性质。比如：可以对所有注册的ISA进行某种条件下的排序，可以跟踪某种特定ISA的所有网上活动等。

2　ISAMM系统 (ISAMS)
　　ISAMS从系统组成上可以分为三层：第一层为ISA-CA，也即所有系统中的Agent 和Web Server的授权中心及认证中心；第二层为Agent集合和ISA集合，它们是ISAMM的管理对象；第三层为开放式网络环境中独立存在的Agent和Web Server，如图2所示。
作者简介：王凯　硕士研究生。图3给出了ISAMM信息流程示意图。加强企业内部信息的集成与共享，通过Intranet及时获取企业内部的综合信息，对于改善和优化企业管理、增强企业整体效益将提供有力的支持。
　　整个信息流程可分为以下几部分：Agent的注册及AIN的分发，HTTP请求-响应信息流程，以及Server（Bob）请求ISA-CA对Agent（Alice）进行认证。
3　系统设计方案
　　本系统的设计目标是在Intranet基础之上，以浏览器/服务器体系结构作为基本架构，通过ASP方式实现交互式、动态的Web综合查询系统。如何快速响应市场，抓住经营机遇，在竞争中谋求发展，已成为企业共同追求的目标。联系类对象在工作流执行时生成，其具体工作流控制信息存放在可修改的联系对象参数表中。其中，成员的任务是指工作流中各成员对被传递信息的处理（或在规定时间内对预定事务的执行），成员间的联系是指信息（或指令）从发出成员到接收成员的传递，当信息在多个成员间传递时就构成了一组联系，这时工作流就可以表示为各成员按一定协作规则对信息的处理和传递。下面参照图4，以Alice 使用HTTP协议请求服务器Bob发送文档sample.doc为例说明ISAMS中一个HTTP请求-响应的流程［7］。　　


图4　HTTP请求-响应处理流程
　　（1） Alice与服务器Bob建立连接。
　　（2） Alice发送HTTP请求给Bob，请求中除了HTTP协议所规定的信息之外，还包含AIN。为此，我们设计和开发了一个基于浏览器/服务器方式的Web数据库综合查询系统。
　　（4） Bob将请求结果发送给Alice，记录日志并断开与Alice的连接。
　　在上述流程中，ISAMM主要作用在第( 3 )步。其中，从数据库流向Web服务器的数据，包括在ASP脚本中执行的完成特定查询功能的SQL语句的信息，和作为SQL语句查询对象的企业的综合信息。数据库系统无特殊要求，只须支持ODBC即可，并且数据库系统可安装于Web服务器上，也可安装于另外服务器上，成为数据库服务器。如果Alice所请求的资源sample.doc为Bob限制Alice访问的资源，则Bob向Alice发送警告信息，并更新Alice的有关参数。
2.3　Server请求ISA-CA对Agent进行认证
　　服务器Bob发送验证Agent标示码的请求给ISA-CA，同时发送Alice的AIN及相关信息，ISA-CA接收到请求后，检索本地Agent Database，如果存在Alice有关的信息，则说明Alice已经注册成功，此时ISA-CA发送确认消息给Bob，消息中包含Alice有关的信息，此时Bob就可以处理Alice的请求了。如果Alice没有经过注册，则ISA-CA发送拒绝消息给Bob，Bob接受到该消息之后，则可以发送“请注册到ISA-CA”等内容给Alice［9］。　　


图5　服务器请求ISA-CA对AIN进行验证

3　ISAMM优点及可能扩展
　　综上所述，ISAMM与现有的ISA管理方法相比具有以下优点：
　　ISAMM使得Web Server或Web Server管理员可以对不同的Agent进行授权，包括访问权限限制和访问资源限制，从而防止Agent的恶意攻击和限制不同的Agent访问不同的资源；
　　在 ISAMM中，Web Server或Web Server 管理员可以正确决策提出请求的Agent的MBR，从而有所区别地对不同的Agent（Benevolent / Malevolent Agent）进行不同的响应；
　　ISAMM在一定程度上加强了ROBOTS协定和访问频次协定，杜绝了上述两协定所存在的问题，使得Web Server可以直接对Agent的访问权限和访问行为进行控制；
　　保证ISA私有数据的透明性。由于ISA-CA的存在，使得ISA拥有了不同的但也是唯一的AIN。主要研究方向：软件技术、系统集成、CIMS。同时 ISA-CA可以通过对注册的Agent进行数据分析而得出有意义的结果。　　
4　相关的问题
　　网络环境的开放性、复杂性和Agent程序设计的灵活性、功能的多样性，使得在开放网络环境中实施对Agent的管理显得极为困难。目前的管理方法并不能防止Malevolent Agent破坏行为的出现，同时使得Web Server的资源丧失了部分共享性，因此迫切需要一种更为主动、有效、合理的管理方案以达到既定目的。ISAMM可以有效地防止Agent对Web Server的攻击和访问未经授权访问的资源，又可以保证HTTP请求-响应的顺利进行，同时Web Server和ISA-CA还可以联合规范Agent的行为。因此ISAMM的实施，可以保证在网络环境中有效管理Agent，保证网络向着健康、有序的方向发展。
　　任务处理方法库（简称方法库）是成员对象根据联系对象的“指示”调用的不同方法集成在一起形成的，这些方法按对信息的处理方式及传递的参数不同分成多种任务类型。它的表结构由该工作流的联系类参数决定，表中的参数由系统根据用户在过程定义工具的引导下输入的数据决定。主要研究方向：人工智能和软件Agent。

图2　系统内部结构图
4　系统实现
　　系统实现主要分为两部分：SQL生成和Web查询