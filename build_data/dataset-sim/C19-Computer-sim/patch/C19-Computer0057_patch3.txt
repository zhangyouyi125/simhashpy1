计算机工程
COMPUTER ENGINEERING
1999年  第25卷 第7期 Vol.25 No.5 1999



关于建立WWW电子地图库的探讨
李乔 罗敏
摘要 随着Internet技术的发展和社会对地理空间信息需求的增加，建立WWW电子地图库已经成为必然。讲座了有关建立WWW电子地图库存的技术支持和工作模式，并详细介绍了WWW电子地图库存的3种基本类型。


图2　制作选择题流程图

3．3　学习管理器
　　学习管理器的作用是从数据库控件管理的题库中取出题目供学生练习。在这本不丰富的中文信息中，绝大多数又是文字信息，而与国民经济和日常生活密切相关的地理空间信息在网上就更难寻觅了。
　　电子地图以地图学为基本原理，借助现代化技术和设备产生，是地理信息系统中必不可少的基础数据。可以分析出每一道选择题总是包括题目图片、选择项、答案。与传统地图相比，电子地图信息量大，可通过数据库进行管理，具备丰富的查询检索功能；灵活性强，数据更新方便；并可利用GIS进行统计分析。随着计算机网络技术的发展，电子地图可以方便地进行传输，用户利用万维网浏览和查询电子地图及其它地理信息，也是利用Internet进行电子出版的新趋势。目前电子地图作为一种信息商品，日益受到各界青睐。常见的电子地图产品有：卫星影象图--地球资源卫星获得的地表景观影象数据；电子地形图--通过分层技术将多种地理要素分成独立的信息层，每层具有同一属性的地理要素，如等高线、行政界线、道路、水系等；专题电子地图，如土壤类型图、人口专题图等。
　　GIS专业人员，他们能够熟练地使用GIS进行制图和数据分析，他们需要的电子地图是一些包含基础地理信息的普通地图，建立规范、统一的WWW电子地图库，可以利用Internet资源实现数据和信息的共享，充分使用现有基础电子地图数据，避免重复劳动与重复投资(重新制作电子地图需花费大量人力物力)。　　


图3　L8212模块驱动程序

1．2　数据采集
　　模块逻辑名　在TDAS的数据采集和分析软件系统中，所有模块是由VMS的逻辑名表示的。例如，历史学家需要研究区域的历史地图；社会学家和经济学家需要本地区的人口、就业、投资等专题地图；司机需要交通图；普通居民出门旅游需要旅游图等等。然而，这大量的用图需求却由于软硬件条件的限制常常得不到满足。
　　建立WWW电子地图库的另一重要功能就是信息发布，无论是公共图书馆，还是测绘、规划、环保和资源管理等政府部门都需要通过WWW广泛地传播政府信息。
3.2　软件生成器
　　软件生成器的作用是从数据库控件管理的题库中添加或删除题目。
　　交换式以太网数据采集系统（TDAS）［6］即是为克服这些困难而研制的。
2　建立WWW电子地图库的相关技术支持
　　WWW电子地图库的技术基础是万维网GIS。万维网GIS是GIS与万维网的有机结合，GIS通过万维网使功能得到扩展，并真正成为一种大众使用的工具。从万维网的任意一个节点，人们都可以浏览网上的各种地理空间数据及属性数据、图象、文件，以及进行地理空间分析；地理数据的概念已扩展为分布式的、超媒体特性的、相互关联的数据。开发基于万维网的开放式GIS，所需的技术支持主要包括Internet技术、数据库管理技术(DBNS)、面向对象方法、客户机/服务器模式(Client/Server)、插件技术和嵌入技术、分布计算平台、多媒体数据(包括空间数据)操作标准和地理数据目录服务技术。
　　如图1所示，WWW电子地图库的构成主要有4大部分：

图1 WWW电子地图的构成模型
　　(1)用户界面
　　同其它类型的Web站点一样，WWW电子地图库也有一个可视化的界面，能为用户提供一种交互性的查询方式。所以题目在数据库中包含以下信息：题号，题目类型，题目的难度级别、答案及三维模型动画演示。利用HTML格式的界面，用户可以选择自己熟悉的Web浏览器、菜单和工具箱浏览电子地图和查阅其它地理数据。 PCL（Plot Command Language）环境即是使用GP4为图解数据库中的数据提供的一个简单的显示工具。例如，用户在界面上单击鼠标，会很快发出一个HTTP请求，服务器在接受HTTP请求后进行答复。
　　以L8212 CAMAC模块为例，典型的驱动子程序结构如图3所示。这时，用户界面应该引导用户选择自己所需的电子地图，这就需要有良好的地理数据目录服务系统。
　　(2)目录管理
　　WWW电子地图库的目录管理系统使用户可以将他们的信息要求映射到电子地图库的大多数设备上，而一个传统的按作者、篇名、科目分类的图书馆目录系统则不能适应电子地图库的管理。所以题目在数据库中包含以下信息：题号，题目类型，题目的难度级别、答案及三维模型动画演示。所谓地名索引，是指地图上各种地物的地名特征及其空间位置的相互联系，也包括一些简单的描述，如城市、河流、山脉等。地名索引被保存在目录数据库中，其检索方式应该与图书馆的传统检索方式相一致。由于空间特征的模糊性(如上海是指上海市区还是整个上海市域)，即使用户不能准确地写出特征名称，地名索引也应该给出每一个特征的位置，甚至是包含它们的更大范围，而不仅是地图上的一点。
　　
4　结束语
　　制作具有一定的通用性CAI软件是目前国内外的发展趋势，因为通用CAI软件更灵活方便，根据教师的教学实际需要，不须编程，就可以添加新的内容。例如，存在两个同名的地物，但查询结果应该只是包含在地图浏览器窗口内的那一个地物。
　　我国现有的地理信息分类标准有：地理网格、国土基础信息数据分类与代码、林业资源数据分类与代码、矿产资源数据分类与代码；全国河流名称代码和城市地理信息系统标准化指南正在制定中。WWW电子地图库的目录应与国际标准ISO的TC211相衔接，并支持传统图书馆目录的标准网上协议，即Z39.50界面。
　　(3)数据存储
　　电子地图的存储方式有矢量格式和光栅格式两种，卫星影象图和扫描图象是光栅格式，数字化地图是矢量格式。我国的计算机辅助教学起步较晚，90年代以来，CAI在国内引起了各方面的重视和兴趣，包括教育界、学术界、出版界和一些相关的公司，CAI技术迅速发展起来：如金洪恩公司推出的《开天辟地》、《万事无忧》、《股神》，面向中、小学生的《树人系列教育软件》，还有各专业方向的CAI软件也如雨后春笋般的出现。但光栅图象需要占用较多的存储空间，且不便进行拓扑关系的分析，因而大部分的电子地图是以矢量格式存储的。
　　交换式以太网数据采集系统（TDAS）［6］即是为克服这些困难而研制的。对于专业GIS用户，则可直接下载矢量格式的电子地图，然后再利用GIS软件进行处理。
　　TDAS的数据采集和分析软件以模块数据系统MDS［7］为基础，结合交换式以太网数据采集系统的新特点进行了某些部分的重新设计和修改，主要集中在标准CAMAC模块的驱动程序、关于CAMAC模块操作的命令等。美国地球观测公司已于去年发射了第一颗民用地球资源卫星，其卫星影象图已经商品化，向社会公开出售。目前，国内许多地图出版社也开始出版光盘的电子地图，如深圳市电子地图集。数据库中的字段与实际相对应的是：
　　题号　――　题目图片的*.bmp图
　　答案　――　“A、B、C”字符
　　题型　――　选择题
　　3d 　――　动画文件*.avi
　　由于题目可以按照题目类型或难度级别进行排序，因而还必须为其建立索引。现主要从事CAD、CAI故障诊断方面的研究。各部门、各行业间应加强电子地图数据的交流，在各自的WWW电子地图库之间相互传递信息、及时更新数据。下面介绍其中主要的子系统。与数据库之类的事务处理相比，多用户环境中的地理分析是一个相当长的时间的事务，称为"巨事务"。所以题目在数据库中包含以下信息：题号，题目类型，题目的难度级别、答案及三维模型动画演示。从一个初始化过程开始，读scan表中的每个记录，以用户为表中的每个入口定义的“init”时序号为顺序。VMS所提供的逻辑名服务把一个名字与CAMAC模块的站号、机箱号联系起来。用户在网上浏览新生成的主页，并决定是否下载查询结果。当初始化过程完成后，执行存储过程，调用“store”子程序。若使用Push技术，服务器可在事务处理完成后，将结果自动传送给用户。
　　由于服务对象和功能的不同，WWW电子地图库可分为3种基本类型：
　　(1)简易型
　　这种WWW电子地图库针对大众用户设计，其地图数据库中只存储GIF格式的光栅图象，结构简单，不需要进行格式转换。用户通过Web浏览器直接阅读电子地图，并可进行平移、缩放、分层显示和信息查询，还可结合声音、图片、动画等制作多媒体信息系统。但由于磁盘容量的限制，电子地图数据库中不可能存储太多的光栅地图，这就限制了它的使用范围。因此，像旅游信息系统这类以信息发布为主的电子地图库可以采取这种形式，如旅游管理部门可以建立起一个城市或地区的旅游电子地图库，通过WWW向全球的游客发布最新的旅游地图，以吸引他们前来旅游。
　　如果是建立专门的遥感电子地图库，就只能采取这种形式。
　　TDAS的数据采集和分析软件以模块数据系统MDS［7］为基础，结合交换式以太网数据采集系统的新特点进行了某些部分的重新设计和修改，主要集中在标准CAMAC模块的驱动程序、关于CAMAC模块操作的命令等。
　　(2)制图型
　　无论多么庞大的电子地图数据库都不可能拥有用户所需的全部地图，因此，建立制图型的电子地图库可以满足多方面的需求，特别是那些专业人员制作专题地图的需要。
3.2　软件生成器
　　软件生成器的作用是从数据库控件管理的题库中添加或删除题目。
　　(3)插入型
　　常用的Web浏览只提供一些最基本的浏览和网络导航功能，缺乏显示、处理地理空间数据的能力。通过这个系统，学生可以根据难度级别选择练习题目，并能立即得到反馈，知道自己做得是否正确，对于理解能力弱的学生还可观看相应的三维模型动画，从而逐渐培养读图、识图的能力；教师可无须编程，利用本系统就能根据教学的需要增加或删除题目。中间数据文件是通过VB提供的数据库控件来管理的。由于需要为新的计算机系统重写CAMAC驱动程序，系统升级非常困难；分布式分量越多，合并实验数据到一个统一的数据记录文件就越困难。但它和传统的应用软件类似，也需要先安装、再使用，对交互网用户来讲，甚为不便。而且传统软件不同版本之间的兼容性及版本管理问题依然存在。
4　结束语
　　WWW电子地图库是国家空间信息基础设施(NSII)的重要组成部分，信息高速公路的建设和地理信息产业发展需要WWW电子地图库。建立WWW电子地图库的工作是巨大的，这需要大学、图书馆和政府部门之间的通力合作，美国已于1994年提出由30多所著名大学、美国自然科学基金会和国家高科技项目署联合建设国家空间数据基础设施(NSDI)的计划。我国的空间信息基础设施计划也已正式批准，我们应加紧建立WWW电子地图库，开辟新的网络服务领域，推动我国地理信息产业的发展。GP4是一个图形库，可以为大量的绘图设备提供有效的图形输出