计算机应用
COMPUTER APPLICATIONS
1999年 第19卷 第6期 Vol.19 No.6 1999



一种软件结构复杂度度量模型及其自动实现
王小明
　　摘　要　本文对软件结构中扇入/扇出对软件复杂度的影响进行分析,研究探讨了一种基于扇入/扇出的软件结构复杂度度量模型，给出了自动实现算法。本文旨在就中文笔式人群速记电脑系统中速记符的笔画分类及其数据结构作了详细的介绍，并对笔画识别的主要算法以及特征匹配处理的方法进行了深入研究，具有实用价值，并为下一步信息翻译处理的研究奠定了可靠的基础。
　　关键词　扇入，扇出，软件复杂度，模型
A MODEL OF MEASURING SOFTWARE STRUCTURE
COMPLEXITY AND ITS AUTO-REALIZATION
Wang Xiaoming
Computer Center,Gansu College of Economic Management， Gansu.Lanzhou，730070
　　Abstract　This paper analyzes the influence of fan-in and fan-out to software complexity in a software structure, and makes a study of some software structure complexity model, based on fan-in and fan-out，gives an automatic algorithm. the models have higher application value.
　　Keywords　Fan-in，Fan-out，Software complexity，Model
1　软件结构复杂度度量
　　在设计计算机大型软件的时候，无论是采用结构化方法还是面向对象技术，为了降低研究与设计的复杂度，总是采取“分而治之”的策略，即将要研究的大系统划分为多个规模适中的子系统，再通过对各子系统的研究设计、子系统集成，从而构成一个大型的软件系统。
2.4　存储过程创建
　　SQL SERVER中，存储过程是保存在一个数据库中一个名称下的语句集合。在一定程度上，软件系统的复杂度取决于各子系统之间的控制流与数据流的复杂程度。从软件设计的角度来看，这种控制流与数据流即是模块间的扇入与扇出。软件结构复杂度是指模块结构的复杂度和整个软件系统结构的复杂度。结构复杂度度量主要是对软件中的控制流和数据流以及模块间的接口复杂程度等进行度量。经典的结构复杂度度量方法常用模块的扇入/扇出数量来度量模块的复杂度。如图 4(b) 中曲线的链码为 :A=1,0,1,0,1,2,2,4,3,4 。软件结构的复杂度可表示为对应模块或子系统的扇入与扇出乘积的平方。而使用进化规划和启发式算法结合的方法求解 Steiner 问题，可以提高启发式算法的鲁棒性，当然这是在付出一定计算代价的前提下获得的。结构复杂度度量力求反映模块内部结构的复杂度以及模块间接口的复杂度，进而反映整个软件系统的结构复杂度。组件的粒度可大可小；组件具有良好的接口，同经典对象一样，组件只能通过其接口来访问；组件的实现与其接口是分离的，组件可以使用对象、过程式代码或封装现有的代码实现；组件是系统无关的，可以作为对象跨越地址空间、网络、语言、操作系统和工具来调用；组件还可支持封装、继承和多态等对象特性。本文在研究结构化系统设计与程序设计的基础上，将扇入/扇出对模块的复杂度影响分别讨论，给出了基于扇入/扇出的模块和系统结构复杂度定量度量的数学模型。使用这些模型可以在软件系统模块结构设计完成之后，对系统结构与模块的复杂程度作出定量度量，以便在祥细设计开始之前对复杂度过高的模块重新划分；对复杂度不合理的系统结构进行重新构建；对不同的系统结构方案进行复杂度比较，从中选择最优方案。
2　软件结构复杂度建模
2.1　软件工程若干准则
　　文献［2］［4］［5］［6］［7］中有关系统结构和模块复杂度理论可归纳如下：
　　准则1：结构化程序(系统)总是可以层次化的。
　　准则2：任一程序中，分枝结构比序列结构复杂；循环结构比分枝结构复杂。
　　准则3：任一程序中，隔层调用比逐层调用复杂；模块间自底向上调用(构成循环结构)比自顶向下调用复杂。将 G' 中的边映射回 G ，即得到所求的 Steiner 树。 
　　(2) 细胞区域的宽度和高度 
　　定义ai在X轴上的分量为aix，在X轴上的分量为aiy，aix与aiy的取值如表1所示： 
表 1 aix 与 aiy 的取值 
ajaixaiy
010
111
201
3-11
4-10
5-1-1
60-1
71-1

　　设 x0 与 y0 是起始点的坐标，则
　　宽度 
　　高度 
　　(3) 细胞区域的面积 
 (1) 其中， yi =yi-1 +aiy
　　(4) 细胞区域的圆度　　(2) 
　　圆度用于描述细胞区域与圆形的偏离程度。
2.2　若干概念
　　为了将扇入/扇出对模块(系统)结构复杂度的影响分开来讨论，以建立新的结构复杂度度量模型，引入如下几个概念。
　　扇出：指一个模块直接控制(调用)的模块数目。下面我们假设有一个用户需要一种非标的起重机，而且时间要求十分紧迫，以此为例来探讨一下VR在机械制造业中的应用。
　　模块总数(m)：系统中模块总个数。
　　深度层号：指软件结构从入口到出口各层次的顺序编号。
　　运用这一系统，设计者可得到起重机设计的初步配置。这样对每一片区图可逐一输入到计算机，对不同的地图要素可采用不同颜色来处理，这样拼接起来就是一幅南京市区全图。一个模块的扇入影响其本身的结构复杂度，并使其本身的结构复杂度按e(e=2.71828)的指数增长。模块的结构复杂度函数依赖于系统总模块数、系统深度、模块在系统中所处位置、扇入/扇出来源与去向等。
2.5　触发器创建
　　SQL SERVER中，触发器是一种特殊的存储过程，保存在数据库一个表中的一个名称下的SQL语句集合。
　　定义1:　由m个子模块构成的软件系统P,其子模块的结构复杂度定义为：
　　模块j的扇入复杂度:
Rj=m×hj×e｜j 模块深度层号-扇入i起点深度层号-1｜　　　　　　　　　　　(1)　
　　（q为j模块扇入总数, 1≤j≤m，m为模块总数，以下同）
　　模块j的扇出复杂度：
Cj=m×hj×2｜j 模块深度层号-扇入i终点深度层号+1｜　　　　　　　　　　　(2)　
　　（p为j模块扇出总数）
　　模块j的总复杂度:
　　　　　　　　　　　　　　(3)　
　　系统模块的平均复杂度：
　　　　　　　　　　　　　　(4)　
　　模块j的总复杂度相对于系统模块的平均复杂度的偏差：
　　　　　　　　　　　　　　　(5)　
　　依据软件工程理论，一个软件系统最优，不是某几个模块最优，而应该是所有模块优度均衡，从而使系统最优。本辅助设计方法能基本保证活动有条理地进行、保证活动的参与者都能事先得到明确的计划，不至于在进程中感到盲目或无所适从。
　　定义2:　由m个子模块构成的软件系统P,各模块的结构复杂度为Fj,则软件系统的结构复杂度为:
Z=Fj　　　　　　　　　　　　　　　　　(6)　
　　实践表明，当Kj≤-1时，该模块可能规模偏小，需同其它模块合并;当Kj≥1时，该模块可能规模偏大，需要进行再分解或调整控制流，使各结点复杂度达到基本的均衡，从而使整个系统结构复杂度达到较低水平。
3　结构复杂度度量的自动实现
　　定义3： 系统中模块所在层深度编号构成的行向量定义为：X=［x1,x2,x3,…,xm］。
关键词：人群速记符；笔画识别；特征匹配
Research on Discrimination and Characteristics Match of Handwritten Shorthand Symbol
Nie Ruihua,Wu Jiawei
(Department of Computer Science,South China Normal University,Guangzhou 510631)
【Abstract】This paper introduces handling method of stroke classification,data structure and characteristics mathch on Chiniese handwritten RenQuen shorthand symbol computer system,research into main algorithms for stroke discrimination of shorthand symbol.
【Key words】RenQuen shorthand symbol;Stroke discrimination;Characteristics match
　　速记是根据民族语言的特点，运用一套系统的简便符号和有规律的缩略方法，迅速记录语言、译写文字、笔录思维的先进书写技术。在更大的环境中，系统的可伸缩性，异构配置管理和网络监控变得至为重要。笔者构造了100多种不同规模的软件系统结构模型，并对实际使用中的10种大型管理信息系统使用C语言实现该算法，对系统模块和系统结构复杂度进行了自动度量分析；对同一系统的不同系统结构方案进行了度量分析比较,其结果比较理想。对于两字地名库存而言，库中结构为：
struet wtld1{char dm［4］；
/*两字地名名称*/
char tz［6］；
/*特征门牌号码*/
char th［2］；
/*图号*/　　　　
char zd［6］；
/*辖区中队队号*/
}wtld1［114］；
　　对于三字地名、四字地名、五字地名，皆如上法炮制。
作者简介：王小明　副教授。主要研究方向：软件工程、管理信息系统、数据库的教学和研究。从事管理信息 　　　　　　系统的软件开发